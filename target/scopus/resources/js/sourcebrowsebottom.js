;(function(){function r(val,args){for(var x=0;x<args.length;x++){val=val.replace('{'+x+'}',args[x]);}
return val;}
function p(){var val=arguments[0];var ret;if(val.indexOf('{0}')!=-1)
ret=function(){return r(val,arguments);}
else ret=function(){return val;}
for(var x=1;x<arguments.length;x++){for(var a in arguments[x])
ret[a]=arguments[x][a];}
return ret;}
window.srcBrowse=({"SOURCE_TYPE_P":p("Conference Proceedings"),"SOUR_PAGE_OPEN_ACCESS_CONTENT_LINK":p("Content info page."),"SOUR_SEARCH_SUBMIT":p("Submit search"),"SOUR_ASORTON_SRCTITLE_TOOLTIP":p("Sorted on Source title, ascending. Click to sort in reverse"),"SOURCE_TYPE_K":p("Book Series"),"SOUR_PAGE_OPEN_ACCESS_CONTENT_DOAJ":p("DOAJ"),"SOURCE_TYPE_J":p("Journals"),"SOUR_PAGE_OPEN_ACCESS_HELP_TOOLTIP":p("Please visit Scopus help to learn more about Open Access (Opens in a new window)"),"SOUR_DOCUMENTS_D":p("{0} documents with an unspecified date"),"SOUR_ASORTON_SJR_TOOLTIP":p("Sorted on SJR, ascending. Click to sort in reverse"),"SOUR_OUTWARD_LINK_ALT":p("(opens in a new window)"),"SOUR_SEARCH_TEXT_ALL":p("All"),"SOUR_DISPLAY_SOURCES":p("Display sources"),"SOURCE_TYPE_D":p("Trade Publications"),"SOUR_DISABLED_TITLE":p("Disabled"),"SOURCE_PAGE_TAB_BROWSE":p("Browse sources"),"SOUR_ALLSUBJ_663":p("All Subject Areas"),"SOUR_INCORPO_706":p("Incorporated in:"),"SOUR_PAGE_SCOPUS_TITLE_LIST_HELP_CONT":p("For questions and remarks regarding the Scopus Source List refer to "),"SOUR_SNIP_736":p("SNIP"),"SOUR_PAGE_OPEN_ACCESS_CONTENT":p("Journals covered by Scopus are indicated as Open Access if the journal is listed in the Directory of Open Access Journals ("),"SOUR_SEARCH_668":p("Search:"),"SOUR_COMPARE_JRL":p("Compare this journal with other journals"),"SOUR_EXPVOL_TOOLTIP":p("Expand this volume"),"SOUR_INCORPO_705":p("Incorporating:"),"SOUR_SEARCH_667":p("Search"),"SOUR_SUBSCRI_671_TOOLTIP":p("Your institution is subscribed to this journal"),"SOUR_COLLVOL_TOOLTIP":p("Collapse this volume"),"SOUR_PAGE_OPEN_ACCESS_CONTENT_ROAD":p("ROAD"),"SOUR_PAGE_SCOPUS_TITLE_HELP_TEXT":p("Help"),"SOUR_GETYRS_TITLE":p("Display documents from this journal for these years"),"SOUR_LIST_HEADER_TYPE":p("Type"),"SOUR_SNIPLNK_TOOLTIP":p("Learn more about SNIP and see additional metrics (Opens in a new window)"),"SOUR_DSORTON_SRCTITLE_STOOLTIP":p("Sorted on Source title (Descending)."),"SOUR_ARTICLE_687":p("Articles in press"),"SOUR_COVERAG_699":p("(coverage discontinued in Scopus)"),"SOUR_TITLE_SELECTED":p("(Selected)"),"SOUR_LATESTI_688":p("Latest issue:"),"SOUR_TITLESO_CiteScore":p("CiteScore"),"SOUR_TITLESO_682":p("Source Normalized Impact per Paper"),"SOUR_TIT_731":p("Title"),"SOUR_ALLSRC_725":p("All Sources"),"SOUR_ISSN_732":p("ISSN"),"SOUR_OTHER_693":p("Other"),"SOURCE_TYPE_J_TOOLTIP":p("This is a journal"),"SOUR_PAGE_SCOPUS_TITLE_HELP_TOOLTIP":p("About Scopus Source List (Opens in a new window)"),"SOUR_SJRLLNK_TOOLTIP":p("Learn more about SJR and see additional metrics (Opens in a new window)"),"SOUR_PAGE_SCOPUS_TITLE_LIST":p("Scopus Source List"),"SOUR_PAGE_OPEN_ACCESS_CONTENT_CONT":p(") and/or the Directory of Open Access Scholarly Resources ("),"SOUR_IN_669":p("in:"),"SOUR_FORMERL_703":p("Formerly part of:"),"SOUR_FORMERL_704":p("Formerly included in:"),"SOUR_ISSUE":p("Issue"),"SOUR_PAGINATION_PREVIOUS_TOP_OF_PAGE":p("Top of page"),"SOURCE_PAGE_TAB_SEARCH":p("Search for a source"),"SOUR_JOURNAl_PROFILE":p("View journal profile"),"SOUR_PAGE_CiteScoreTITLE":p("CiteScore"),"SOUR_PAGE_OPEN_ACCESS_INFO_LINK":p("For questions regarding Open Access Journals please see the"),"SOUR_PAGE_SCOPUS_DOWNLOAD_TEXT_TOOLTIP":p("Click here to download a Scopus Source list"),"SOUR_VOLUME_689":p("Volume"),"SOUR_FORMERL_702":p("Formerly known as:"),"SOUR_BROW_ALERT_NOSRCH":p("No search term entered. \\r\\nEnter one or more search terms and click Search."),"SOUR_PAGINATION_NEXT":p("Next"),"SOUR_PAGE_OPEN_ACCESS_CONTENT_DOAJ_TOOLTIP":p("Directory of Open Access Journals (Opens in a new window)"),"SOUR_ALL_SUBSCRIPTION":p("All subscription statuses"),"SOUR_RESULTS_697":p("results"),"SOURCE_TYPE_P_TOOLTIP":p("This is a conference proceeding"),"SOUR_VWCITYR_TITLE":p("View citation overview from this journal for this year"),"SOUR_ARTIPUB":p("Articles not published yet, but available online"),"SOUR_COVYRS_738":p("from {0} to {1}"),"SOUR_NONSUBS_670_TOOLTIP":p("Your institution is not subscribed to this journal"),"SOUR_NONSUBS_670":p("Non-subscribed"),"SOURCE_BROWSE_BOOK_SERIAL_NOTE":p("Only serial source titles are included in this list. For non-serial content such as books and monographs, please use Document Search."),"SOUR_SEEALSO_708":p("See also:"),"SOUR_TITLESC_681":p("SCImago Journal Rank"),"SOUR_TABLE_IMG_TOOLTIP":p("Sort by"),"SOUR_ALL_TITLE":p("Show all titles beginning with"),"SOUR_DSORTON_SNIP_STOOLTIP":p("Sorted on Source Normalized Impact per Paper (descending)."),"SOUR_SOURCET_664":p("Source types&nbsp;"),"SOUR_ASORTON_LBL":p("ascending"),"SOUR_JRLLNK_TOOLTIP":p("Learn more about journal metrics (Opens in a new window)"),"SOUR_SEARCH_TYPE_TOOLTIP":p("Search within"),"SOUR_DSORTON_RP_STOOLTIP":p("Sorted on CiteScore (descending)."),"SOUR_SRCH_TOOLTIP":p("Search source titles"),"SOUR_JNRLANA_740":p("View journal analyzer"),"SOUR_PAGE":{"cs":{"card":{"modal":{"text":p("CiteScore measures average citations received per document published in the serial.")}}},"OA":{"HELPCONTENT_3":p("<p>For questions regarding the Open Access Journal search options please see the {0}Scopus OA help file{1}.<\/p>"),"HELPCONTENT_2":p("<p>For questions regarding Open Access Journals please see the {0}Content info page{1}.<\/p>"),"HELPCONTENT_1":p("<p>Journals covered by Scopus are indicated as Open Access if the journal is listed in the Directory of Open Access Journals ({0}DOAJ{1}) and/or the Directory of Open Access Scholarly Resources ({2}ROAD{1}).<\/p>")},"snip":{"card":{"modal":{"text":p("Source Normalized Impact per Paper measures actual citations received relative to citations expected for the serial\u2019s subject field.")}}},"sjr":{"card":{"modal":{"text":p("SCImago Journal Rank measures weighted citations received by the serial. Citation weighting depends on subject field and prestige (SJR) of the citing serial.")}}}},"SOUR_PAGE_OPEN_ACCESS_INFO_LINK_TOOL_TIP":p("Elsevier content information page (Opens in a new window)"),"SOUR_SUBJECT_662":p("Subject Area&nbsp;"),"SOUR_OPEN_ACCESS_ACCESSBILITY":p("<span class=\"sr-only\">This source is <\/span> Open Access"),"SOUR_TPAGE_737":p("Top of page"),"SOUR_MAINCATOGERY_TITLE":p("Show titles beginning with"),"SOUR_CLCKSORT_SRCTITLE_TOOLTIP":p("Click to sort on Source title"),"SOUR_ASORTON_SRCTITLE_STOOLTIP":p("Sorted on Source title (A-Z)."),"SOUR_VIEW_686":p("View"),"SOUR_ALLSUBS_730":p("All subscriptions"),"SOUR_SJR_735":p("SJR"),"SOURCE_PAGE_OPEN_ACCESS_HELP_TOOLTIP_INFO_ICON":p("Learn more about Open Access"),"SOUR_PAGE_CiteScore":p("CiteScore"),"SOUR_PAGE_SCOPUS_TITLE_LIST_CONTENT":p("Scopus Source Browse and Source List are refreshed and updated three times per year. Sources are added to Scopus Source Browse and Source List after a threshold of 15 papers has been reached."),"SOUR_SUBCATOGERY_TITLE":p("Show all titles beginning with subcategory "),"SOUR_DSORTON_SNIP_TOOLTIP":p("Sorted on SNIP, descending. Click to sort in reverse"),"SOUR_ASORTON_SJR_STOOLTIP":p("Sorted on SJR, ascending."),"SOUR_LIST_HEADER_LEARNMORE_SJR":p("Learn more about SCImago Journal Rank"),"SOUR_SUBSCRI_666":p("Subscription status"),"SOUR_BSORTON_LBL":p("descending"),"SOUR_CiteScore_741":p("CiteScore"),"SOUR_PAGE_OPEN_ACCESS_TITLE":p("Open Access Journals"),"SOUR_PAGINATION_PREVIOUS":p("Previous"),"SOUR_DOCUMEN_685":p("Documents available from"),"SOUR_LBRY_SUB_MSG_START_ALONE":p("from {0}"),"SOUR_PAGE_SCOPUS_DOWNLOAD_TEXT":p("Download Scopus Source List"),"SOURCE_TYPE_UNSUBSCRIBED":p("Non-<wbr>subscribed"),"SOUR_GETYR_TITLE":p("Display documents from this journal for this year"),"SOUR_INVALID_SOURCE_WARNING_HEADER":p("Invalid Source ID"),"SOURCE_TYPE_D_TOOLTIP":p("This is a trade publication"),"SOUR_SNIPHLP_TOOLTIP":p("Source Normalized Impact per Paper measures contextual citation impact by weighting citations based on the total number of citations in a subject field."),"SOURCE_TYPE_SUBSCRIBED":p("Subscribed"),"SOUR_CLCKSORT_SNIP_TOOLTIP":p("Click to sort on SNIP"),"SOUR_SUBSCRI_671":p("Subscribed"),"SOUR_ASORTON_SNIP_STOOLTIP":p("Sorted on SNIP, ascending."),"SOUR_LIST_HEADER_LEARNMORE_SNIP":p("Learn more about Source Normalized Impact per Paper"),"SOUR_CONTINU_707":p("Continued as:"),"SOUR_DOCUMEN_695":p("{0} document"),"SOUR_ASORTON_SNIP_TOOLTIP":p("Sorted on SNIP, ascending. Click to sort in reverse"),"SOUR_SRCTIT_734":p("Source title"),"SOUR_CLCKSORT_SJR_TOOLTIP":p("Click to sort on SJR"),"SOUR_GOAC2_TOOLTIP":p("Click to display sources"),"SOUR_INVALID_SOURCE_WARNING_MESSAGE":p("You have entered a Source ID which is invalid or expired. Please use this Search form to locate information for your Source."),"SOUR_JOURNA_TOOLTIP":p("Scopus Journal Metrics offer the value of context with their citation measuring tools.  The metrics allow for direct comparison of journals, independent of their subject classification.  To learn more, visit: <a>www.journalmetrics.com<\/a>."),"SOUR_GET_TITLE":p("Get the documents from this issue"),"SOUR_DSORTON_SJR_STOOLTIP":p("Sorted on SCImago Journal Rank (descending)."),"SOUR_OPEN_ACCESS_DISPLAY":p("Display only Open Access journals"),"SOUR_WARNING_HEADER":p("No results found"),"SOUR_DSORTON_SJR_TOOLTIP":p("Sorted on SJR, descending. Click to sort in reverse"),"SOUR_PAGE_OPEN_ACCESS_CONTENT_ROAD_TOOLTIP":p("Directory of Open Access Scholarly Resources (Opens in a new window)"),"SOUR_PAGE_CiteScore_TOOLTIP":p("CiteScore measures the ratio of citations per article published in the journal."),"SOUR_DISPLAY_TITLES":p("Display discontinued titles "),"SOUR_DISSRC":p("Display sources"),"SOUR_PAGE_OPEN_ACCESS_HELP_LINK":p("Scopus OA help file."),"SOUR_JOURNAL_680":p("Journal Metrics"),"SOUR_PAGE_CiteScoreLNK_TOOLTIP":p("Learn more about CiteScore and see additional metrics (Opens in a new window)"),"SOUR_VIEWCIT_691":p("View citation overview"),"SOUR_DISPLAY_SOURCES_TOOLTIP":p("Click to display sources"),"SOUR_VOLISSUE":p("Volume {0}, Issue {1}"),"SOUR_COVYRS_PRST":p("from {0} to Present"),"SOUR_ARTICLE_TOOLTIP":p("About articles in press (opens in a new window)"),"SOUR_SJRHLP_TOOLTIP":p("SCImago Journal Rank is weighted by the prestige of a journal.  Subject field, quality and reputation of the journal have a direct effect on the value of a citation.  SJR also normalizes for differences in citation behavior between subject fields."),"SOUR_DOCUMEN_695_D":p("{0} document with an unspecified date"),"SOUR":{"DISABLED_TITLE":p("Disabled"),"NO_SEARCH_TERM":p("No search term entered"),"NO_SEARCH_TERM_ENTERED":p("No search term entered. \\r\\nEnter one or more search terms and click Search."),"ALL_TITLE":p("Show all titles beginning with "),"PREVIEW_SUBSCRIPTION_MESSAGE":p("You must be logged in or authenticated to use this filter"),"MAINCATOGERY_TITLE":p("Show titles beginning with "),"TITLE_SELECTED":p("(Selected)"),"SUBCATOGERY_TITLE":p("Show all titles beginning with subcategory ")},"SOUR_DSORTON_SRCTITLE_TOOLTIP":p("Sorted on Source title, descending. Click to sort in reverse"),"SOUR_PAGE_OPEN_ACCESS_HELP_TEXT":p("For questions regarding the Open Access Journal search options please see the "),"SOUR_GOAC1_TOOLTIP":p("Go activate source selections"),"SOUR_LBRY_SUB_MSG":p("from {0} to {1}"),"SOUR_THIRDPARTY_TEXT":p("(on {0})"),"SOUR_BROWSE":p("Browse"),"SOUR_LIST_HEADER_LEARNMORE_CS":p("Learn more about CiteScore"),"SOUR_ANDBEFO_694":p("&nbsp;and before"),"SOUR_GETVOL_TITLE":p("Display documents from this volume"),"SOUR_OPEN_ACCESS":p("Open Access"),"SOUR_SUBJECT_TOOL":p("Display journals within subject area"),"SOUR_VWCIT":p("View a citation overview of the documents from this volume"),"SOUR_DOCUMENTS":p("{0} documents"),"SOURCE_TYPE_K_TOOLTIP":p("This is a book series"),"SOUR_PUB_733":p("Publisher"),"SOUR_CLOSE_MODAL":p("Close window")})})();;(function(){function r(val,args){for(var x=0;x<args.length;x++){val=val.replace('{'+x+'}',args[x]);}
return val;}
function p(){var val=arguments[0];var ret;if(val.indexOf('{0}')!=-1)
ret=function(){return r(val,arguments);}
else ret=function(){return val;}
for(var x=1;x<arguments.length;x++){for(var a in arguments[x])
ret[a]=arguments[x][a];}
return ret;}
window.error=({"js":{"message":{"search":{"syntax":{"clear":{"icon":p("Clear input field ")},"orcid":{"format":{"message":p("To search using ORCID, please use a 16 digit (alpha) numerical value.")}}},"error":{"invalid":{"syntax":p("<span>The search contains a syntax error.<\/span>")}}}}}})})();function openSeperateWindow(pageToLoad,winName,width,height,center)
{if(winName=='popuptip'){loc=2;}else{loc=0;}
args=getArgs(width,height,center,0,loc);if((parseInt(navigator.appVersion)>=4)&&(center)){if(window.sepwindow){sepwindow.close();sepwindow=window.open(pageToLoad,winName,args);}}
sepwindow=window.open(pageToLoad,winName,args);return false;}
function openGlobalhelp(pageToLoad,winName,width,height,center){if(winName=='popuptip'){loc=2;}else{loc=0;}
args=getArgs(width,height,center,0,loc);if((parseInt(navigator.appVersion)>=4)&&(center)){if(window.globalhelp){globalhelp.close();globalhelp=window.open(pageToLoad,winName,args);}}
globalhelp=window.open(pageToLoad,winName,args);return false;}
function getArgs(width,height,center,menu,loc){xposition=10;yposition=10;if((parseInt(navigator.appVersion)>=4)&&(center)){if(loc==0){xposition=(screen.width-width)-10;yposition=(screen.height-height)-58;}else if(loc==1){xposition=(screen.width-width)/2;yposition=((screen.height-height)/2)-67;}else if(loc==2){xposition=(screen.width-width)-10;yposition=0;}}
if(navigator.appName=='Netscape'){width=width+25;height=height+25;}
args="width="+width+",height="+height+",toolbar="+menu+",menubar="+menu
+",screenx="+xposition+",screeny="+yposition+",left="+xposition+",top="+
yposition+",resizable=1,scrollbars=1,";return args;}
function openSizedWindow(url,winname){if((navigator.appName=="Microsoft Internet Explorer")&&(parseFloat(navigator.appVersion)<4))
{return false;}
var parms='width=750'+',height=450'+',screenX=0'+',screenY=0'+',left=0'+',top=0'+',status=yes,toolbar=yes,menubar=yes,location=yes'+',scrollbars=yes,resizable=yes';win=window.open(url,winname,parms);win.focus();return false;}
function openBareWindow(url,winname){if((navigator.appName=="Microsoft Internet Explorer")&&(parseFloat(navigator.appVersion)<4))
{return false;}
var parms='width=750'+',height=450'+',screenX=0'+',screenY=0'+',left=0'+',top=0'+',status=no,toolbar=no,menubar=no,location=no'+',scrollbars=no,resizable=no';win=window.open(url,winname,parms);win.focus();return false;}
function openPopUpWindow(url,title,width,height,pos,menubar,toolbar,status,resizable,scrollbars,location){var features=createWindowFeatures(width,height,pos,menubar,toolbar,status,resizable,scrollbars,location);return window.open(url,title,features);}
function createWindowFeatures(width,height,pos,menubar,toolbar,status,resizable,scrollbars,location){var xpos=0;var ypos=0;var xfudge=20;var yfudge=40;switch(pos){case 1:xpos=0;ypos=0;break;case 2:xpos=(screen.width-width-xfudge)/2;ypos=0;break;case 3:xpos=screen.width-width-xfudge;ypos=0;break;case 4:xpos=0;ypos=(screen.height-height-yfudge)/2;break;case 5:xpos=(screen.width-width-xfudge)/2;ypos=(screen.height-height-yfudge)/2;break;case 6:xpos=screen.width-width-xfudge;ypos=(screen.height-height-yfudge)/2;break;case 7:xpos=0;ypos=(screen.height-height-yfudge);break;case 8:xpos=(screen.width-width-xfudge)/2;ypos=(screen.height-height-yfudge);break;case 9:xpos=(screen.width-width-xfudge);ypos=(screen.height-height-yfudge-20);break;case 10:xpos=(screen.width-width-10);ypos=0;break;}
args="width="+width+",height="+height+",screenx="+xpos+",left="+xpos+",screeny="+ypos+",top="+ypos+",menubar="+menubar+",toolbar="+toolbar+",location="+location+",status="+status+",resizable="+resizable+",scrollbars="+scrollbars;return args;}
function getJSCheckedUrl(url){url=url+"&javascript=t";return url;}
function getIEVersion(){var ua=window.navigator.userAgent;var msie=ua.indexOf('MSIE ');if(msie>0){return parseInt(ua.substring(msie+5,ua.indexOf('.',msie)),10);}
var trident=ua.indexOf('Trident/');if(trident>0){var rv=ua.indexOf('rv:');return parseInt(ua.substring(rv+3,ua.indexOf('.',rv)),10);}
var edge=ua.indexOf('Edge/');if(edge>0){return parseInt(ua.substring(edge+5,ua.indexOf('.',edge)),10);}
return false;}
function clearForm(form){for(var i=0;i<form.elements.length;i++){if(form.elements[i].type!="hidden"){if(form.elements[i].type=="checkbox"){form.elements[i].checked=false;}else{form.elements[i].value="";}}}
return false;}
function flipLogin(button,from){if(from=="loginbox"){var t=jQuery('#loginBox');var u=jQuery('#loginPlus');if(t.css('display')=="none"){t.css('display','block');u.removeClass('plus');u.addClass('minus bg2');}else{t.css('display','none');u.removeClass('minus bg2');u.addClass('plus');}
showLoginBoxPos();}
if(from=="logoutbox"){var t=jQuery('#logoutBox');var u=jQuery('#logoutPlus');if(t.css('display')=="none"){t.css('display','block');u.removeClass('plus');u.addClass('minus bg2');}else{t.css('display','none');u.removeClass('minus bg2');u.addClass('plus');}
showLogoutBoxPos();}}
function showLoginBoxPos(){var divJSLogin=jQuery('#divJSLogin');var divJSLoginWidth=jQuery('#divJSLogin').width();var loginBox=jQuery("#loginBox");var divJSLoginLeftPos=divJSLogin.offset().left;var totalWidthPos=divJSLoginLeftPos+divJSLoginWidth;var windowWidth=jQuery(window).width();loginBox.css('right',windowWidth-totalWidthPos);}
function showLogoutBoxPos(){var logoutPlus=jQuery('a#logoutPlus');var logoutPlusWidth=logoutPlus.width()+20;var logoutBox=jQuery("#logoutBox");var logoutPlusLeftPos=logoutPlus.offset().left;var totalWidthPos=logoutPlusLeftPos+logoutPlusWidth;var windowWidth=jQuery(window).width();logoutBox.css({'right':windowWidth-totalWidthPos,'top':'26px'});}
function submitForm(actionUri){var associationForm=document.getElementById("associationForm");associationForm.action=actionUri;jQuery("#associationForm input[name=http_method_name]").val("GET");associationForm.submit();}
jQuery.fn.selectRange=function(start,end){if(!end)end=start;return this.each(function(){if(this.setSelectionRange){this.focus();this.setSelectionRange(start,end);}else if(this.createTextRange){var range=this.createTextRange();range.collapse(true);range.moveEnd('character',end);range.moveStart('character',start);range.select();}});};function placeHolderInit(){var placeHolderSupport=false;var test=document.createElement('input');if('placeholder'in test)placeHolderSupport=true;if(!placeHolderSupport){jQuery('[placeholder]').unbind('keydown,blur,click').click(function(){jQuery(this).focus();jQuery(this).selectRange(0);}).keydown(function(){var input=jQuery(this);if(input.val()==input.attr('placeholder')){input.val('');input.removeClass('placeholder');}}).blur(function(){var input=jQuery(this);if(input.val()==''||input.val()==input.attr('placeholder')){input.addClass('placeholder');input.val(input.attr('placeholder'));}}).blur().parents('form').submit(function(){jQuery(this).find('[placeholder]').each(function(){var input=jQuery(this);if(input.val()==input.attr('placeholder')){input.val('');}});});}}
function processAlertClick(button){jQuery("#alertClick").val(button);document.SourceInfoForm.submit();}
jQuery(document).ready(function(){var txtZoneMsgBar=jQuery('#messageBar');if(txtZoneMsgBar.length){if(jQuery.trim(jQuery('#messageBar div').html())!=''){txtZoneMsgBar.addClass('displayBlock').removeClass('displayNone');}else{txtZoneMsgBar.addClass('displayNone').removeClass('displayBlock');}}
var pipeObj=jQuery("#hasjs");if(pipeObj!=null&&pipeObj!='undefined'&&pipeObj!=''){pipeObj.parent().css("background","none");}
if(jQuery('#logout_username').length&&jQuery('#settings-panel').length){myScopusCarsResponse();jQuery(window).resize(function(){setMyScopusPanelHeight();});}
if(jQuery('.ie9InfoMsgCnt').length){if(getIEVersion()==9){jQuery('.ie9InfoMsgCnt').removeClass('displayNone');}
else{jQuery('.ie9InfoMsgCnt').addClass('displayNone');}}});function myScopusCarsResponse(){var getLoginUserName=jQuery('#logout_username').text();var myScopusTxt=jQuery('#mainNav .myScopusTxt').text();jQuery('#settings-panel .CARS_panelTitle').html('<span>'+myScopusTxt+'</span><label class="carsUsrName">- '+getLoginUserName+'</label>').css({'display':'block'});setMyScopusPanelHeight();}
function setMyScopusPanelHeight(){jQuery('#settings-app-links-top').height('');jQuery('#modify-profile-group').height('');var settingAppLinksHeight=jQuery('#settings-app-links-top').height();var modifyProfileGrpHeight=jQuery('#modify-profile-group').height();if(settingAppLinksHeight>modifyProfileGrpHeight){jQuery('#modify-profile-group').css({'height':settingAppLinksHeight});}
else if(settingAppLinksHeight<modifyProfileGrpHeight){jQuery('#settings-app-links-top').css({'height':modifyProfileGrpHeight});}}
function assertNotEmpty(control){assertNotEmpty(control,'');}
function assertNotEmpty(control,message){var reg=/\S/g;if(control.value==null||control.value==''||control.value.match(reg)==null){if(message!=null&&message!=''){alert(message);}
control.focus();control.select();return false;}
return true;}
function assertNotEmptyString(thisString){var reg=/\S/g;if(thisString==null||thisString==''||thisString.match(reg)==null){return false;}
return true;}
var InfoBubble={bubbleTimeout:2,currentBubble:null,timeoutBubbleID:null,show:function(aID){var aBubble=document.getElementById(aID);if(aBubble&&aBubble!=this.currentBubble){this.hide();aBubble.style.display='inline';this.currentBubble=aBubble;}
if(this.timeoutBubbleID){clearTimeout(this.timeoutBubbleID);}},hide:function(){if(this.currentBubble){this.currentBubble.style.display='none';this.currentBubble=null;if(this.timeoutBubbleID){clearTimeout(this.timeoutBubbleID);}}},timeout:function(){this.timeoutBubbleID=setTimeout('InfoBubble.hide()',this.bubbleTimeout*1000);}};function writeXmlHttpRequestCookie()
{document.cookie="xmlHttpRequest=true; path=/";}
jQuery(writeXmlHttpRequestCookie);function internalServerErrorHandler(request){if(request.getResponseHeader("sessionExpired")=="true")
{window.location="standard/sessionexpired.uri";}}
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory);}else{factory(jQuery);}}(function($){$.ui=$.ui||{};$.extend($.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});$.fn.extend({scrollParent:function(includeHidden){var position=this.css("position"),excludeStaticParent=position==="absolute",overflowRegex=includeHidden?/(auto|scroll|hidden)/:/(auto|scroll)/,scrollParent=this.parents().filter(function(){var parent=$(this);if(excludeStaticParent&&parent.css("position")==="static"){return false;}
return overflowRegex.test(parent.css("overflow")+parent.css("overflow-y")+parent.css("overflow-x"));}).eq(0);return position==="fixed"||!scrollParent.length?$(this[0].ownerDocument||document):scrollParent;},uniqueId:(function(){var uuid=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++uuid);}});};})(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){$(this).removeAttr("id");}});}});function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false;}
img=$("img[usemap='#"+mapName+"']")[0];return!!img&&visible(img);}
return(/^(input|select|textarea|button|object)$/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element);}
function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return $.css(this,"visibility")==="hidden";}).length;}
$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName);};}):function(elem,i,match){return!!$.data(elem,match[3]);},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")));},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN);}});if(!$("<a>").outerWidth(1).jquery){$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;if(border){size-=parseFloat($.css(elem,"border"+this+"Width"))||0;}
if(margin){size-=parseFloat($.css(elem,"margin"+this))||0;}});return size;}
$.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this);}
return this.each(function(){$(this).css(type,reduce(this,size)+"px");});};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size);}
return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px");});};});}
if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};}
if($("<a>").data("a-b","a").removeData("a-b").data("a-b")){$.fn.removeData=(function(removeData){return function(key){if(arguments.length){return removeData.call(this,$.camelCase(key));}else{return removeData.call(this);}};})($.fn.removeData);}
$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());$.fn.extend({focus:(function(orig){return function(delay,fn){return typeof delay==="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();if(fn){fn.call(elem);}},delay);}):orig.apply(this,arguments);};})($.fn.focus),disableSelection:(function(){var eventType="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(eventType+".ui-disableSelection",function(event){event.preventDefault();});};})(),enableSelection:function(){return this.unbind(".ui-disableSelection");},zIndex:function(zIndex){if(zIndex!==undefined){return this.css("zIndex",zIndex);}
if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value;}}
elem=elem.parent();}}
return 0;}});$.ui.plugin={add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]]);}},call:function(instance,name,args,allowDisconnected){var i,set=instance.plugins[name];if(!set){return;}
if(!allowDisconnected&&(!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11)){return;}
for(i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args);}}}};var widget_uuid=0,widget_slice=Array.prototype.slice;$.cleanData=(function(orig){return function(elems){var events,elem,i;for(i=0;(elem=elems[i])!=null;i++){try{events=$._data(elem,"events");if(events&&events.remove){$(elem).triggerHandler("remove");}}catch(e){}}
orig(elems);};})($.cleanData);$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget;}
$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName);};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element);}
if(arguments.length){this._createWidget(options,element);}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base();basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return;}
proxiedPrototype[prop]=(function(){var _super=function(){return base.prototype[prop].apply(this,arguments);},_superApply=function(args){return base.prototype[prop].apply(this,args);};return function(){var __super=this._super,__superApply=this._superApply,returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue;};})();});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?(basePrototype.widgetEventPrefix||name):name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto);});delete existingConstructor._childConstructors;}else{base._childConstructors.push(constructor);}
$.widget.bridge(name,constructor);return constructor;};$.widget.extend=function(target){var input=widget_slice.call(arguments,1),inputIndex=0,inputLength=input.length,key,value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value);}else{target[key]=value;}}}}
return target;};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=widget_slice.call(arguments,1),returnValue=this;if(isMethodCall){this.each(function(){var methodValue,instance=$.data(this,fullName);if(options==="instance"){returnValue=instance;return false;}
if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'");}
if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance");}
methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false;}});}else{if(args.length){options=$.widget.extend.apply(null,[options].concat(args));}
this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{});if(instance._init){instance._init();}}else{$.data(this,fullName,new object(options,this));}});}
return returnValue;};};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=widget_uuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=$();this.hoverable=$();this.focusable=$();if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===element){this.destroy();}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow);}
this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this._create();this._trigger("create",null,this._getCreateEventData());this._init();},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");},_destroy:$.noop,widget:function(){return this.element;},option:function(key,value){var options=key,parts,curOption,i;if(arguments.length===0){return $.widget.extend({},this.options);}
if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]];}
key=parts.pop();if(arguments.length===1){return curOption[key]===undefined?null:curOption[key];}
curOption[key]=value;}else{if(arguments.length===1){return this.options[key]===undefined?null:this.options[key];}
options[key]=value;}}
this._setOptions(options);return this;},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key]);}
return this;},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled",!!value);if(value){this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");}}
return this;},enable:function(){return this._setOptions({disabled:false});},disable:function(){return this._setOptions({disabled:true});},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false;}
if(!handlers){handlers=element;element=this.element;delegateElement=this.widget();}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element);}
$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return;}
return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++;}
var match=event.match(/^([\w:-]*)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];if(selector){delegateElement.delegate(selector,eventName,handlerProxy);}else{element.bind(eventName,handlerProxy);}});},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+
this.eventNamespace;element.unbind(eventName).undelegate(eventName);this.bindings=$(this.bindings.not(element).get());this.focusable=$(this.focusable.not(element).get());this.hoverable=$(this.hoverable.not(element).get());},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
var instance=this;return setTimeout(handlerProxy,delay||0);},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover");},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover");}});},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus");},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus");}});},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop];}}}
this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented());}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options};}
var hasOptions,effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options};}
hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay);}
if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options);}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback);}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0]);}
next();});}};});var widget=$.widget;var mouseHandled=false;$(document).mouseup(function(){mouseHandled=false;});var mouse=$.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.bind("mousedown."+this.widgetName,function(event){return that._mouseDown(event);}).bind("click."+this.widgetName,function(event){if(true===$.data(event.target,that.widgetName+".preventClickEvent")){$.removeData(event.target,that.widgetName+".preventClickEvent");event.stopImmediatePropagation();return false;}});this.started=false;},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);}},_mouseDown:function(event){if(mouseHandled){return;}
this._mouseMoved=false;(this._mouseStarted&&this._mouseUp(event));this._mouseDownEvent=event;var that=this,btnIsLeft=(event.which===1),elIsCancel=(typeof this.options.cancel==="string"&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:false);if(!btnIsLeft||elIsCancel||!this._mouseCapture(event)){return true;}
this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=true;},this.options.delay);}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(event)!==false);if(!this._mouseStarted){event.preventDefault();return true;}}
if(true===$.data(event.target,this.widgetName+".preventClickEvent")){$.removeData(event.target,this.widgetName+".preventClickEvent");}
this._mouseMoveDelegate=function(event){return that._mouseMove(event);};this._mouseUpDelegate=function(event){return that._mouseUp(event);};this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);event.preventDefault();mouseHandled=true;return true;},_mouseMove:function(event){if(this._mouseMoved){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button){return this._mouseUp(event);}else if(!event.which){return this._mouseUp(event);}}
if(event.which||event.button){this._mouseMoved=true;}
if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault();}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,event)!==false);(this._mouseStarted?this._mouseDrag(event):this._mouseUp(event));}
return!this._mouseStarted;},_mouseUp:function(event){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(event.target===this._mouseDownEvent.target){$.data(event.target,this.widgetName+".preventClickEvent",true);}
this._mouseStop(event);}
mouseHandled=false;return false;},_mouseDistanceMet:function(event){return(Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance);},_mouseDelayMet:function(){return this.mouseDelayMet;},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true;}});(function(){$.ui=$.ui||{};var cachedScrollbarWidth,supportsOffsetFractions,max=Math.max,abs=Math.abs,round=Math.round,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)];}
function parseCss(element,property){return parseInt($.css(element,property),10)||0;}
function getDimensions(elem){var raw=elem[0];if(raw.nodeType===9){return{width:elem.width(),height:elem.height(),offset:{top:0,left:0}};}
if($.isWindow(raw)){return{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}};}
if(raw.preventDefault){return{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}};}
return{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()};}
$.position={scrollbarWidth:function(){if(cachedScrollbarWidth!==undefined){return cachedScrollbarWidth;}
var w1,w2,div=$("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];$("body").append(div);w1=innerDiv.offsetWidth;div.css("overflow","scroll");w2=innerDiv.offsetWidth;if(w1===w2){w2=div[0].clientWidth;}
div.remove();return(cachedScrollbarWidth=w1-w2);},getScrollInfo:function(within){var overflowX=within.isWindow||within.isDocument?"":within.element.css("overflow-x"),overflowY=within.isWindow||within.isDocument?"":within.element.css("overflow-y"),hasOverflowX=overflowX==="scroll"||(overflowX==="auto"&&within.width<within.element[0].scrollWidth),hasOverflowY=overflowY==="scroll"||(overflowY==="auto"&&within.height<within.element[0].scrollHeight);return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0};},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]),isDocument=!!withinElement[0]&&withinElement[0].nodeType===9;return{element:withinElement,isWindow:isWindow,isDocument:isDocument,offset:withinElement.offset()||{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:isWindow||isDocument?withinElement.width():withinElement.outerWidth(),height:isWindow||isDocument?withinElement.height():withinElement.outerHeight()};}};$.fn.position=function(options){if(!options||!options.of){return _position.apply(this,arguments);}
options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};dimensions=getDimensions(target);if(target[0].preventDefault){options.at="left top";}
targetWidth=dimensions.width;targetHeight=dimensions.height;targetOffset=dimensions.offset;basePosition=$.extend({},targetOffset);$.each(["my","at"],function(){var pos=(options[this]||"").split(" "),horizontalOffset,verticalOffset;if(pos.length===1){pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"];}
pos[0]=rhorizontal.test(pos[0])?pos[0]:"center";pos[1]=rvertical.test(pos[1])?pos[1]:"center";horizontalOffset=roffset.exec(pos[0]);verticalOffset=roffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]];});if(collision.length===1){collision[1]=collision[0];}
if(options.at[0]==="right"){basePosition.left+=targetWidth;}else if(options.at[0]==="center"){basePosition.left+=targetWidth/2;}
if(options.at[1]==="bottom"){basePosition.top+=targetHeight;}else if(options.at[1]==="center"){basePosition.top+=targetHeight/2;}
atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==="right"){position.left-=elemWidth;}else if(options.my[0]==="center"){position.left-=elemWidth/2;}
if(options.my[1]==="bottom"){position.top-=elemHeight;}else if(options.my[1]==="center"){position.top-=elemHeight/2;}
position.left+=myOffset[0];position.top+=myOffset[1];if(!supportsOffsetFractions){position.left=round(position.left);position.top=round(position.top);}
collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]]){$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem});}});if(options.using){using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":left>0?"right":"center",vertical:bottom<0?"top":top>0?"bottom":"middle"};if(targetWidth<elemWidth&&abs(left+right)<targetWidth){feedback.horizontal="center";}
if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight){feedback.vertical="middle";}
if(max(abs(left),abs(right))>max(abs(top),abs(bottom))){feedback.important="horizontal";}else{feedback.important="vertical";}
options.using.call(this,props,feedback);};}
elem.offset($.extend(position,{using:using}));});};$.ui.position={fit:{left:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;if(data.collisionWidth>outerWidth){if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset;position.left+=overLeft-newOverRight;}else if(overRight>0&&overLeft<=0){position.left=withinOffset;}else{if(overLeft>overRight){position.left=withinOffset+outerWidth-data.collisionWidth;}else{position.left=withinOffset;}}}else if(overLeft>0){position.left+=overLeft;}else if(overRight>0){position.left-=overRight;}else{position.left=max(position.left-collisionPosLeft,position.left);}},top:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset,newOverBottom;if(data.collisionHeight>outerHeight){if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset;position.top+=overTop-newOverBottom;}else if(overBottom>0&&overTop<=0){position.top=withinOffset;}else{if(overTop>overBottom){position.top=withinOffset+outerHeight-data.collisionHeight;}else{position.top=withinOffset;}}}else if(overTop>0){position.top+=overTop;}else if(overBottom>0){position.top-=overBottom;}else{position.top=max(position.top-collisionPosTop,position.top);}}},flip:{left:function(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,atOffset=data.at[0]==="left"?data.targetWidth:data.at[0]==="right"?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft)){position.left+=myOffset+atOffset+offset;}}else if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight){position.left+=myOffset+atOffset+offset;}}},top:function(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]==="top",myOffset=top?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:data.at[1]==="bottom"?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset;if(newOverBottom<0||newOverBottom<abs(overTop)){position.top+=myOffset+atOffset+offset;}}else if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop;if(newOverTop>0||abs(newOverTop)<overBottom){position.top+=myOffset+atOffset+offset;}}}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments);$.ui.position.fit.left.apply(this,arguments);},top:function(){$.ui.position.flip.top.apply(this,arguments);$.ui.position.fit.top.apply(this,arguments);}}};(function(){var testElement,testElementParent,testElementStyle,offsetLeft,i,body=document.getElementsByTagName("body")[0],div=document.createElement("div");testElement=document.createElement(body?"div":"body");testElementStyle={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(body){$.extend(testElementStyle,{position:"absolute",left:"-1000px",top:"-1000px"});}
for(i in testElementStyle){testElement.style[i]=testElementStyle[i];}
testElement.appendChild(div);testElementParent=body||document.documentElement;testElementParent.insertBefore(testElement,testElementParent.firstChild);div.style.cssText="position: absolute; left: 10.7432222px;";offsetLeft=$(div).offset().left;supportsOffsetFractions=offsetLeft>10&&offsetLeft<11;testElement.innerHTML="";testElementParent.removeChild(testElement);})();})();var position=$.ui.position;$.widget("ui.draggable",$.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"){this._setPositionRelative();}
if(this.options.addClasses){this.element.addClass("ui-draggable");}
if(this.options.disabled){this.element.addClass("ui-draggable-disabled");}
this._setHandleClassName();this._mouseInit();},_setOption:function(key,value){this._super(key,value);if(key==="handle"){this._removeHandleClassName();this._setHandleClassName();}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return;}
this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._removeHandleClassName();this._mouseDestroy();},_mouseCapture:function(event){var o=this.options;this._blurActiveElement(event);if(this.helper||o.disabled||$(event.target).closest(".ui-resizable-handle").length>0){return false;}
this.handle=this._getHandle(event);if(!this.handle){return false;}
this._blockFrames(o.iframeFix===true?"iframe":o.iframeFix);return true;},_blockFrames:function(selector){this.iframeBlocks=this.document.find(selector).map(function(){var iframe=$(this);return $("<div>").css("position","absolute").appendTo(iframe.parent()).outerWidth(iframe.outerWidth()).outerHeight(iframe.outerHeight()).offset(iframe.offset())[0];});},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks;}},_blurActiveElement:function(event){var document=this.document[0];if(!this.handleElement.is(event.target)){return;}
try{if(document.activeElement&&document.activeElement.nodeName.toLowerCase()!=="body"){$(document.activeElement).blur();}}catch(error){}},_mouseStart:function(event){var o=this.options;this.helper=this._createHelper(event);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if($.ui.ddmanager){$.ui.ddmanager.current=this;}
this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return $(this).css("position")==="fixed";}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(event);this.originalPosition=this.position=this._generatePosition(event,false);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));this._setContainment();if(this._trigger("start",event)===false){this._clear();return false;}
this._cacheHelperProportions();if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}
this._normalizeRightBottom();this._mouseDrag(event,true);if($.ui.ddmanager){$.ui.ddmanager.dragStart(this,event);}
return true;},_refreshOffsets:function(event){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:event.pageX-this.offset.left,top:event.pageY-this.offset.top};},_mouseDrag:function(event,noPropagation){if(this.hasFixedAncestor){this.offset.parent=this._getParentOffset();}
this.position=this._generatePosition(event,true);this.positionAbs=this._convertPositionTo("absolute");if(!noPropagation){var ui=this._uiHash();if(this._trigger("drag",event,ui)===false){this._mouseUp({});return false;}
this.position=ui.position;}
this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";if($.ui.ddmanager){$.ui.ddmanager.drag(this,event);}
return false;},_mouseStop:function(event){var that=this,dropped=false;if($.ui.ddmanager&&!this.options.dropBehaviour){dropped=$.ui.ddmanager.drop(this,event);}
if(this.dropped){dropped=this.dropped;this.dropped=false;}
if((this.options.revert==="invalid"&&!dropped)||(this.options.revert==="valid"&&dropped)||this.options.revert===true||($.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped))){$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(that._trigger("stop",event)!==false){that._clear();}});}else{if(this._trigger("stop",event)!==false){this._clear();}}
return false;},_mouseUp:function(event){this._unblockFrames();if($.ui.ddmanager){$.ui.ddmanager.dragStop(this,event);}
if(this.handleElement.is(event.target)){this.element.focus();}
return $.ui.mouse.prototype._mouseUp.call(this,event);},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({});}else{this._clear();}
return this;},_getHandle:function(event){return this.options.handle?!!$(event.target).closest(this.element.find(this.options.handle)).length:true;},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this.handleElement.addClass("ui-draggable-handle");},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle");},_createHelper:function(event){var o=this.options,helperIsFunction=$.isFunction(o.helper),helper=helperIsFunction?$(o.helper.apply(this.element[0],[event])):(o.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!helper.parents("body").length){helper.appendTo((o.appendTo==="parent"?this.element[0].parentNode:o.appendTo));}
if(helperIsFunction&&helper[0]===this.element[0]){this._setPositionRelative();}
if(helper[0]!==this.element[0]&&!(/(fixed|absolute)/).test(helper.css("position"))){helper.css("position","absolute");}
return helper;},_setPositionRelative:function(){if(!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative";}},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ");}
if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}
if("left"in obj){this.offset.click.left=obj.left+this.margins.left;}
if("right"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}
if("top"in obj){this.offset.click.top=obj.top+this.margins.top;}
if("bottom"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_isRootNode:function(element){return(/(html|body)/i).test(element.tagName)||element===this.document[0];},_getParentOffset:function(){var po=this.offsetParent.offset(),document=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}
if(this._isRootNode(this.offsetParent[0])){po={top:0,left:0};}
return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition!=="relative"){return{top:0,left:0};}
var p=this.element.position(),scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+(!scrollIsRootNode?this.scrollParent.scrollTop():0),left:p.left-(parseInt(this.helper.css("left"),10)||0)+(!scrollIsRootNode?this.scrollParent.scrollLeft():0)};},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var isUserScrollable,c,ce,o=this.options,document=this.document[0];this.relativeContainer=null;if(!o.containment){this.containment=null;return;}
if(o.containment==="window"){this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-this.helperProportions.width-this.margins.left,$(window).scrollTop()+($(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return;}
if(o.containment==="document"){this.containment=[0,0,$(document).width()-this.helperProportions.width-this.margins.left,($(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return;}
if(o.containment.constructor===Array){this.containment=o.containment;return;}
if(o.containment==="parent"){o.containment=this.helper[0].parentNode;}
c=$(o.containment);ce=c[0];if(!ce){return;}
isUserScrollable=/(scroll|auto)/.test(c.css("overflow"));this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(isUserScrollable?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-
(parseInt(c.css("borderRightWidth"),10)||0)-
(parseInt(c.css("paddingRight"),10)||0)-
this.helperProportions.width-
this.margins.left-
this.margins.right,(isUserScrollable?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-
(parseInt(c.css("borderBottomWidth"),10)||0)-
(parseInt(c.css("paddingBottom"),10)||0)-
this.helperProportions.height-
this.margins.top-
this.margins.bottom];this.relativeContainer=c;},_convertPositionTo:function(d,pos){if(!pos){pos=this.position;}
var mod=d==="absolute"?1:-1,scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:(pos.top+
this.offset.relative.top*mod+
this.offset.parent.top*mod-
((this.cssPosition==="fixed"?-this.offset.scroll.top:(scrollIsRootNode?0:this.offset.scroll.top))*mod)),left:(pos.left+
this.offset.relative.left*mod+
this.offset.parent.left*mod-
((this.cssPosition==="fixed"?-this.offset.scroll.left:(scrollIsRootNode?0:this.offset.scroll.left))*mod))};},_generatePosition:function(event,constrainPosition){var containment,co,top,left,o=this.options,scrollIsRootNode=this._isRootNode(this.scrollParent[0]),pageX=event.pageX,pageY=event.pageY;if(!scrollIsRootNode||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()};}
if(constrainPosition){if(this.containment){if(this.relativeContainer){co=this.relativeContainer.offset();containment=[this.containment[0]+co.left,this.containment[1]+co.top,this.containment[2]+co.left,this.containment[3]+co.top];}else{containment=this.containment;}
if(event.pageX-this.offset.click.left<containment[0]){pageX=containment[0]+this.offset.click.left;}
if(event.pageY-this.offset.click.top<containment[1]){pageY=containment[1]+this.offset.click.top;}
if(event.pageX-this.offset.click.left>containment[2]){pageX=containment[2]+this.offset.click.left;}
if(event.pageY-this.offset.click.top>containment[3]){pageY=containment[3]+this.offset.click.top;}}
if(o.grid){top=o.grid[1]?this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;pageY=containment?((top-this.offset.click.top>=containment[1]||top-this.offset.click.top>containment[3])?top:((top-this.offset.click.top>=containment[1])?top-o.grid[1]:top+o.grid[1])):top;left=o.grid[0]?this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;pageX=containment?((left-this.offset.click.left>=containment[0]||left-this.offset.click.left>containment[2])?left:((left-this.offset.click.left>=containment[0])?left-o.grid[0]:left+o.grid[0])):left;}
if(o.axis==="y"){pageX=this.originalPageX;}
if(o.axis==="x"){pageY=this.originalPageY;}}
return{top:(pageY-
this.offset.click.top-
this.offset.relative.top-
this.offset.parent.top+
(this.cssPosition==="fixed"?-this.offset.scroll.top:(scrollIsRootNode?0:this.offset.scroll.top))),left:(pageX-
this.offset.click.left-
this.offset.relative.left-
this.offset.parent.left+
(this.cssPosition==="fixed"?-this.offset.scroll.left:(scrollIsRootNode?0:this.offset.scroll.left)))};},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove();}
this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy();}},_normalizeRightBottom:function(){if(this.options.axis!=="y"&&this.helper.css("right")!=="auto"){this.helper.width(this.helper.width());this.helper.css("right","auto");}
if(this.options.axis!=="x"&&this.helper.css("bottom")!=="auto"){this.helper.height(this.helper.height());this.helper.css("bottom","auto");}},_trigger:function(type,event,ui){ui=ui||this._uiHash();$.ui.plugin.call(this,type,[event,ui,this],true);if(/^(drag|start|stop)/.test(type)){this.positionAbs=this._convertPositionTo("absolute");ui.offset=this.positionAbs;}
return $.Widget.prototype._trigger.call(this,type,event,ui);},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs};}});$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.sortables=[];$(draggable.options.connectToSortable).each(function(){var sortable=$(this).sortable("instance");if(sortable&&!sortable.options.disabled){draggable.sortables.push(sortable);sortable.refreshPositions();sortable._trigger("activate",event,uiSortable);}});},stop:function(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.cancelHelperRemoval=false;$.each(draggable.sortables,function(){var sortable=this;if(sortable.isOver){sortable.isOver=0;draggable.cancelHelperRemoval=true;sortable.cancelHelperRemoval=false;sortable._storedCSS={position:sortable.placeholder.css("position"),top:sortable.placeholder.css("top"),left:sortable.placeholder.css("left")};sortable._mouseStop(event);sortable.options.helper=sortable.options._helper;}else{sortable.cancelHelperRemoval=true;sortable._trigger("deactivate",event,uiSortable);}});},drag:function(event,ui,draggable){$.each(draggable.sortables,function(){var innermostIntersecting=false,sortable=this;sortable.positionAbs=draggable.positionAbs;sortable.helperProportions=draggable.helperProportions;sortable.offset.click=draggable.offset.click;if(sortable._intersectsWith(sortable.containerCache)){innermostIntersecting=true;$.each(draggable.sortables,function(){this.positionAbs=draggable.positionAbs;this.helperProportions=draggable.helperProportions;this.offset.click=draggable.offset.click;if(this!==sortable&&this._intersectsWith(this.containerCache)&&$.contains(sortable.element[0],this.element[0])){innermostIntersecting=false;}
return innermostIntersecting;});}
if(innermostIntersecting){if(!sortable.isOver){sortable.isOver=1;draggable._parent=ui.helper.parent();sortable.currentItem=ui.helper.appendTo(sortable.element).data("ui-sortable-item",true);sortable.options._helper=sortable.options.helper;sortable.options.helper=function(){return ui.helper[0];};event.target=sortable.currentItem[0];sortable._mouseCapture(event,true);sortable._mouseStart(event,true,true);sortable.offset.click.top=draggable.offset.click.top;sortable.offset.click.left=draggable.offset.click.left;sortable.offset.parent.left-=draggable.offset.parent.left-
sortable.offset.parent.left;sortable.offset.parent.top-=draggable.offset.parent.top-
sortable.offset.parent.top;draggable._trigger("toSortable",event);draggable.dropped=sortable.element;$.each(draggable.sortables,function(){this.refreshPositions();});draggable.currentItem=draggable.element;sortable.fromOutside=draggable;}
if(sortable.currentItem){sortable._mouseDrag(event);ui.position=sortable.position;}}else{if(sortable.isOver){sortable.isOver=0;sortable.cancelHelperRemoval=true;sortable.options._revert=sortable.options.revert;sortable.options.revert=false;sortable._trigger("out",event,sortable._uiHash(sortable));sortable._mouseStop(event,true);sortable.options.revert=sortable.options._revert;sortable.options.helper=sortable.options._helper;if(sortable.placeholder){sortable.placeholder.remove();}
ui.helper.appendTo(draggable._parent);draggable._refreshOffsets(event);ui.position=draggable._generatePosition(event,true);draggable._trigger("fromSortable",event);draggable.dropped=false;$.each(draggable.sortables,function(){this.refreshPositions();});}}});}});$.ui.plugin.add("draggable","cursor",{start:function(event,ui,instance){var t=$("body"),o=instance.options;if(t.css("cursor")){o._cursor=t.css("cursor");}
t.css("cursor",o.cursor);},stop:function(event,ui,instance){var o=instance.options;if(o._cursor){$("body").css("cursor",o._cursor);}}});$.ui.plugin.add("draggable","opacity",{start:function(event,ui,instance){var t=$(ui.helper),o=instance.options;if(t.css("opacity")){o._opacity=t.css("opacity");}
t.css("opacity",o.opacity);},stop:function(event,ui,instance){var o=instance.options;if(o._opacity){$(ui.helper).css("opacity",o._opacity);}}});$.ui.plugin.add("draggable","scroll",{start:function(event,ui,i){if(!i.scrollParentNotHidden){i.scrollParentNotHidden=i.helper.scrollParent(false);}
if(i.scrollParentNotHidden[0]!==i.document[0]&&i.scrollParentNotHidden[0].tagName!=="HTML"){i.overflowOffset=i.scrollParentNotHidden.offset();}},drag:function(event,ui,i){var o=i.options,scrolled=false,scrollParent=i.scrollParentNotHidden[0],document=i.document[0];if(scrollParent!==document&&scrollParent.tagName!=="HTML"){if(!o.axis||o.axis!=="x"){if((i.overflowOffset.top+scrollParent.offsetHeight)-event.pageY<o.scrollSensitivity){scrollParent.scrollTop=scrolled=scrollParent.scrollTop+o.scrollSpeed;}else if(event.pageY-i.overflowOffset.top<o.scrollSensitivity){scrollParent.scrollTop=scrolled=scrollParent.scrollTop-o.scrollSpeed;}}
if(!o.axis||o.axis!=="y"){if((i.overflowOffset.left+scrollParent.offsetWidth)-event.pageX<o.scrollSensitivity){scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft+o.scrollSpeed;}else if(event.pageX-i.overflowOffset.left<o.scrollSensitivity){scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft-o.scrollSpeed;}}}else{if(!o.axis||o.axis!=="x"){if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);}else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}}
if(!o.axis||o.axis!=="y"){if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);}else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}}
if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(i,event);}}});$.ui.plugin.add("draggable","snap",{start:function(event,ui,i){var o=i.options;i.snapElements=[];$(o.snap.constructor!==String?(o.snap.items||":data(ui-draggable)"):o.snap).each(function(){var $t=$(this),$o=$t.offset();if(this!==i.element[0]){i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left});}});},drag:function(event,ui,inst){var ts,bs,ls,rs,l,r,t,b,i,first,o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height;for(i=inst.snapElements.length-1;i>=0;i--){l=inst.snapElements[i].left-inst.margins.left;r=l+inst.snapElements[i].width;t=inst.snapElements[i].top-inst.margins.top;b=t+inst.snapElements[i].height;if(x2<l-d||x1>r+d||y2<t-d||y1>b+d||!$.contains(inst.snapElements[i].item.ownerDocument,inst.snapElements[i].item)){if(inst.snapElements[i].snapping){(inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));}
inst.snapElements[i].snapping=false;continue;}
if(o.snapMode!=="inner"){ts=Math.abs(t-y2)<=d;bs=Math.abs(b-y1)<=d;ls=Math.abs(l-x2)<=d;rs=Math.abs(r-x1)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top;}
if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top;}
if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left;}
if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left;}}
first=(ts||bs||ls||rs);if(o.snapMode!=="outer"){ts=Math.abs(t-y1)<=d;bs=Math.abs(b-y2)<=d;ls=Math.abs(l-x1)<=d;rs=Math.abs(r-x2)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top;}
if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top;}
if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left;}
if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left;}}
if(!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first)){(inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));}
inst.snapElements[i].snapping=(ts||bs||ls||rs||first);}}});$.ui.plugin.add("draggable","stack",{start:function(event,ui,instance){var min,o=instance.options,group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0);});if(!group.length){return;}
min=parseInt($(group[0]).css("zIndex"),10)||0;$(group).each(function(i){$(this).css("zIndex",min+i);});this.css("zIndex",(min+group.length));}});$.ui.plugin.add("draggable","zIndex",{start:function(event,ui,instance){var t=$(ui.helper),o=instance.options;if(t.css("zIndex")){o._zIndex=t.css("zIndex");}
t.css("zIndex",o.zIndex);},stop:function(event,ui,instance){var o=instance.options;if(o._zIndex){$(ui.helper).css("zIndex",o._zIndex);}}});var draggable=$.ui.draggable;$.widget("ui.resizable",$.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(value){return parseInt(value,10)||0;},_isNumber:function(value){return!isNaN(parseInt(value,10));},_hasScroll:function(el,a){if($(el).css("overflow")==="hidden"){return false;}
var scroll=(a&&a==="left")?"scrollLeft":"scrollTop",has=false;if(el[scroll]>0){return true;}
el[scroll]=1;has=(el[scroll]>0);el[scroll]=0;return has;},_create:function(){var n,i,handle,axis,hname,that=this,o=this.options;this.element.addClass("ui-resizable");$.extend(this,{_aspectRatio:!!(o.aspectRatio),aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize();}
this.handles=o.handles||(!$(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});this._handles=$();if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw";}
n=this.handles.split(",");this.handles={};for(i=0;i<n.length;i++){handle=$.trim(n[i]);hname="ui-resizable-"+handle;axis=$("<div class='ui-resizable-handle "+hname+"'></div>");axis.css({zIndex:o.zIndex});if("se"===handle){axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se");}
this.handles[handle]=".ui-resizable-"+handle;this.element.append(axis);}}
this._renderAxis=function(target){var i,axis,padPos,padWrapper;target=target||this.element;for(i in this.handles){if(this.handles[i].constructor===String){this.handles[i]=this.element.children(this.handles[i]).first().show();}else if(this.handles[i].jquery||this.handles[i].nodeType){this.handles[i]=$(this.handles[i]);this._on(this.handles[i],{"mousedown":that._mouseDown});}
if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){axis=$(this.handles[i],this.element);padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth();padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");target.css(padPos,padWrapper);this._proportionallyResize();}
this._handles=this._handles.add(this.handles[i]);}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.mouseover(function(){if(!that.resizing){if(this.className){axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);}
that.axis=axis&&axis[1]?axis[1]:"se";}});if(o.autoHide){this._handles.hide();$(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(o.disabled){return;}
$(this).removeClass("ui-resizable-autohide");that._handles.show();}).mouseleave(function(){if(o.disabled){return;}
if(!that.resizing){$(this).addClass("ui-resizable-autohide");that._handles.hide();}});}
this._mouseInit();},_destroy:function(){this._mouseDestroy();var wrapper,_destroy=function(exp){$(exp).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove();};if(this.elementIsWrapper){_destroy(this.element);wrapper=this.element;this.originalElement.css({position:wrapper.css("position"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css("top"),left:wrapper.css("left")}).insertAfter(wrapper);wrapper.remove();}
this.originalElement.css("resize",this.originalResizeStyle);_destroy(this.originalElement);return this;},_mouseCapture:function(event){var i,handle,capture=false;for(i in this.handles){handle=$(this.handles[i])[0];if(handle===event.target||$.contains(handle,event.target)){capture=true;}}
return!this.options.disabled&&capture;},_mouseStart:function(event){var curleft,curtop,cursor,o=this.options,el=this.element;this.resizing=true;this._renderProxy();curleft=this._num(this.helper.css("left"));curtop=this._num(this.helper.css("top"));if(o.containment){curleft+=$(o.containment).scrollLeft()||0;curtop+=$(o.containment).scrollTop()||0;}
this.offset=this.helper.offset();this.position={left:curleft,top:curtop};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:el.width(),height:el.height()};this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()};this.originalPosition={left:curleft,top:curtop};this.originalMousePosition={left:event.pageX,top:event.pageY};this.aspectRatio=(typeof o.aspectRatio==="number")?o.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);cursor=$(".ui-resizable-"+this.axis).css("cursor");$("body").css("cursor",cursor==="auto"?this.axis+"-resize":cursor);el.addClass("ui-resizable-resizing");this._propagate("start",event);return true;},_mouseDrag:function(event){var data,props,smp=this.originalMousePosition,a=this.axis,dx=(event.pageX-smp.left)||0,dy=(event.pageY-smp.top)||0,trigger=this._change[a];this._updatePrevProperties();if(!trigger){return false;}
data=trigger.apply(this,[event,dx,dy]);this._updateVirtualBoundaries(event.shiftKey);if(this._aspectRatio||event.shiftKey){data=this._updateRatio(data,event);}
data=this._respectSize(data,event);this._updateCache(data);this._propagate("resize",event);props=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize();}
if(!$.isEmptyObject(props)){this._updatePrevProperties();this._trigger("resize",event,this.ui());this._applyChanges();}
return false;},_mouseStop:function(event){this.resizing=false;var pr,ista,soffseth,soffsetw,s,left,top,o=this.options,that=this;if(this._helper){pr=this._proportionallyResizeElements;ista=pr.length&&(/textarea/i).test(pr[0].nodeName);soffseth=ista&&this._hasScroll(pr[0],"left")?0:that.sizeDiff.height;soffsetw=ista?0:that.sizeDiff.width;s={width:(that.helper.width()-soffsetw),height:(that.helper.height()-soffseth)};left=(parseInt(that.element.css("left"),10)+
(that.position.left-that.originalPosition.left))||null;top=(parseInt(that.element.css("top"),10)+
(that.position.top-that.originalPosition.top))||null;if(!o.animate){this.element.css($.extend(s,{top:top,left:left}));}
that.helper.height(that.size.height);that.helper.width(that.size.width);if(this._helper&&!o.animate){this._proportionallyResize();}}
$("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",event);if(this._helper){this.helper.remove();}
return false;},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height};},_applyChanges:function(){var props={};if(this.position.top!==this.prevPosition.top){props.top=this.position.top+"px";}
if(this.position.left!==this.prevPosition.left){props.left=this.position.left+"px";}
if(this.size.width!==this.prevSize.width){props.width=this.size.width+"px";}
if(this.size.height!==this.prevSize.height){props.height=this.size.height+"px";}
this.helper.css(props);return props;},_updateVirtualBoundaries:function(forceAspectRatio){var pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b,o=this.options;b={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||forceAspectRatio){pMinWidth=b.minHeight*this.aspectRatio;pMinHeight=b.minWidth/this.aspectRatio;pMaxWidth=b.maxHeight*this.aspectRatio;pMaxHeight=b.maxWidth/this.aspectRatio;if(pMinWidth>b.minWidth){b.minWidth=pMinWidth;}
if(pMinHeight>b.minHeight){b.minHeight=pMinHeight;}
if(pMaxWidth<b.maxWidth){b.maxWidth=pMaxWidth;}
if(pMaxHeight<b.maxHeight){b.maxHeight=pMaxHeight;}}
this._vBoundaries=b;},_updateCache:function(data){this.offset=this.helper.offset();if(this._isNumber(data.left)){this.position.left=data.left;}
if(this._isNumber(data.top)){this.position.top=data.top;}
if(this._isNumber(data.height)){this.size.height=data.height;}
if(this._isNumber(data.width)){this.size.width=data.width;}},_updateRatio:function(data){var cpos=this.position,csize=this.size,a=this.axis;if(this._isNumber(data.height)){data.width=(data.height*this.aspectRatio);}else if(this._isNumber(data.width)){data.height=(data.width/this.aspectRatio);}
if(a==="sw"){data.left=cpos.left+(csize.width-data.width);data.top=null;}
if(a==="nw"){data.top=cpos.top+(csize.height-data.height);data.left=cpos.left+(csize.width-data.width);}
return data;},_respectSize:function(data){var o=this._vBoundaries,a=this.axis,ismaxw=this._isNumber(data.width)&&o.maxWidth&&(o.maxWidth<data.width),ismaxh=this._isNumber(data.height)&&o.maxHeight&&(o.maxHeight<data.height),isminw=this._isNumber(data.width)&&o.minWidth&&(o.minWidth>data.width),isminh=this._isNumber(data.height)&&o.minHeight&&(o.minHeight>data.height),dw=this.originalPosition.left+this.originalSize.width,dh=this.position.top+this.size.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);if(isminw){data.width=o.minWidth;}
if(isminh){data.height=o.minHeight;}
if(ismaxw){data.width=o.maxWidth;}
if(ismaxh){data.height=o.maxHeight;}
if(isminw&&cw){data.left=dw-o.minWidth;}
if(ismaxw&&cw){data.left=dw-o.maxWidth;}
if(isminh&&ch){data.top=dh-o.minHeight;}
if(ismaxh&&ch){data.top=dh-o.maxHeight;}
if(!data.width&&!data.height&&!data.left&&data.top){data.top=null;}else if(!data.width&&!data.height&&!data.top&&data.left){data.left=null;}
return data;},_getPaddingPlusBorderDimensions:function(element){var i=0,widths=[],borders=[element.css("borderTopWidth"),element.css("borderRightWidth"),element.css("borderBottomWidth"),element.css("borderLeftWidth")],paddings=[element.css("paddingTop"),element.css("paddingRight"),element.css("paddingBottom"),element.css("paddingLeft")];for(;i<4;i++){widths[i]=(parseInt(borders[i],10)||0);widths[i]+=(parseInt(paddings[i],10)||0);}
return{height:widths[0]+widths[2],width:widths[1]+widths[3]};},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return;}
var prel,i=0,element=this.helper||this.element;for(;i<this._proportionallyResizeElements.length;i++){prel=this._proportionallyResizeElements[i];if(!this.outerDimensions){this.outerDimensions=this._getPaddingPlusBorderDimensions(prel);}
prel.css({height:(element.height()-this.outerDimensions.height)||0,width:(element.width()-this.outerDimensions.width)||0});}},_renderProxy:function(){var el=this.element,o=this.options;this.elementOffset=el.offset();if(this._helper){this.helper=this.helper||$("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex});this.helper.appendTo("body").disableSelection();}else{this.helper=this.element;}},_change:{e:function(event,dx){return{width:this.originalSize.width+dx};},w:function(event,dx){var cs=this.originalSize,sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx};},n:function(event,dx,dy){var cs=this.originalSize,sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy};},s:function(event,dx,dy){return{height:this.originalSize.height+dy};},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]);(n!=="resize"&&this._trigger(n,event,this.ui()));},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition};}});$.ui.plugin.add("resizable","animate",{stop:function(event){var that=$(this).resizable("instance"),o=that.options,pr=that._proportionallyResizeElements,ista=pr.length&&(/textarea/i).test(pr[0].nodeName),soffseth=ista&&that._hasScroll(pr[0],"left")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width,style={width:(that.size.width-soffsetw),height:(that.size.height-soffseth)},left=(parseInt(that.element.css("left"),10)+
(that.position.left-that.originalPosition.left))||null,top=(parseInt(that.element.css("top"),10)+
(that.position.top-that.originalPosition.top))||null;that.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseInt(that.element.css("width"),10),height:parseInt(that.element.css("height"),10),top:parseInt(that.element.css("top"),10),left:parseInt(that.element.css("left"),10)};if(pr&&pr.length){$(pr[0]).css({width:data.width,height:data.height});}
that._updateCache(data);that._propagate("resize",event);}});}});$.ui.plugin.add("resizable","containment",{start:function(){var element,p,co,ch,cw,width,height,that=$(this).resizable("instance"),o=that.options,el=that.element,oc=o.containment,ce=(oc instanceof $)?oc.get(0):(/parent/.test(oc))?el.parent().get(0):oc;if(!ce){return;}
that.containerElement=$(ce);if(/document/.test(oc)||oc===document){that.containerOffset={left:0,top:0};that.containerPosition={left:0,top:0};that.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight};}else{element=$(ce);p=[];$(["Top","Right","Left","Bottom"]).each(function(i,name){p[i]=that._num(element.css("padding"+name));});that.containerOffset=element.offset();that.containerPosition=element.position();that.containerSize={height:(element.innerHeight()-p[3]),width:(element.innerWidth()-p[1])};co=that.containerOffset;ch=that.containerSize.height;cw=that.containerSize.width;width=(that._hasScroll(ce,"left")?ce.scrollWidth:cw);height=(that._hasScroll(ce)?ce.scrollHeight:ch);that.parentData={element:ce,left:co.left,top:co.top,width:width,height:height};}},resize:function(event){var woset,hoset,isParent,isOffsetRelative,that=$(this).resizable("instance"),o=that.options,co=that.containerOffset,cp=that.position,pRatio=that._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=that.containerElement,continueResize=true;if(ce[0]!==document&&(/static/).test(ce.css("position"))){cop=co;}
if(cp.left<(that._helper?co.left:0)){that.size.width=that.size.width+
(that._helper?(that.position.left-co.left):(that.position.left-cop.left));if(pRatio){that.size.height=that.size.width/that.aspectRatio;continueResize=false;}
that.position.left=o.helper?co.left:0;}
if(cp.top<(that._helper?co.top:0)){that.size.height=that.size.height+
(that._helper?(that.position.top-co.top):that.position.top);if(pRatio){that.size.width=that.size.height*that.aspectRatio;continueResize=false;}
that.position.top=that._helper?co.top:0;}
isParent=that.containerElement.get(0)===that.element.parent().get(0);isOffsetRelative=/relative|absolute/.test(that.containerElement.css("position"));if(isParent&&isOffsetRelative){that.offset.left=that.parentData.left+that.position.left;that.offset.top=that.parentData.top+that.position.top;}else{that.offset.left=that.element.offset().left;that.offset.top=that.element.offset().top;}
woset=Math.abs(that.sizeDiff.width+
(that._helper?that.offset.left-cop.left:(that.offset.left-co.left)));hoset=Math.abs(that.sizeDiff.height+
(that._helper?that.offset.top-cop.top:(that.offset.top-co.top)));if(woset+that.size.width>=that.parentData.width){that.size.width=that.parentData.width-woset;if(pRatio){that.size.height=that.size.width/that.aspectRatio;continueResize=false;}}
if(hoset+that.size.height>=that.parentData.height){that.size.height=that.parentData.height-hoset;if(pRatio){that.size.width=that.size.height*that.aspectRatio;continueResize=false;}}
if(!continueResize){that.position.left=that.prevPosition.left;that.position.top=that.prevPosition.top;that.size.width=that.prevSize.width;that.size.height=that.prevSize.height;}},stop:function(){var that=$(this).resizable("instance"),o=that.options,co=that.containerOffset,cop=that.containerPosition,ce=that.containerElement,helper=$(that.helper),ho=helper.offset(),w=helper.outerWidth()-that.sizeDiff.width,h=helper.outerHeight()-that.sizeDiff.height;if(that._helper&&!o.animate&&(/relative/).test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}
if(that._helper&&!o.animate&&(/static/).test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}}});$.ui.plugin.add("resizable","alsoResize",{start:function(){var that=$(this).resizable("instance"),o=that.options;$(o.alsoResize).each(function(){var el=$(this);el.data("ui-resizable-alsoresize",{width:parseInt(el.width(),10),height:parseInt(el.height(),10),left:parseInt(el.css("left"),10),top:parseInt(el.css("top"),10)});});},resize:function(event,ui){var that=$(this).resizable("instance"),o=that.options,os=that.originalSize,op=that.originalPosition,delta={height:(that.size.height-os.height)||0,width:(that.size.width-os.width)||0,top:(that.position.top-op.top)||0,left:(that.position.left-op.left)||0};$(o.alsoResize).each(function(){var el=$(this),start=$(this).data("ui-resizable-alsoresize"),style={},css=el.parents(ui.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);if(sum&&sum>=0){style[prop]=sum||null;}});el.css(style);});},stop:function(){$(this).removeData("resizable-alsoresize");}});$.ui.plugin.add("resizable","ghost",{start:function(){var that=$(this).resizable("instance"),o=that.options,cs=that.size;that.ghost=that.originalElement.clone();that.ghost.css({opacity:0.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof o.ghost==="string"?o.ghost:"");that.ghost.appendTo(that.helper);},resize:function(){var that=$(this).resizable("instance");if(that.ghost){that.ghost.css({position:"relative",height:that.size.height,width:that.size.width});}},stop:function(){var that=$(this).resizable("instance");if(that.ghost&&that.helper){that.helper.get(0).removeChild(that.ghost.get(0));}}});$.ui.plugin.add("resizable","grid",{resize:function(){var outerDimensions,that=$(this).resizable("instance"),o=that.options,cs=that.size,os=that.originalSize,op=that.originalPosition,a=that.axis,grid=typeof o.grid==="number"?[o.grid,o.grid]:o.grid,gridX=(grid[0]||1),gridY=(grid[1]||1),ox=Math.round((cs.width-os.width)/gridX)*gridX,oy=Math.round((cs.height-os.height)/gridY)*gridY,newWidth=os.width+ox,newHeight=os.height+oy,isMaxWidth=o.maxWidth&&(o.maxWidth<newWidth),isMaxHeight=o.maxHeight&&(o.maxHeight<newHeight),isMinWidth=o.minWidth&&(o.minWidth>newWidth),isMinHeight=o.minHeight&&(o.minHeight>newHeight);o.grid=grid;if(isMinWidth){newWidth+=gridX;}
if(isMinHeight){newHeight+=gridY;}
if(isMaxWidth){newWidth-=gridX;}
if(isMaxHeight){newHeight-=gridY;}
if(/^(se|s|e)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;}else if(/^(ne)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.top=op.top-oy;}else if(/^(sw)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.left=op.left-ox;}else{if(newHeight-gridY<=0||newWidth-gridX<=0){outerDimensions=that._getPaddingPlusBorderDimensions(this);}
if(newHeight-gridY>0){that.size.height=newHeight;that.position.top=op.top-oy;}else{newHeight=gridY-outerDimensions.height;that.size.height=newHeight;that.position.top=op.top+os.height-newHeight;}
if(newWidth-gridX>0){that.size.width=newWidth;that.position.left=op.left-ox;}else{newWidth=gridX-outerDimensions.width;that.size.width=newWidth;that.position.left=op.left+os.width-newWidth;}}}});var resizable=$.ui.resizable;var lastActive,baseClasses="ui-button ui-widget ui-state-default ui-corner-all",typeClasses="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",formResetHandler=function(){var form=$(this);setTimeout(function(){form.find(":ui-button").button("refresh");},1);},radioGroup=function(radio){var name=radio.name,form=radio.form,radios=$([]);if(name){name=name.replace(/'/g,"\\'");if(form){radios=$(form).find("[name='"+name+"'][type=radio]");}else{radios=$("[name='"+name+"'][type=radio]",radio.ownerDocument).filter(function(){return!this.form;});}}
return radios;};$.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,formResetHandler);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.prop("disabled");}else{this.element.prop("disabled",this.options.disabled);}
this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var that=this,options=this.options,toggleButton=this.type==="checkbox"||this.type==="radio",activeClass=!toggleButton?"ui-state-active":"";if(options.label===null){options.label=(this.type==="input"?this.buttonElement.val():this.buttonElement.html());}
this._hoverable(this.buttonElement);this.buttonElement.addClass(baseClasses).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(options.disabled){return;}
if(this===lastActive){$(this).addClass("ui-state-active");}}).bind("mouseleave"+this.eventNamespace,function(){if(options.disabled){return;}
$(this).removeClass(activeClass);}).bind("click"+this.eventNamespace,function(event){if(options.disabled){event.preventDefault();event.stopImmediatePropagation();}});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus");},blur:function(){this.buttonElement.removeClass("ui-state-focus");}});if(toggleButton){this.element.bind("change"+this.eventNamespace,function(){that.refresh();});}
if(this.type==="checkbox"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(options.disabled){return false;}});}else if(this.type==="radio"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(options.disabled){return false;}
$(this).addClass("ui-state-active");that.buttonElement.attr("aria-pressed","true");var radio=that.element[0];radioGroup(radio).not(radio).map(function(){return $(this).button("widget")[0];}).removeClass("ui-state-active").attr("aria-pressed","false");});}else{this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(options.disabled){return false;}
$(this).addClass("ui-state-active");lastActive=this;that.document.one("mouseup",function(){lastActive=null;});}).bind("mouseup"+this.eventNamespace,function(){if(options.disabled){return false;}
$(this).removeClass("ui-state-active");}).bind("keydown"+this.eventNamespace,function(event){if(options.disabled){return false;}
if(event.keyCode===$.ui.keyCode.SPACE||event.keyCode===$.ui.keyCode.ENTER){$(this).addClass("ui-state-active");}}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){$(this).removeClass("ui-state-active");});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(event){if(event.keyCode===$.ui.keyCode.SPACE){$(this).click();}});}}
this._setOption("disabled",options.disabled);this._resetButton();},_determineButtonType:function(){var ancestor,labelSelector,checked;if(this.element.is("[type=checkbox]")){this.type="checkbox";}else if(this.element.is("[type=radio]")){this.type="radio";}else if(this.element.is("input")){this.type="input";}else{this.type="button";}
if(this.type==="checkbox"||this.type==="radio"){ancestor=this.element.parents().last();labelSelector="label[for='"+this.element.attr("id")+"']";this.buttonElement=ancestor.find(labelSelector);if(!this.buttonElement.length){ancestor=ancestor.length?ancestor.siblings():this.element.siblings();this.buttonElement=ancestor.filter(labelSelector);if(!this.buttonElement.length){this.buttonElement=ancestor.find(labelSelector);}}
this.element.addClass("ui-helper-hidden-accessible");checked=this.element.is(":checked");if(checked){this.buttonElement.addClass("ui-state-active");}
this.buttonElement.prop("aria-pressed",checked);}else{this.buttonElement=this.element;}},widget:function(){return this.buttonElement;},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(baseClasses+" ui-state-active "+typeClasses).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title");}},_setOption:function(key,value){this._super(key,value);if(key==="disabled"){this.widget().toggleClass("ui-state-disabled",!!value);this.element.prop("disabled",!!value);if(value){if(this.type==="checkbox"||this.type==="radio"){this.buttonElement.removeClass("ui-state-focus");}else{this.buttonElement.removeClass("ui-state-focus ui-state-active");}}
return;}
this._resetButton();},refresh:function(){var isDisabled=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");if(isDisabled!==this.options.disabled){this._setOption("disabled",isDisabled);}
if(this.type==="radio"){radioGroup(this.element[0]).each(function(){if($(this).is(":checked")){$(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true");}else{$(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false");}});}else if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true");}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false");}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label);}
return;}
var buttonElement=this.buttonElement.removeClass(typeClasses),buttonText=$("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(buttonElement.empty()).text(),icons=this.options.icons,multipleIcons=icons.primary&&icons.secondary,buttonClasses=[];if(icons.primary||icons.secondary){if(this.options.text){buttonClasses.push("ui-button-text-icon"+(multipleIcons?"s":(icons.primary?"-primary":"-secondary")));}
if(icons.primary){buttonElement.prepend("<span class='ui-button-icon-primary ui-icon "+icons.primary+"'></span>");}
if(icons.secondary){buttonElement.append("<span class='ui-button-icon-secondary ui-icon "+icons.secondary+"'></span>");}
if(!this.options.text){buttonClasses.push(multipleIcons?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){buttonElement.attr("title",$.trim(buttonText));}}}else{buttonClasses.push("ui-button-text-only");}
buttonElement.addClass(buttonClasses.join(" "));}});$.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset");},_init:function(){this.refresh();},_setOption:function(key,value){if(key==="disabled"){this.buttons.button("option",key,value);}
this._super(key,value);},refresh:function(){var rtl=this.element.css("direction")==="rtl",allButtons=this.element.find(this.options.items),existingButtons=allButtons.filter(":ui-button");allButtons.not(":ui-button").button();existingButtons.button("refresh");this.buttons=allButtons.map(function(){return $(this).button("widget")[0];}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(rtl?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(rtl?"ui-corner-left":"ui-corner-right").end().end();},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return $(this).button("widget")[0];}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");}});var button=$.ui.button;var menu=$.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0});if(this.options.disabled){this.element.addClass("ui-state-disabled").attr("aria-disabled","true");}
this._on({"mousedown .ui-menu-item":function(event){event.preventDefault();},"click .ui-menu-item":function(event){var target=$(event.target);if(!this.mouseHandled&&target.not(".ui-state-disabled").length){this.select(event);if(!event.isPropagationStopped()){this.mouseHandled=true;}
if(target.has(".ui-menu").length){this.expand(event);}else if(!this.element.is(":focus")&&$(this.document[0].activeElement).closest(".ui-menu").length){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer);}}}},"mouseenter .ui-menu-item":function(event){if(this.previousFilter){return;}
var target=$(event.currentTarget);target.siblings(".ui-state-active").removeClass("ui-state-active");this.focus(event,target);},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(event,keepActiveItem){var item=this.active||this.element.find(this.options.items).eq(0);if(!keepActiveItem){this.focus(event,item);}},blur:function(event){this._delay(function(){if(!$.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(event);}});},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(event){if(this._closeOnDocumentClick(event)){this.collapseAll(event);}
this.mouseHandled=false;}});},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var elem=$(this);if(elem.data("ui-menu-submenu-carat")){elem.remove();}});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content");},_keydown:function(event){var match,prev,character,skip,preventDefault=true;switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move("first","first",event);break;case $.ui.keyCode.END:this._move("last","last",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(event);}
break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=false;prev=this.previousFilter||"";character=String.fromCharCode(event.keyCode);skip=false;clearTimeout(this.filterTimer);if(character===prev){skip=true;}else{character=prev+character;}
match=this._filterMenuItems(character);match=skip&&match.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):match;if(!match.length){character=String.fromCharCode(event.keyCode);match=this._filterMenuItems(character);}
if(match.length){this.focus(event,match);this.previousFilter=character;this.filterTimer=this._delay(function(){delete this.previousFilter;},1000);}else{delete this.previousFilter;}}
if(preventDefault){event.preventDefault();}},_activate:function(event){if(!this.active.is(".ui-state-disabled")){if(this.active.is("[aria-haspopup='true']")){this.expand(event);}else{this.select(event);}}},refresh:function(){var menus,items,that=this,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);submenus.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var menu=$(this),item=menu.parent(),submenuCarat=$("<span>").addClass("ui-menu-icon ui-icon "+icon).data("ui-menu-submenu-carat",true);item.attr("aria-haspopup","true").prepend(submenuCarat);menu.attr("aria-labelledby",item.attr("id"));});menus=submenus.add(this.element);items=menus.find(this.options.items);items.not(".ui-menu-item").each(function(){var item=$(this);if(that._isDivider(item)){item.addClass("ui-widget-content ui-menu-divider");}});items.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()});items.filter(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!$.contains(this.element[0],this.active[0])){this.blur();}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role];},_setOption:function(key,value){if(key==="icons"){this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(value.submenu);}
if(key==="disabled"){this.element.toggleClass("ui-state-disabled",!!value).attr("aria-disabled",value);}
this._super(key,value);},focus:function(event,item){var nested,focused;this.blur(event,event&&event.type==="focus");this._scrollIntoView(item);this.active=item.first();focused=this.active.addClass("ui-state-focus").removeClass("ui-state-active");if(this.options.role){this.element.attr("aria-activedescendant",focused.attr("id"));}
this.active.parent().closest(".ui-menu-item").addClass("ui-state-active");if(event&&event.type==="keydown"){this._close();}else{this.timer=this._delay(function(){this._close();},this.delay);}
nested=item.children(".ui-menu");if(nested.length&&event&&(/^mouse/.test(event.type))){this._startOpening(nested);}
this.activeMenu=item.parent();this._trigger("focus",event,{item:item});},_scrollIntoView:function(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;if(this._hasScroll()){borderTop=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0;paddingTop=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0;offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop;scroll=this.activeMenu.scrollTop();elementHeight=this.activeMenu.height();itemHeight=item.outerHeight();if(offset<0){this.activeMenu.scrollTop(scroll+offset);}else if(offset+itemHeight>elementHeight){this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight);}}},blur:function(event,fromFocus){if(!fromFocus){clearTimeout(this.timer);}
if(!this.active){return;}
this.active.removeClass("ui-state-focus");this.active=null;this._trigger("blur",event,{item:this.active});},_startOpening:function(submenu){clearTimeout(this.timer);if(submenu.attr("aria-hidden")!=="true"){return;}
this.timer=this._delay(function(){this._close();this._open(submenu);},this.delay);},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden","true");submenu.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(position);},collapseAll:function(event,all){clearTimeout(this.timer);this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(".ui-menu"));if(!currentMenu.length){currentMenu=this.element;}
this._close(currentMenu);this.blur(event);this.activeMenu=currentMenu;},this.delay);},_close:function(startMenu){if(!startMenu){startMenu=this.active?this.active.parent():this.element;}
startMenu.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active");},_closeOnDocumentClick:function(event){return!$(event.target).closest(".ui-menu").length;},_isDivider:function(item){return!/[^\-\u2014\u2013\s]/.test(item.text());},collapse:function(event){var newItem=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(newItem&&newItem.length){this._close();this.focus(event,newItem);}},expand:function(event){var newItem=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();if(newItem&&newItem.length){this._open(newItem.parent());this._delay(function(){this.focus(event,newItem);});}},next:function(event){this._move("next","first",event);},previous:function(event){this._move("prev","last",event);},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length;},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length;},_move:function(direction,filter,event){var next;if(this.active){if(direction==="first"||direction==="last"){next=this.active
[direction==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1);}else{next=this.active
[direction+"All"](".ui-menu-item").eq(0);}}
if(!next||!next.length||!this.active){next=this.activeMenu.find(this.options.items)[filter]();}
this.focus(event,next);},nextPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}
if(this.isLastItem()){return;}
if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base-height<0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.find(this.options.items)
[!this.active?"first":"last"]());}},previousPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}
if(this.isFirstItem()){return;}
if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base+height>0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.find(this.options.items).first());}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight");},select:function(event){this.active=this.active||$(event.target).closest(".ui-menu-item");var ui={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(event,true);}
this._trigger("select",event,ui);},_filterMenuItems:function(character){var escapedCharacter=character.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),regex=new RegExp("^"+escapedCharacter,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return regex.test($.trim($(this).text()));});}});var selectmenu=$.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var selectmenuId=this.element.uniqueId().attr("id");this.ids={element:selectmenuId,button:selectmenuId+"-button",menu:selectmenuId+"-menu"};this._drawButton();this._drawMenu();if(this.options.disabled){this.disable();}},_drawButton:function(){var that=this;this.label=$("label[for='"+this.ids.element+"']").attr("for",this.ids.button);this._on(this.label,{click:function(event){this.button.focus();event.preventDefault();}});this.element.hide();this.button=$("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element);$("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button);this.buttonText=$("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button);this._setText(this.buttonText,this.element.find("option:selected").text());this._resizeButton();this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){if(!that.menuItems){that._refreshMenu();}});this._hoverable(this.button);this._focusable(this.button);},_drawMenu:function(){var that=this;this.menu=$("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=$("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo());this.menuInstance=this.menu.menu({role:"listbox",select:function(event,ui){event.preventDefault();that._setSelection();that._select(ui.item.data("ui-selectmenu-item"),event);},focus:function(event,ui){var item=ui.item.data("ui-selectmenu-item");if(that.focusIndex!=null&&item.index!==that.focusIndex){that._trigger("focus",event,{item:item});if(!that.isOpen){that._select(item,event);}}
that.focusIndex=item.index;that.button.attr("aria-activedescendant",that.menuItems.eq(item.index).attr("id"));}}).menu("instance");this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return false;};this.menuInstance._isDivider=function(){return false;};},refresh:function(){this._refreshMenu();this._setText(this.buttonText,this._getSelectedItem().text());if(!this.options.width){this._resizeButton();}},_refreshMenu:function(){this.menu.empty();var item,options=this.element.find("option");if(!options.length){return;}
this._parseOptions(options);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup");item=this._getSelectedItem();this.menuInstance.focus(null,item);this._setAria(item.data("ui-selectmenu-item"));this._setOption("disabled",this.element.prop("disabled"));},open:function(event){if(this.options.disabled){return;}
if(!this.menuItems){this._refreshMenu();}else{this.menu.find(".ui-state-focus").removeClass("ui-state-focus");this.menuInstance.focus(null,this._getSelectedItem());}
this.isOpen=true;this._toggleAttr();this._resizeMenu();this._position();this._on(this.document,this._documentClick);this._trigger("open",event);},_position:function(){this.menuWrap.position($.extend({of:this.button},this.options.position));},close:function(event){if(!this.isOpen){return;}
this.isOpen=false;this._toggleAttr();this.range=null;this._off(this.document);this._trigger("close",event);},widget:function(){return this.button;},menuWidget:function(){return this.menu;},_renderMenu:function(ul,items){var that=this,currentOptgroup="";$.each(items,function(index,item){if(item.optgroup!==currentOptgroup){$("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+
(item.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:item.optgroup}).appendTo(ul);currentOptgroup=item.optgroup;}
that._renderItemData(ul,item);});},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-selectmenu-item",item);},_renderItem:function(ul,item){var li=$("<li>");if(item.disabled){li.addClass("ui-state-disabled");}
this._setText(li,item.label);return li.appendTo(ul);},_setText:function(element,value){if(value){element.text(value);}else{element.html("&#160;");}},_move:function(direction,event){var item,next,filter=".ui-menu-item";if(this.isOpen){item=this.menuItems.eq(this.focusIndex);}else{item=this.menuItems.eq(this.element[0].selectedIndex);filter+=":not(.ui-state-disabled)";}
if(direction==="first"||direction==="last"){next=item[direction==="first"?"prevAll":"nextAll"](filter).eq(-1);}else{next=item[direction+"All"](filter).eq(0);}
if(next.length){this.menuInstance.focus(event,next);}},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex);},_toggle:function(event){this[this.isOpen?"close":"open"](event);},_setSelection:function(){var selection;if(!this.range){return;}
if(window.getSelection){selection=window.getSelection();selection.removeAllRanges();selection.addRange(this.range);}else{this.range.select();}
this.button.focus();},_documentClick:{mousedown:function(event){if(!this.isOpen){return;}
if(!$(event.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length){this.close(event);}}},_buttonEvents:{mousedown:function(){var selection;if(window.getSelection){selection=window.getSelection();if(selection.rangeCount){this.range=selection.getRangeAt(0);}}else{this.range=document.selection.createRange();}},click:function(event){this._setSelection();this._toggle(event);},keydown:function(event){var preventDefault=true;switch(event.keyCode){case $.ui.keyCode.TAB:case $.ui.keyCode.ESCAPE:this.close(event);preventDefault=false;break;case $.ui.keyCode.ENTER:if(this.isOpen){this._selectFocusedItem(event);}
break;case $.ui.keyCode.UP:if(event.altKey){this._toggle(event);}else{this._move("prev",event);}
break;case $.ui.keyCode.DOWN:if(event.altKey){this._toggle(event);}else{this._move("next",event);}
break;case $.ui.keyCode.SPACE:if(this.isOpen){this._selectFocusedItem(event);}else{this._toggle(event);}
break;case $.ui.keyCode.LEFT:this._move("prev",event);break;case $.ui.keyCode.RIGHT:this._move("next",event);break;case $.ui.keyCode.HOME:case $.ui.keyCode.PAGE_UP:this._move("first",event);break;case $.ui.keyCode.END:case $.ui.keyCode.PAGE_DOWN:this._move("last",event);break;default:this.menu.trigger(event);preventDefault=false;}
if(preventDefault){event.preventDefault();}}},_selectFocusedItem:function(event){var item=this.menuItems.eq(this.focusIndex);if(!item.hasClass("ui-state-disabled")){this._select(item.data("ui-selectmenu-item"),event);}},_select:function(item,event){var oldIndex=this.element[0].selectedIndex;this.element[0].selectedIndex=item.index;this._setText(this.buttonText,item.label);this._setAria(item);this._trigger("select",event,{item:item});if(item.index!==oldIndex){this._trigger("change",event,{item:item});}
this.close(event);},_setAria:function(item){var id=this.menuItems.eq(item.index).attr("id");this.button.attr({"aria-labelledby":id,"aria-activedescendant":id});this.menu.attr("aria-activedescendant",id);},_setOption:function(key,value){if(key==="icons"){this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(value.button);}
this._super(key,value);if(key==="appendTo"){this.menuWrap.appendTo(this._appendTo());}
if(key==="disabled"){this.menuInstance.option("disabled",value);this.button.toggleClass("ui-state-disabled",value).attr("aria-disabled",value);this.element.prop("disabled",value);if(value){this.button.attr("tabindex",-1);this.close();}else{this.button.attr("tabindex",0);}}
if(key==="width"){this._resizeButton();}},_appendTo:function(){var element=this.options.appendTo;if(element){element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0);}
if(!element||!element[0]){element=this.element.closest(".ui-front");}
if(!element.length){element=this.document[0].body;}
return element;},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen);this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen);this.menu.attr("aria-hidden",!this.isOpen);},_resizeButton:function(){var width=this.options.width;if(!width){width=this.element.show().outerWidth();this.element.hide();}
this.button.outerWidth(width);},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1));},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")};},_parseOptions:function(options){var data=[];options.each(function(index,item){var option=$(item),optgroup=option.parent("optgroup");data.push({element:option,index:index,value:option.val(),label:option.text(),optgroup:optgroup.attr("label")||"",disabled:optgroup.prop("disabled")||option.prop("disabled")});});this.items=data;},_destroy:function(){this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.label.attr("for",this.ids.element);}});var dataSpace="ui-effects-",jQuery=$;$.effects={effect:{}};(function(jQuery,undefined){var stepHooks="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",rplusequals=/^([\-+])=\s*(\d+\.?\d*)/,stringParsers=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]];}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1]*2.55,execResult[2]*2.55,execResult[3]*2.55,execResult[4]];}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)];}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)];}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(execResult){return[execResult[1],execResult[2]/100,execResult[3]/100,execResult[4]];}}],color=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha);},spaces={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},propTypes={"byte":{floor:true,max:255},"percent":{max:1},"degrees":{mod:360,floor:true}},support=color.support={},supportElem=jQuery("<p>")[0],colors,each=jQuery.each;supportElem.style.cssText="background-color:rgba(1,1,1,.5)";support.rgba=supportElem.style.backgroundColor.indexOf("rgba")>-1;each(spaces,function(spaceName,space){space.cache="_"+spaceName;space.props.alpha={idx:3,type:"percent",def:1};});function clamp(value,prop,allowEmpty){var type=propTypes[prop.type]||{};if(value==null){return(allowEmpty||!prop.def)?null:prop.def;}
value=type.floor?~~value:parseFloat(value);if(isNaN(value)){return prop.def;}
if(type.mod){return(value+type.mod)%type.mod;}
return 0>value?0:type.max<value?type.max:value;}
function stringParse(string){var inst=color(),rgba=inst._rgba=[];string=string.toLowerCase();each(stringParsers,function(i,parser){var parsed,match=parser.re.exec(string),values=match&&parser.parse(match),spaceName=parser.space||"rgba";if(values){parsed=inst[spaceName](values);inst[spaces[spaceName].cache]=parsed[spaces[spaceName].cache];rgba=inst._rgba=parsed._rgba;return false;}});if(rgba.length){if(rgba.join()==="0,0,0,0"){jQuery.extend(rgba,colors.transparent);}
return inst;}
return colors[string];}
color.fn=jQuery.extend(color.prototype,{parse:function(red,green,blue,alpha){if(red===undefined){this._rgba=[null,null,null,null];return this;}
if(red.jquery||red.nodeType){red=jQuery(red).css(green);green=undefined;}
var inst=this,type=jQuery.type(red),rgba=this._rgba=[];if(green!==undefined){red=[red,green,blue,alpha];type="array";}
if(type==="string"){return this.parse(stringParse(red)||colors._default);}
if(type==="array"){each(spaces.rgba.props,function(key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop);});return this;}
if(type==="object"){if(red instanceof color){each(spaces,function(spaceName,space){if(red[space.cache]){inst[space.cache]=red[space.cache].slice();}});}else{each(spaces,function(spaceName,space){var cache=space.cache;each(space.props,function(key,prop){if(!inst[cache]&&space.to){if(key==="alpha"||red[key]==null){return;}
inst[cache]=space.to(inst._rgba);}
inst[cache][prop.idx]=clamp(red[key],prop,true);});if(inst[cache]&&jQuery.inArray(null,inst[cache].slice(0,3))<0){inst[cache][3]=1;if(space.from){inst._rgba=space.from(inst[cache]);}}});}
return this;}},is:function(compare){var is=color(compare),same=true,inst=this;each(spaces,function(_,space){var localCache,isCache=is[space.cache];if(isCache){localCache=inst[space.cache]||space.to&&space.to(inst._rgba)||[];each(space.props,function(_,prop){if(isCache[prop.idx]!=null){same=(isCache[prop.idx]===localCache[prop.idx]);return same;}});}
return same;});return same;},_space:function(){var used=[],inst=this;each(spaces,function(spaceName,space){if(inst[space.cache]){used.push(spaceName);}});return used.pop();},transition:function(other,distance){var end=color(other),spaceName=end._space(),space=spaces[spaceName],startColor=this.alpha()===0?color("transparent"):this,start=startColor[space.cache]||space.to(startColor._rgba),result=start.slice();end=end[space.cache];each(space.props,function(key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],type=propTypes[prop.type]||{};if(endValue===null){return;}
if(startValue===null){result[index]=endValue;}else{if(type.mod){if(endValue-startValue>type.mod/2){startValue+=type.mod;}else if(startValue-endValue>type.mod/2){startValue-=type.mod;}}
result[index]=clamp((endValue-startValue)*distance+startValue,prop);}});return this[spaceName](result);},blend:function(opaque){if(this._rgba[3]===1){return this;}
var rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba;return color(jQuery.map(rgb,function(v,i){return(1-a)*blend[i]+a*v;}));},toRgbaString:function(){var prefix="rgba(",rgba=jQuery.map(this._rgba,function(v,i){return v==null?(i>2?1:0):v;});if(rgba[3]===1){rgba.pop();prefix="rgb(";}
return prefix+rgba.join()+")";},toHslaString:function(){var prefix="hsla(",hsla=jQuery.map(this.hsla(),function(v,i){if(v==null){v=i>2?1:0;}
if(i&&i<3){v=Math.round(v*100)+"%";}
return v;});if(hsla[3]===1){hsla.pop();prefix="hsl(";}
return prefix+hsla.join()+")";},toHexString:function(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();if(includeAlpha){rgba.push(~~(alpha*255));}
return"#"+jQuery.map(rgba,function(v){v=(v||0).toString(16);return v.length===1?"0"+v:v;}).join("");},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString();}});color.fn.parse.prototype=color.fn;function hue2rgb(p,q,h){h=(h+1)%1;if(h*6<1){return p+(q-p)*h*6;}
if(h*2<1){return q;}
if(h*3<2){return p+(q-p)*((2/3)-h)*6;}
return p;}
spaces.hsla.to=function(rgba){if(rgba[0]==null||rgba[1]==null||rgba[2]==null){return[null,null,null,rgba[3]];}
var r=rgba[0]/255,g=rgba[1]/255,b=rgba[2]/255,a=rgba[3],max=Math.max(r,g,b),min=Math.min(r,g,b),diff=max-min,add=max+min,l=add*0.5,h,s;if(min===max){h=0;}else if(r===max){h=(60*(g-b)/diff)+360;}else if(g===max){h=(60*(b-r)/diff)+120;}else{h=(60*(r-g)/diff)+240;}
if(diff===0){s=0;}else if(l<=0.5){s=diff/add;}else{s=diff/(2-add);}
return[Math.round(h)%360,s,l,a==null?1:a];};spaces.hsla.from=function(hsla){if(hsla[0]==null||hsla[1]==null||hsla[2]==null){return[null,null,null,hsla[3]];}
var h=hsla[0]/360,s=hsla[1],l=hsla[2],a=hsla[3],q=l<=0.5?l*(1+s):l+s-l*s,p=2*l-q;return[Math.round(hue2rgb(p,q,h+(1/3))*255),Math.round(hue2rgb(p,q,h)*255),Math.round(hue2rgb(p,q,h-(1/3))*255),a];};each(spaces,function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;color.fn[spaceName]=function(value){if(to&&!this[cache]){this[cache]=to(this._rgba);}
if(value===undefined){return this[cache].slice();}
var ret,type=jQuery.type(value),arr=(type==="array"||type==="object")?value:arguments,local=this[cache].slice();each(props,function(key,prop){var val=arr[type==="object"?key:prop.idx];if(val==null){val=local[prop.idx];}
local[prop.idx]=clamp(val,prop);});if(from){ret=color(from(local));ret[cache]=local;return ret;}else{return color(local);}};each(props,function(key,prop){if(color.fn[key]){return;}
color.fn[key]=function(value){var vtype=jQuery.type(value),fn=(key==="alpha"?(this._hsla?"hsla":"rgba"):spaceName),local=this[fn](),cur=local[prop.idx],match;if(vtype==="undefined"){return cur;}
if(vtype==="function"){value=value.call(this,cur);vtype=jQuery.type(value);}
if(value==null&&prop.empty){return this;}
if(vtype==="string"){match=rplusequals.exec(value);if(match){value=cur+parseFloat(match[2])*(match[1]==="+"?1:-1);}}
local[prop.idx]=value;return this[fn](local);};});});color.hook=function(hook){var hooks=hook.split(" ");each(hooks,function(i,hook){jQuery.cssHooks[hook]={set:function(elem,value){var parsed,curElem,backgroundColor="";if(value!=="transparent"&&(jQuery.type(value)!=="string"||(parsed=stringParse(value)))){value=color(parsed||value);if(!support.rgba&&value._rgba[3]!==1){curElem=hook==="backgroundColor"?elem.parentNode:elem;while((backgroundColor===""||backgroundColor==="transparent")&&curElem&&curElem.style){try{backgroundColor=jQuery.css(curElem,"backgroundColor");curElem=curElem.parentNode;}catch(e){}}
value=value.blend(backgroundColor&&backgroundColor!=="transparent"?backgroundColor:"_default");}
value=value.toRgbaString();}
try{elem.style[hook]=value;}catch(e){}}};jQuery.fx.step[hook]=function(fx){if(!fx.colorInit){fx.start=color(fx.elem,hook);fx.end=color(fx.end);fx.colorInit=true;}
jQuery.cssHooks[hook].set(fx.elem,fx.start.transition(fx.end,fx.pos));};});};color.hook(stepHooks);jQuery.cssHooks.borderColor={expand:function(value){var expanded={};each(["Top","Right","Bottom","Left"],function(i,part){expanded["border"+part+"Color"]=value;});return expanded;}};colors=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};})(jQuery);(function(){var classAnimationActions=["add","remove","toggle"],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,prop){$.fx.step[prop]=function(fx){if(fx.end!=="none"&&!fx.setAttr||fx.pos===1&&!fx.setAttr){jQuery.style(fx.elem,prop,fx.end);fx.setAttr=true;}};});function getElementStyles(elem){var key,len,style=elem.ownerDocument.defaultView?elem.ownerDocument.defaultView.getComputedStyle(elem,null):elem.currentStyle,styles={};if(style&&style.length&&style[0]&&style[style[0]]){len=style.length;while(len--){key=style[len];if(typeof style[key]==="string"){styles[$.camelCase(key)]=style[key];}}}else{for(key in style){if(typeof style[key]==="string"){styles[key]=style[key];}}}
return styles;}
function styleDifference(oldStyle,newStyle){var diff={},name,value;for(name in newStyle){value=newStyle[name];if(oldStyle[name]!==value){if(!shorthandStyles[name]){if($.fx.step[name]||!isNaN(parseFloat(value))){diff[name]=value;}}}}
return diff;}
if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};}
$.effects.animateClass=function(value,duration,easing,callback){var o=$.speed(duration,easing,callback);return this.queue(function(){var animated=$(this),baseClass=animated.attr("class")||"",applyClassChange,allAnimations=o.children?animated.find("*").addBack():animated;allAnimations=allAnimations.map(function(){var el=$(this);return{el:el,start:getElementStyles(this)};});applyClassChange=function(){$.each(classAnimationActions,function(i,action){if(value[action]){animated[action+"Class"](value[action]);}});};applyClassChange();allAnimations=allAnimations.map(function(){this.end=getElementStyles(this.el[0]);this.diff=styleDifference(this.start,this.end);return this;});animated.attr("class",baseClass);allAnimations=allAnimations.map(function(){var styleInfo=this,dfd=$.Deferred(),opts=$.extend({},o,{queue:false,complete:function(){dfd.resolve(styleInfo);}});this.el.animate(this.diff,opts);return dfd.promise();});$.when.apply($,allAnimations.get()).done(function(){applyClassChange();$.each(arguments,function(){var el=this.el;$.each(this.diff,function(key){el.css(key,"");});});o.complete.call(animated[0]);});});};$.fn.extend({addClass:(function(orig){return function(classNames,speed,easing,callback){return speed?$.effects.animateClass.call(this,{add:classNames},speed,easing,callback):orig.apply(this,arguments);};})($.fn.addClass),removeClass:(function(orig){return function(classNames,speed,easing,callback){return arguments.length>1?$.effects.animateClass.call(this,{remove:classNames},speed,easing,callback):orig.apply(this,arguments);};})($.fn.removeClass),toggleClass:(function(orig){return function(classNames,force,speed,easing,callback){if(typeof force==="boolean"||force===undefined){if(!speed){return orig.apply(this,arguments);}else{return $.effects.animateClass.call(this,(force?{add:classNames}:{remove:classNames}),speed,easing,callback);}}else{return $.effects.animateClass.call(this,{toggle:classNames},force,speed,easing);}};})($.fn.toggleClass),switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.call(this,{add:add,remove:remove},speed,easing,callback);}});})();(function(){$.extend($.effects,{version:"1.11.4",save:function(element,set){for(var i=0;i<set.length;i++){if(set[i]!==null){element.data(dataSpace+set[i],element[0].style[set[i]]);}}},restore:function(element,set){var val,i;for(i=0;i<set.length;i++){if(set[i]!==null){val=element.data(dataSpace+set[i]);if(val===undefined){val="";}
element.css(set[i],val);}}},setMode:function(el,mode){if(mode==="toggle"){mode=el.is(":hidden")?"show":"hide";}
return mode;},getBaseline:function(origin,original){var y,x;switch(origin[0]){case"top":y=0;break;case"middle":y=0.5;break;case"bottom":y=1;break;default:y=origin[0]/original.height;}
switch(origin[1]){case"left":x=0;break;case"center":x=0.5;break;case"right":x=1;break;default:x=origin[1]/original.width;}
return{x:x,y:y};},createWrapper:function(element){if(element.parent().is(".ui-effects-wrapper")){return element.parent();}
var props={width:element.outerWidth(true),height:element.outerHeight(true),"float":element.css("float")},wrapper=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),size={width:element.width(),height:element.height()},active=document.activeElement;try{active.id;}catch(e){active=document.body;}
element.wrap(wrapper);if(element[0]===active||$.contains(element[0],active)){$(active).focus();}
wrapper=element.parent();if(element.css("position")==="static"){wrapper.css({position:"relative"});element.css({position:"relative"});}else{$.extend(props,{position:element.css("position"),zIndex:element.css("z-index")});$.each(["top","left","bottom","right"],function(i,pos){props[pos]=element.css(pos);if(isNaN(parseInt(props[pos],10))){props[pos]="auto";}});element.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"});}
element.css(size);return wrapper.css(props).show();},removeWrapper:function(element){var active=document.activeElement;if(element.parent().is(".ui-effects-wrapper")){element.parent().replaceWith(element);if(element[0]===active||$.contains(element[0],active)){$(active).focus();}}
return element;},setTransition:function(element,list,factor,value){value=value||{};$.each(list,function(i,x){var unit=element.cssUnit(x);if(unit[0]>0){value[x]=unit[0]*factor+unit[1];}});return value;}});function _normalizeArguments(effect,options,speed,callback){if($.isPlainObject(effect)){options=effect;effect=effect.effect;}
effect={effect:effect};if(options==null){options={};}
if($.isFunction(options)){callback=options;speed=null;options={};}
if(typeof options==="number"||$.fx.speeds[options]){callback=speed;speed=options;options={};}
if($.isFunction(speed)){callback=speed;speed=null;}
if(options){$.extend(effect,options);}
speed=speed||options.duration;effect.duration=$.fx.off?0:typeof speed==="number"?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default;effect.complete=callback||options.complete;return effect;}
function standardAnimationOption(option){if(!option||typeof option==="number"||$.fx.speeds[option]){return true;}
if(typeof option==="string"&&!$.effects.effect[option]){return true;}
if($.isFunction(option)){return true;}
if(typeof option==="object"&&!option.effect){return true;}
return false;}
$.fn.extend({effect:function(){var args=_normalizeArguments.apply(this,arguments),mode=args.mode,queue=args.queue,effectMethod=$.effects.effect[args.effect];if($.fx.off||!effectMethod){if(mode){return this[mode](args.duration,args.complete);}else{return this.each(function(){if(args.complete){args.complete.call(this);}});}}
function run(next){var elem=$(this),complete=args.complete,mode=args.mode;function done(){if($.isFunction(complete)){complete.call(elem[0]);}
if($.isFunction(next)){next();}}
if(elem.is(":hidden")?mode==="hide":mode==="show"){elem[mode]();done();}else{effectMethod.call(elem[0],args,done);}}
return queue===false?this.each(run):this.queue(queue||"fx",run);},show:(function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="show";return this.effect.call(this,args);}};})($.fn.show),hide:(function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="hide";return this.effect.call(this,args);}};})($.fn.hide),toggle:(function(orig){return function(option){if(standardAnimationOption(option)||typeof option==="boolean"){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="toggle";return this.effect.call(this,args);}};})($.fn.toggle),cssUnit:function(key){var style=this.css(key),val=[];$.each(["em","px","%","pt"],function(i,unit){if(style.indexOf(unit)>0){val=[parseFloat(style),unit];}});return val;}});})();(function(){var baseEasings={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2);};});$.extend(baseEasings,{Sine:function(p){return 1-Math.cos(p*Math.PI/2);},Circ:function(p){return 1-Math.sqrt(1-p*p);},Elastic:function(p){return p===0||p===1?p:-Math.pow(2,8*(p-1))*Math.sin(((p-1)*80-7.5)*Math.PI/15);},Back:function(p){return p*p*(3*p-2);},Bounce:function(p){var pow2,bounce=4;while(p<((pow2=Math.pow(2,--bounce))-1)/11){}
return 1/Math.pow(4,3-bounce)-7.5625*Math.pow((pow2*3-2)/22-p,2);}});$.each(baseEasings,function(name,easeIn){$.easing["easeIn"+name]=easeIn;$.easing["easeOut"+name]=function(p){return 1-easeIn(1-p);};$.easing["easeInOut"+name]=function(p){return p<0.5?easeIn(p*2)/2:1-easeIn(p* -2+2)/2;};});})();var effect=$.effects;}));var Bubble={positionRight:"R",positionLeft:"L",positionCenter:"C",positionLeftDown:"LD",positionRightLeft:"RL",positionUnknown:"U",isBubbleVisible:{},elementIds:[],setDataBack:true,hideCallback:''};Bubble.showBubble=function(event){event.data.target=event.currentTarget;Bubble.show(event.data);if(jQuery.isFunction(event.preventDefault)){event.preventDefault();}};Bubble.show=function(data){var $position=data.position;if(typeof data.setDataBack!='undefined'){Bubble.setDataBack=data.setDataBack;}
if(typeof data.hideCallback!='undefined'){Bubble.hideCallback=data.hideCallback;}
var $element=jQuery(data.target),elementId=$element.attr("id"),$bubble=jQuery("#bubble-"+elementId),$bubbleContent=jQuery("#bubbleContent-"+elementId),$bubbleArrow=jQuery("#bubbleArrow-"+elementId),$dataElement=jQuery("#"+elementId+"-data");if(Bubble.isBubbleVisible[elementId]){Bubble.isBubbleVisible[elementId]=!Bubble.isBubbleVisible[elementId];if($dataElement.size()>0){var contentData=$bubbleContent.html();$dataElement.html(contentData);$bubbleContent.html('');var arrayIndex=jQuery.inArray(elementId,Bubble.elementIds);if(arrayIndex>-1){Bubble.elementIds.splice(arrayIndex,1);}}
if(jQuery.isFunction(Bubble.hideCallback)){Bubble.hideCallback();}}else{Bubble.isBubbleVisible[elementId]=true;if($bubble.length===0){$bubble=jQuery("<span>").attr("id","bubble-"+elementId).addClass("bubble");$element.parent().append($bubble);$bubbleContent=jQuery("<span>").attr("id","bubbleContent-"+elementId).addClass("bubble-content");$bubbleArrow=jQuery("<span>").attr("id","bubbleArrow-"+elementId).addClass("bubble-arrow");$bubble.append($bubbleContent).append($bubbleArrow);}
$bubbleArrow.removeClass("bubble-arrow-right");$bubbleArrow.removeClass("bubble-arrow-left");if($dataElement.size()>0){var contentData=$dataElement.html();$bubbleContent.html(contentData);$dataElement.html('');}
else{$bubbleContent.html("No data available to display");}
if(jQuery.inArray(elementId,Bubble.elementIds)==-1){Bubble.elementIds.push(elementId);}
if($position===Bubble.positionLeft){Bubble.setLeft({$element:$element,$bubbleArrow:$bubbleArrow,$bubble:$bubble,$bubbleContent:$bubbleContent});}
else if($position===Bubble.positionRight){Bubble.setRight({$element:$element,$bubbleArrow:$bubbleArrow,$bubble:$bubble,$bubbleContent:$bubbleContent});}
else if($position===Bubble.positionCenter){Bubble.setCenter({$element:$element,$bubbleArrow:$bubbleArrow,$bubble:$bubble,$bubbleContent:$bubbleContent});}
else if($position===Bubble.positionLeftDown){Bubble.setLeftDown({$element:$element,$bubbleArrow:$bubbleArrow,$bubble:$bubble,$bubbleContent:$bubbleContent});}
else if($position===Bubble.positionRightLeft){Bubble.setRightLeft({$element:$element,$bubbleArrow:$bubbleArrow,$bubble:$bubble,$bubbleContent:$bubbleContent});}
else{Bubble.setWithElementLocation({$element:$element,$bubbleArrow:$bubbleArrow,$bubble:$bubble,$bubbleContent:$bubbleContent});}}
$bubble.toggle();};Bubble.hide=function(e){var elementId=e.data.elementId;if(Bubble.isBubbleVisible[elementId]){Bubble.isBubbleVisible[elementId]=!Bubble.isBubbleVisible[elementId];var $bubble=jQuery("#bubble-"+elementId),$bubbleContent=jQuery("#bubbleContent-"+elementId);if(Bubble.setDataBack){var data=$bubbleContent.html(),$dataElement=jQuery("#"+elementId+"-data");$dataElement.html(data);}
$bubbleContent.html('');var arrayIndex=jQuery.inArray(elementId,Bubble.elementIds);if(arrayIndex>-1){Bubble.elementIds.splice(arrayIndex,1);}
$bubble.toggle();}
if(jQuery.isFunction(Bubble.hideCallback)){Bubble.hideCallback();}};Bubble.forceHideAll=function(e){var bubbleCnt=Bubble.elementIds.length;for(var i=0;i<bubbleCnt;i++){var elementId=Bubble.elementIds[i];e["data"]={'elementId':elementId};Bubble.hide(e);}};Bubble.hideAll=function(e){var bubbleCnt=Bubble.elementIds.length;for(var i=0;i<bubbleCnt;i++){var elementId=Bubble.elementIds[i];if(!jQuery(e.target).closest('#'+elementId)[0]&&!jQuery(e.target).closest('#bubble-'+elementId)[0]){e["data"]={'elementId':elementId};Bubble.hide(e);}}};Bubble.setRight=function(data){var element=data.$element.get(0);var top=jQuery(element).position().top+data.$element.outerHeight();var bubbleWidth=data.$bubble.outerWidth();var right=jQuery(element).position().left-(bubbleWidth-(data.$element.outerWidth()));data.$bubbleArrow.addClass("bubble-arrow-right");data.$bubbleArrow.css({left:(bubbleWidth-32)+"px"});data.$bubble.css({top:top+"px",left:right+"px"});};Bubble.setCenter=function(data){var element=data.$element.get(0);var top=jQuery(element).position().top+data.$element.outerHeight();var center=parseInt(data.$element.outerWidth()/2);var bubbleWidth=data.$bubble.outerWidth();var left=jQuery(element).position().left+center;var bubbleCenter=left-(bubbleWidth/2);data.$bubbleArrow.css({left:(bubbleWidth/2)+"px"});data.$bubbleArrow.addClass("bubble-arrow-center")
data.$bubble.css({top:top+"px",left:bubbleCenter+"px"});};Bubble.setLeftDown=function(data){var element=data.$element.get(0);var bottom=jQuery(element).position().top+data.$element.outerHeight();var center=parseInt(data.$element.outerWidth()/2);var bubbleWidth=data.$bubble.outerWidth();var bubbleHeight=data.$bubble.outerHeight();var left=jQuery(element).position().left+center;var bubbleCenter=left-(bubbleWidth/2);data.$bubbleArrow.css({'left':Math.floor(bubbleWidth/4),'top':(bubbleHeight+11)});data.$bubbleArrow.addClass("bubble-arrow-center")
data.$bubble.css({bottom:bottom,left:bubbleCenter,top:'auto'});};Bubble.setLeft=function(data){var element=data.$element.get(0);var top=jQuery(element).position().top+data.$element.outerHeight();var bubbleWidth=data.$bubble.outerWidth();var right=jQuery(element).position().left-12;data.$bubbleArrow.css({width:bubbleWidth+"px",left:5+"px"});data.$bubble.css({top:top+"px",left:right+"px"});};Bubble.setRightLeft=function(data){var element=data.$element.get(0);var top=jQuery(element).position().top+data.$element.outerHeight();var bubbleWidth=data.$bubble.outerWidth();var right=jQuery(element).position().left-(bubbleWidth*.88);data.$bubbleArrow.css({left:(bubbleWidth*.86)});data.$bubble.css({top:top+"px",left:right+"px"});};Bubble.setWithElementLocation=function(data){var $element=data.$element.get(0);var top=$element.position().top;var left=$element.position().left;var height=$element.outerHeight();var width=$element.outerWidth();var bubbleWidth=$bubble.outerWidth();var bubbleLeft=(left+(width/2))-bubbleWidth/2;var arrowLeft=(bubbleWidth/2.5);$bubble.css({top:(top+height)+"px",left:bubbleLeft+"px"});$bubbleArrow.css("left",arrowLeft+"px");if(bubbleWidth>width){var windowWidth=jQuery(window).width();var right=windowWidth-(left+width);if(right<bubbleWidth){bubbleLeft=windowWidth-(bubbleWidth+right);$bubble.css({left:bubbleLeft+"px"});$bubbleArrow.css({left:(bubbleWidth)+"px"});$bubbleArrow.addClass("bubble-arrow-right");}
else if(bubbleLeft<bubbleWidth){bubbleLeft=left;var arrowLeft=left-4;$bubbleArrow.css({left:arrowLeft+"px"});$bubbleArrow.addClass("bubble-arrow-left");$bubble.css({left:bubbleLeft+"px"});}}};var key='';var g_MAX_EMAIL_REF_COUNT;var g_MAX_PRINT_REF_COUNT;var g_MAX_EXPORT_REF_COUNT;var g_MAX_LIST_REF_COUNT;var g_MAX_CTO_REF_COUNT;var g_MAX_REFS_REF_COUNT;var g_MAX_CITEDBY_REF_COUNT;var g_MAX_DOWNLOAD_DOC_COUNT;var g_maxEmailSelectedExceeded=false;var g_maxPrintSelectedExceeded=false;var g_maxExportSelectedExceeded=false;var g_maxListSelectedExceeded=false;var g_maxCTOBatchSelectedExceeded=false;var g_maxRefsSelectedExceeded=false;var g_maxCitedbySelectedExceeded=false;var g_maxDownloadSelectedExceeded=false;var g_resultsFormTarget='_self';var g_MAX_CTO_BATCH_REF_COUNT;var g_MAX_BATCH_EXPORT_REF_COUNT;var g_MAX_BATCH_EXPORT_REF_STRING;var reqFromhubLink=false;var searchTermValue=jQuery("#searchTerms").val();var isIE8=jQuery.browser.msie&&+jQuery.browser.version===8;var isIE9=jQuery.browser.msie&&+jQuery.browser.version===9;function setSortField(sortValue,sortFieldName,form,metricName,isFromSourceResults,metricDisplayIndex)
{if($(form).attr("name")==='SourcesSearchForm'&&form.elements['searchTerms'].value===''&&searchTermValue!==undefined&&searchTermValue!==''){form.elements['searchTerms'].value=searchTermValue;}
if(isFromSourceResults){form.elements['sortPerformedState'].value='t';form.elements['metricDisplayIndex'].value=metricDisplayIndex;form.elements['sortField'].value=sortFieldName;form.elements['typeFilter'].value=jQuery("input[name=typeFilterSelectedString]").val();if(metricName!=''&&metricName!=null){form.elements['metricName'].value=metricName;}
if(metricName==='title'){form.elements['sortDirection'].value='ASC';}}else{form.recordid.value='';if(form.details){form.details.value='';}
form.elements[sortFieldName].value=sortValue;}
form.target="_self";form.submit();}
function nextPageResults()
{document.SearchResultsForm.searchWithinResultsDefault.value="nextPage";document.SearchResultsForm.target="_self";document.SearchResultsForm.submit();}
function checkForm()
{var returnVal=true;if(!reqFromhubLink){setFormTarget();reqFromhubLink=false;}
return returnVal;}
function submitAndRedirect(url){document.SearchResultsForm.clustering.value='';document.SearchResultsForm.redirect.value=url;document.SearchResultsForm.target="_self";document.SearchResultsForm.submit();}
function mouseImage(isSortAsc){image1=new Image();image2=new Image();image1.src="static/images/arrow_down_white.gif";image2.src="static/images/arrow_up_white.gif";if(isSortAsc=='F'){}else{}}
function getselcount(form){var selCount=parseInt(form.scount.value);var ansCount=parseInt(form.count.value);var pageSelectTotal=parseInt(form.pageselecttotal.value);selCount=selCount-pageSelectTotal;var selAllChkBox=form.selectAllCheckBox.checked;if(selAllChkBox){return ansCount;}else{for(var i=0;i<form.elements.length;++i){var eleControl=form.elements[i];if(eleControl.type=="checkbox"&&eleControl.name=="selectedEIDs"){if(eleControl.checked){++selCount;}}}
return selCount;}}
function addCommas(nStr){nStr+='';x=nStr.split('.');x1=x[0];x2=x.length>1?'.'+x[1]:'';var rgx=/(\d+)(\d{3})/;while(rgx.test(x1)){x1=x1.replace(rgx,'$1'+','+'$2');}
return x1+x2;}
function processLinkClick(button){document.SearchResultsForm.clustering.value='';document.SearchResultsForm.clickedLink.value=button;document.SearchResultsForm.target="_self";document.SearchResultsForm.submit();}
function jumpToPageSyncUpCurrentPage(form,page){jQuery("#"+form).children("input[name='currentPage']").val(page);jQuery("#"+form).children("input[name='clickedLink']").val('go');jQuery("#"+form).children("input[name='details']").val('');}
function documentJumpToPageNumericValidation(e,page,form){var sourceResultsCount=jQuery("#sourceResultsCount").val();var numberOfSourcesPerPage=jQuery("#numberOfSourcesPerPage").val();var offset=(page*numberOfSourcesPerPage)-numberOfSourcesPerPage+1;var isNS=(navigator.appName=="Netscape")?1:0;var key;if(!isNS){key=e.keyCode;}else{key=e.which;}
if(key==8||key==0){return true;}else if(key>47&&key<58){return true;}else if(key==13){sourceResultsCount=sourceResultsCount.replace(' sources found matching','');if(offset<sourceResultsCount&&offset>0){var documentURL=document.URL;var offsetStartIndex=documentURL.indexOf("offset");var offsetEndIndex=documentURL.indexOf('&',offsetStartIndex);if(offsetStartIndex!=-1&&offsetEndIndex==-1){offsetEndIndex=documentURL.length;}
var offsetToBeReplaced=documentURL.substring(offsetStartIndex,offsetEndIndex);window.location.href=documentURL.replace(offsetToBeReplaced,"offset="+offset);}}
return false;}
function documentJumpToPageSyncUpCurrentPage(form,page){jQuery(form).children("input[name='documentJumpToPageDefault']").val('t');jQuery(form).children("input[name='currentPage']").val(page);jQuery(form).children("input[name='clickedLink']").val('go');}
function GetXmlHttpObject()
{if(window.XMLHttpRequest){return new XMLHttpRequest();}
if(window.ActiveXObject){return new ActiveXObject("Microsoft.XMLHTTP");}
return null;}
function prevNextBarLink(linkname){document.SearchResultsForm.action='results/handle.uri';document.SearchResultsForm.clickedLink.value=linkname;document.SearchResultsForm.target="_self";document.SearchResultsForm.submit();}
function setSelectedLink(linkname){document.SearchResultsForm.clickedLink.value=linkname;document.SearchResultsForm.submit();}
function sortFieldSub(sortValue,sortFieldName,form){form.elements[sortFieldName].value=sortValue;if(form.clickedLink!=null&&form.clickedLink.value!=""){form.clickedLink.value="";}
document.SearchResultsForm.sortOrderFlag.value='t';form.target="_self";form.submit();}
var MenuList=jQuery('.featuresRow ul#MenuList').html();jQuery('ul#reqMenuList').html(MenuList);jQuery('body').bind('click',function(e){if(!jQuery(e.target).closest('.moreLnk')[0]){jQuery('.moreMenu').hide();jQuery('.reqMoreMenu').hide();}});function checkQueryBarStartingLinkSeperator(){jQuery("div.resultsQueryBar").find("span.link_sep").each(function(){var left=jQuery(this).position().left;if(left<=15){jQuery(this).hide();}});}
jQuery.fn.outerHTML=function(s){if(this.length==0)return false;var elem=this[0],name=elem.tagName.toLowerCase();if(elem.outerHTML)return elem.outerHTML;var attrs=jQuery.map(elem.attributes,function(i){return i.name+'="'+i.value+'"';});return"<"+name+(attrs.length>0?" "+attrs.join(" "):"")+">"+elem.innerHTML+"</"+name+">";};var srhWithIn=srcBrowse.SOUR_SEARCH_667()+"...";jQuery(function(){checkQueryBarStartingLinkSeperator();searchwithinWaterMark();});function searchwithinWaterMark(){jQuery('#searchTerms').searchForPlaceholder({left:{enabled:true,value:srhWithIn,type:"simple",classes:"searchForTxt"},right:{enabled:false}});}
function activateSourceSearchBtn(){if(jQuery.trim(jQuery("#searchTerms").val())==""){jQuery("#searchTerms").val('');jQuery("#searchTermsSubmit").removeClass("searchWithBtnAct");jQuery("#searchTermsSubmit").attr("disabled",true);}
else{jQuery("#searchTermsSubmit").addClass("searchWithBtnAct");jQuery("#searchTermsSubmit").attr("disabled",false);jQuery(this).removeClass('waterMarkOn');}}
jQuery("#searchTerms").bind('keydown',function(e){if(e.keyCode!=9){jQuery("#searchTermsSubmit").addClass("searchWithBtnAct");jQuery("#searchTermsSubmit").attr("disabled",false);jQuery(this).removeClass('waterMarkOn');}}).bind('keyup',function(e){activateSourceSearchBtn();});jQuery("#searchTerms").on('paste',function(){setTimeout(function(){jQuery("#searchTermsSubmit").addClass("searchWithBtnAct");jQuery("#searchTermsSubmit").attr("disabled",false);jQuery(this).removeClass('waterMarkOn');},100);});jQuery("#searchTerms").on('cut',function(){setTimeout(function(){if(jQuery.trim(jQuery("#searchTerms").val())==""){jQuery("#searchTermsSubmit").removeClass("searchWithBtnAct");jQuery("#searchTermsSubmit").attr("disabled",true);}},100);});jQuery("input[name=searchOA]").on('change',function(e){activateSourceSearchBtn();});jQuery("#searchType").on('selectmenuchange',function(e){activateSourceSearchBtn();});jQuery('input.paginationNum').bind('focus',function(){jQuery('span.paginationTxt').css({'visibility':'hidden'});jQuery('input.paginationNum').val('');}).bind('blur',function(){jQuery('span.paginationTxt').css({'visibility':'visible'});jQuery('input.paginationNum').val(jQuery(this).attr('data-value'));});var scopusTab={isAjaxSuccess:false,firstTimeout:false,secondTimeout:false,timer:0,menuItems:[],loadDivContainer:"",loadingText1:"",loadingText2:"",buildTab:function(data,level){var objDIV=jQuery('<div >',{"class":"tabFunc"});var objUL=jQuery('<ul>',{'role':'tablist'});var objDivFrstTabCnt=jQuery('<div>');objDIV.append(objUL);jQuery.each(data,function(index,item){if(item.objTitleCount>0||item.objTitleCount==-1||item.objTitleCount==-2){var divCnt=[item.objTabTitle];if(item.objTitleCount==-2){divCnt.push('<span class="tabTitleCount">(0)</span>');}else if(item.objTitleCount!=-1){divCnt.push('<span class="tabTitleCount">(',item.objTitleCount,')</span>');}
var divObj=jQuery('<div>',{html:divCnt.join('')});var tabId=item.hasOwnProperty("reference")?item.reference:level+"-"+index;var tabToolTip=item.hasOwnProperty("toolTip")?item.toolTip:item.objTabTitle;var aObj=jQuery('<a>',{"href":"#lvl"+level+"Tab"+index,"id":"a"+tabId,"data-id":tabId,"title":tabToolTip,'role':'presentation'}).append(divObj);var objLI=jQuery('<li>',{'id':tabId,'role':'tab'}).append(aObj);objUL.append(objLI);var divfrstLvlTabCnt=jQuery('<div>',{"class":"secndLvlTabs",id:"lvl"+level+"Tab"+index,'role':'tabpanel','aria-labelledby':tabId});if(item.hasOwnProperty('objSubTabTitle')&&item.objSubTabTitle.length>0){var objSubTab=scopusTab.buildTab(item.objSubTabTitle,2);divfrstLvlTabCnt.append(objSubTab);}
divfrstLvlTabCnt.append(jQuery('#'+item.objCntHoldID));objDIV.append(divfrstLvlTabCnt);}});objDIV.append(objDivFrstTabCnt.html());objDIV.append('<div class="clear"></div>');return objDIV;},buildTotalRow:function(tableID,firstColValue,totalUrl,totalDocuments,urlTitle){var tableObj=jQuery('#'+tableID+' tr:last-child').parent('tbody');var rowObj=jQuery("<tr>");var firstCellObj=jQuery("<td>",{html:firstColValue,title:firstColValue});var secondCellObj=jQuery("<td>");var totalLinkObj=totalUrl==''?jQuery("<a>",{'html':totalDocuments,'class':'previewTxt','title':urlTitle}):jQuery("<a>",{'html':totalDocuments,'title':urlTitle,'href':totalUrl});secondCellObj.append(totalLinkObj);rowObj.append(firstCellObj);rowObj.append(secondCellObj);tableObj.append(rowObj);},buildAnchorTag:function(htmlContent,url,urlTitle){var anchorObj=["<a href='",url,"' title='",urlTitle,"'>",htmlContent,"</a>"];return anchorObj.join('');},buildPreviewAnchorTag:function(htmlContent,urlTitle){var anchorObj=["<a "];anchorObj.push(" class='previewTxt' ");anchorObj.push("title='",urlTitle,"'>",htmlContent,"</a>");return anchorObj.join('');},enableDisableTab:function(enable,tabIndexArray){if(enable){jQuery(".tabFunc").tabs({"disabled":[],active:0});scopusTab.setAriaForTab(0);}else{jQuery(".tabFunc").tabs({collapsible:true,active:-1,"disabled":tabIndexArray});}},adjustTableHead:function(){$(".tabFunc").bind('tabsshow',function(event,ui){var tableObj=$('div.dataTables_scrollBody>table:visible',ui.panel).dataTable();tableObj.fnAdjustColumnSizing(false);});},calcContHeightWithMfactor:function(mfactor){var windowWidth=jQuery(window).width();var windowHeight=jQuery(window).height();windowHeight=windowHeight<768?768:windowHeight;return(windowHeight*mfactor);},hideOnTime:function(){if(scopusTab.isAjaxSuccess){scopusTab.hideLoadingOverlay();scopusTab.loadingText1="";scopusTab.loadingText2="";}
else if(!scopusTab.firstTimeout){scopusTab.firstTimeout=true;scopusTab.loadingTimeout=setTimeout(scopusTab.hideOnTime,3000);}
else{jQuery('.loadingInnerText').html(scopusTab.loadingText2);scopusTab.secondTimeout=true;}},showLoadingOverlay:function(){var loadContainer=jQuery('#'+scopusTab.loadDivContainer);if(loadContainer.length){var scrollTop=$(window).scrollTop(),divOffset=loadContainer.offset().top,overlayTop=(divOffset-scrollTop);overlayTop=overlayTop>0?overlayTop:0;var modalDiv=jQuery('<div>',{'class':'ui-widget-overlay contOpacity','id':"loadingModalDiv",'style':'top:'+overlayTop});if(overlayTop==0){modalDiv.css("height",'100%');}
var divObj=jQuery('<div>',{'class':'loadingTableAndChart loadingImageAndTitle','id':'loadingContentContainer'});var innerTextObj=jQuery('<div>',{'class':'loadingInnerText','text':scopusTab.loadingText1});divObj.append(innerTextObj);loadContainer.append(divObj).append(modalDiv);jQuery('body').css("overflow",'hidden');}},hideLoadingOverlay:function(){jQuery('body').css("overflow",'auto');jQuery('#loadingModalDiv').remove();jQuery('#loadingContentContainer').remove();scopusTab.isAjaxSuccess=false;scopusTab.firstTimeout=false;scopusTab.secondTimeout=false;},showHideLoading:function(params){if(jQuery.type(params)!="undefined"&&scopusTab.loadingText1==""&&params.hasOwnProperty("loadingText1")){scopusTab.loadingText1=params.loadingText1;if(params.hasOwnProperty("loadingText2")){scopusTab.loadingText2=params.loadingText2;}
if(params.hasOwnProperty("loadDivContainer")){scopusTab.loadDivContainer=params.loadDivContainer;}}
if(scopusTab.secondTimeout){scopusTab.hideLoadingOverlay();scopusTab.secondTimeout=false;scopusTab.loadingText1="";scopusTab.loadingText2="";}else{var loadingContentContainer=jQuery("#loadingContentContainer");if(loadingContentContainer.length<=0){scopusTab.showLoadingOverlay();jQuery('.loadingTableAndChart').show();scopusTab.isAjaxSuccess=false;scopusTab.loadingTimeout=setTimeout(function(){scopusTab.hideOnTime();clearInterval(scopusTab.setInterval);},2000);}else{scopusTab.isAjaxSuccess=true;if(scopusTab.firstTimeout){scopusTab.hideOnTime();clearTimeout(scopusTab.loadingTimeout);}}}},showHideLoadingContainer:function(params){if(jQuery.type(params)!="undefined"&&scopusTab.loadingText1==""&&params.hasOwnProperty("loadingText1")){scopusTab.loadingText1=params.loadingText1;if(params.hasOwnProperty("loadingText2")){scopusTab.loadingText2=params.loadingText2;}
if(params.hasOwnProperty("loadDivContainer")){scopusTab.loadDivContainer=params.loadDivContainer;}}
if(scopusTab.secondTimeout){scopusTab.hideLoadingOverlay();scopusTab.secondTimeout=false;scopusTab.loadingText1="";scopusTab.loadingText2="";}else{var loadingContentContainer=jQuery("#loadingContentContainer");if(loadingContentContainer.length<=0){scopusTab.showLoadingOverlay();jQuery('.loadingTableAndChart').show().css({'top':'10%',"left":"50%"});scopusTab.isAjaxSuccess=false;scopusTab.loadingTimeout=setTimeout(function(){scopusTab.hideOnTime();clearInterval(scopusTab.setInterval);},2000);}else{scopusTab.isAjaxSuccess=true;if(scopusTab.firstTimeout){scopusTab.hideOnTime();clearTimeout(scopusTab.loadingTimeout);}}}},init:function(tableHdrWidth){var objTab=scopusTab.buildTab(scopusTab.menuItems,1);jQuery(".firstLvlTabs").append(objTab);if(tableHdrWidth){jQuery(".tabFunc").tabs({"show":function(event,ui){var oTable=jQuery('div.dataTables_scrollBody>table.display',ui.panel).dataTable();if(oTable.length>0){oTable.fnAdjustColumnSizing();}}});}
jQuery(".tabFunc").tabs({select:function(event,ui){jQuery('div.firstLvlTabs ul li a').attr('aria-selected','false');jQuery(ui.tab).attr('aria-selected','true');Bubble.hideAll(event);}});scopusTab.setAriaForTab(0);},setAriaForTab:function(tabIndex){jQuery('div.firstLvlTabs ul li a').attr('aria-selected','false');jQuery('div.firstLvlTabs ul li:nth-child('+(++tabIndex)+') a').attr('aria-selected','true');}};var chartExport={exportObjId:"export_results",hrefVal:'#exportChart',exportBubbleClose:function(e){e["data"]={elementId:this.exportObjId};Bubble.hide(e);},linkNav:[],buildExportBubble:function(){var linkNavSize=chartExport.linkNav.length;var divObj=jQuery("<div>",{"id":this.exportObjId+'-data',"class":"bubble-source-data"});var ulObj=jQuery("<ul>",{'id':'expLinkNav'});divObj.append(ulObj);for(var i=0;i<linkNavSize;i++){var navLinkClass="exportLinkNormal";var navObj=chartExport.linkNav[i];var liObj=jQuery("<li>",{"id":'row'+i});var aObj=jQuery("<a>",{"id":navObj.id,href:"#"+navObj.value,"class":navLinkClass,"title":navObj.title,"html":navObj.text,"onClick":navObj.clickFn});liObj.append(aObj);ulObj.append(liObj);}
jQuery("#"+this.exportObjId).parent().append(divObj);jQuery('body').off("click.hideExpBubble").on('click.hideExpBubble',function(e){Bubble.hideAll(e);});this.enableLink();jQuery(".exportPrintEmailLinkSec").on('focus',"#bubble-export_results",{'elementId':'export_results'},chartEmail.hideOnFocusOut);},disableLink:function(){var exportLink=jQuery("#"+this.exportObjId);var exportLinkParent=exportLink.unbind("click").bind("click",function(e){e.preventDefault();jQuery(e.target).blur();}).parent("div");if(!exportLinkParent.hasClass("lnkDisabled")){exportLinkParent.addClass("lnkDisabled");}
exportLink.removeAttr("href");},enableLink:function(){var exportLink=jQuery("#"+this.exportObjId);exportLink.parent("div").removeClass("lnkDisabled");exportLink.unbind("click").bind("click",{position:Bubble.positionCenter,setDataBack:true},Bubble.showBubble);exportLink.attr("href",chartExport.hrefVal);}};var chartEmail={emailWaterMark:"",emailTitle:"",emailUsrTitle:"",emailWaterMarkUserMail:"",emailBubbleHeader:"",emailBubbleDesc:"",emailBubbleDescUserMail:"",emailFormatLabel:"",emailFormatValue:"",sendButtonLabel:"",sendButtonTitle:"",closeButtonTitle:"",userMailId:"",emailFormatValueHTML:"",emailFormatValueTEXT:"",hrefVal:'#emailLink',loggedInUser:false,affilAuthEmailPopup:false,formAction:'',privacyPolicy:'',privacyPolicyToolTip:'',sendButtonClick:function(e){e.preventDefault();},removeEmailErrMsg:function(){jQuery('#errorMsgContainer').remove();},closeButtonClick:function(e){e.preventDefault();Bubble.hide(e);chartEmail.removeEmailErrMsg();},hideOnFocusOut:function(event){jQuery('body').die("focus.email").live('focus.email',{'elementId':event.data.elementId},chartEmail.hideBubble);},hideBubble:function(event){Bubble.hideAll(event);var elementId=event.data.elementId;if(!jQuery(event.target).closest('#'+elementId)[0]&&!jQuery(event.target).closest('#bubble-'+elementId)[0]){jQuery('body').die("focus.email");}},emailFormSubmit:function(event){event.preventDefault();jQuery('#sendButton').click();},buildEmailBubble:function(obj){var objId=jQuery(obj).attr("id");if(typeof objId=="undefined"){jQuery(obj).attr("id","emailChart");objId="emailChart";}
var divObj=jQuery("<div>",{id:objId+'-data',"class":"bubble-source-data"});var cntDivObj=jQuery("<div>",{"class":"cntEmailBubble"});var clsAncObj=jQuery("<a>",{"href":"#","alt":"","title":this.closeButtonTitle,"class":"clsEmailBubble"});var formObj=jQuery("<form>",{id:'emailForm','onsubmit':'chartEmail.emailFormSubmit(event);'});var headerDivObj=jQuery("<div>",{"class":"emailHeader","html":this.emailBubbleHeader});var desvDivObj=jQuery("<div>",{"class":"emailDesc","html":this.emailBubbleDesc});var inputDivObj=jQuery("<div>",{"class":"addBackgroundWhiteEmail"});var inputObj=jQuery("<input>",{id:'emailId',title:this.emailTitle,name:'emailId',type:'text',"class":'defaultWaterMark'});inputDivObj.append(inputObj);var userInputDivObj=jQuery("<div>",{"class":"addBackgroundWhiteEmail"});var formatDivObj=jQuery("<div>",{"class":"emailformat"});var fmtLblObj=jQuery("<label>",{"class":"emailformatLbl",html:this.emailFormatLabel});if(this.affilAuthEmailPopup){var userDescDivObj=jQuery("<div>",{"class":"emailDesc","html":this.emailBubbleDescUserMail});var userInputObj=jQuery("<input>",{id:'userEmailId',title:this.emailUsrTitle,name:'userEmailId',type:'text',"class":'defaultWaterMark'});userInputDivObj.append(userInputObj);var spanRadiobtn=jQuery("<span>",{"class":"custom-radioBtn htmlAndText"});var htmlFmtSpanObj=jQuery("<input>",{"type":"radio","id":"frmtHTML","name":"emailFrmt","title":this.emailFormatValueHTML,"checked":"checked","value":this.emailFormatValueHTML});var htmlFmtLabelObj=jQuery("<label>",{"for":"frmtHTML","id":"emailFrmtHTML","html":this.emailFormatValueHTML});var textFmtSpanObj=jQuery("<input>",{"type":"radio","id":"frmtTEXT","name":"emailFrmt","title":this.emailFormatValueTEXT,"value":this.emailFormatValueTEXT});var textFmtLabelObj=jQuery("<label>",{"for":"frmtTEXT","id":"emailFrmtTEXT","html":this.emailFormatValueTEXT});var spanRadioCircle=jQuery("<span>",{"class":"circle"});var spanRadioDot=jQuery("<span>",{"class":"dot"});var objRadioBtn=spanRadioCircle.append(spanRadioDot);var objHTMLRadio=spanRadiobtn.clone().append(htmlFmtSpanObj).append(objRadioBtn.clone());var objTEXTRadio=spanRadiobtn.clone().append(textFmtSpanObj).append(objRadioBtn.clone());formatDivObj.append(fmtLblObj).append(objHTMLRadio).append(htmlFmtLabelObj).append(objTEXTRadio).append(textFmtLabelObj);}else{var fmtSpanObj=jQuery("<span>",{"class":"emailformatSpan",html:this.emailFormatValue});formatDivObj.append(fmtLblObj).append(fmtSpanObj);}
var buttonDivObj=jQuery("<div>",{"class":"emailButtons"});var buttonObj=jQuery("<input>",{"id":"sendButton","type":"button","class":"btnEnable","disabled":"disabled","value":this.sendButtonLabel,"title":this.sendButtonTitle});buttonDivObj.append(buttonObj);if(this.affilAuthEmailPopup){var headerDivObjAuthAffil=jQuery("<div>",{"class":"emailHeader"});var objDivEmailCnt=jQuery('<div>',{"class":"emailHdrTxtPos","html":this.emailBubbleHeader});var privPolDiv=jQuery('<div>',{"class":"emailPravicyPol"});var anchPrivPol=jQuery('<a>',{"class":"txtSmaller","href":"../https@www.elsevier.com/locate/privacypolicy","title":this.privacyPolicyToolTip,"target":"_blank","html":this.privacyPolicy});var privPolClear=jQuery('<div>',{"class":"clear"});privPolDiv.append(anchPrivPol);headerDivObjAuthAffil.append(objDivEmailCnt).append(privPolDiv).append(privPolClear);formObj.append(headerDivObjAuthAffil).append(desvDivObj).append(inputDivObj).append(userDescDivObj).append(userInputDivObj).append(formatDivObj).append(buttonDivObj);}else{formObj.append(headerDivObj).append(desvDivObj).append(inputDivObj).append(formatDivObj).append(buttonDivObj);}
var clearDivObj=jQuery("<div>",{"class":"clear"});cntDivObj.append(clsAncObj).append(formObj).append(clearDivObj);divObj.append(cntDivObj);jQuery('body').die("click").live('click',{'elementId':'emailChart'},chartEmail.hideBubble);this.enableLink(obj);obj.unbind("click").bind("click",function(e){e["data"]={position:Bubble.positionRight,setDataBack:true};Bubble.showBubble(e);jQuery('#emailId_left').remove();chartEmail.setEmailWaterMark('emailId',chartEmail.emailWaterMark);if(chartEmail.affilAuthEmailPopup){jQuery('#userEmailId_left').remove();chartEmail.setEmailWaterMark('userEmailId',chartEmail.emailWaterMarkUserMail);}
chartEmail.emailBtnEnableDisable();jQuery(".cntEmailBubble a.clsEmailBubble").bind("click",{elementId:objId},chartEmail.closeButtonClick);jQuery("#emailId").focus();if(chartEmail.loggedInUser){jQuery('#userEmailId_left').addClass('displayNone');jQuery('#userEmailId').val(chartEmail.userMailId);}
jQuery("#sendButton").bind("click",{elementId:objId},chartEmail.sendButtonClick);}).parent().append(divObj);jQuery(".exportPrintEmailLinkSec").on('blur',"#bubble-emailChart",{'elementId':'emailChart'},chartEmail.hideOnFocusOut);},setEmailWaterMark:function(inputId,waterMarkText){jQuery('#'+inputId).searchForPlaceholder({left:{enabled:true,value:waterMarkText,type:"simple",classes:"searchForTxt"},right:{enabled:false}});},emailBtnEnableDisable:function(){jQuery('.cntEmailBubble').on('keyup','#emailId',function(event){if(event.keyCode!=9||event.keyCode!=18||event.keyCode!=13){var buttonObj=jQuery(".cntEmailBubble .btnEnable");if(event.type==='keyup'&&!buttonObj.hasClass("btnTxtBgActive")&&jQuery("#emailId").val()!=""){buttonObj.addClass("btnTxtBgActive").removeAttr('disabled');}else if((jQuery("#emailId").val()=="")&&event.type==='keyup'){buttonObj.removeClass("btnTxtBgActive").attr('disabled','disabled');}}});jQuery(".cntEmailBubble").on('paste','#emailId',function(){var buttonObj=jQuery(".cntEmailBubble .btnEnable");setTimeout(function(){buttonObj.addClass("btnTxtBgActive").removeAttr('disabled');},100);});jQuery(".cntEmailBubble").on('cut','#emailId',function(){var buttonObj=jQuery(".cntEmailBubble .btnEnable");setTimeout(function(){if(jQuery("#emailId").val()==""){buttonObj.removeClass("btnTxtBgActive").attr('disabled','disabled');}},100);});jQuery(".cntEmailBubble").on('input propertychange',function(){var buttonObj=jQuery(".cntEmailBubble .btnEnable");if(jQuery("#emailId").val()!=""){buttonObj.addClass("btnTxtBgActive").removeAttr('disabled');}});},disableLink:function(obj){var emailLinkParent=obj.unbind("click").bind("click",function(e){e.preventDefault();jQuery(e.target).blur();}).parent("div");if(!emailLinkParent.hasClass("lnkDisabled")){emailLinkParent.addClass("lnkDisabled");}
obj.removeAttr("href");},enableLink:function(obj,clickCallBack){obj.parent("div").removeClass("lnkDisabled");obj.attr("href",chartEmail.hrefVal);},adjustBubblePosi:function(initialBubbleTop){var newBubbleTop=initialBubbleTop;if(jQuery('#bubble-emailChart')!=undefined){if(newBubbleTop==0){newBubbleTop=jQuery('.icon.email').position().top
+jQuery('.icon.email').height()+4;}
jQuery('#bubble-emailChart').css('top',newBubbleTop);}
return newBubbleTop;}};var MessageContainer={WARNING_MSG:"warningMsgContainer",ERROR_MSG:"errorMsgContainer",INFO_MSG:"infoMsgContainer",CONFIRM_MSG:"confirmMsgContainer",messageType:"",msgContent:"",parentContainerObj:jQuery(".contentContainer"),isReplace:false,removeMessages:function(){var confirmationMessage=jQuery('#confirmMsgContainer');if(confirmationMessage.length>0){jQuery(confirmationMessage).remove();}
var exportSettingsSaveMessage=jQuery('.txtZoneInfoMsgContainer');if(exportSettingsSaveMessage.length>0){jQuery(exportSettingsSaveMessage).remove();}
var warningMessage=jQuery('#warningMsgContainer');if(warningMessage.length>0){jQuery(warningMessage).remove();}
var warningMessageObj=jQuery('.warningMsgContainer');if(warningMessageObj.length>0){jQuery(warningMessageObj).remove();}
var errorMessage=jQuery('#errorMsgContainer');if(errorMessage.length>0){jQuery(errorMessage).remove();}},removeMsgContatiner:function(){if(MessageContainer.messageType){jQuery('#'+MessageContainer.messageType).remove();}},insertMsgContainer:function(){if(MessageContainer.msgContent){MessageContainer.removeMsgContatiner();var messageType=MessageContainer.messageType!=""?MessageContainer.messageType:MessageContainer.INFO_MSG;if(MessageContainer.messageType==MessageContainer.ERROR_MSG){var msgObj=jQuery("<div>",{'id':messageType,'html':'<span class="ariaHidden">Error message</span>','role':'alert','aria-live':'assertive'});}else if(MessageContainer.messageType==MessageContainer.WARNING_MSG){var msgObj=jQuery("<div>",{'id':messageType,'html':'<span class="ariaHidden">Warning message</span>','role':'alert','aria-live':'assertive'});}else if(MessageContainer.messageType==MessageContainer.CONFIRM_MSG){var msgObj=jQuery("<div>",{'id':messageType,'html':'<span class="ariaHidden">Confirmation message</span>','role':'alert','aria-live':'assertive'});}else if(MessageContainer.messageType==MessageContainer.INFO_MSG){var msgObj=jQuery("<div>",{'id':messageType,'html':'<span class="ariaHidden">Information message</span>','role':'alert','aria-live':'assertive'});}
msgObj.append(MessageContainer.msgContent);if(MessageContainer.isReplace){MessageContainer.parentContainerObj.html(msgObj);}else{var parentObj=MessageContainer.parentContainerObj.length>0?MessageContainer.parentContainerObj:jQuery(".contentContainer");parentObj.prepend(msgObj);}}}};var EmailValidation={emailAddressId:"emailId",parentContainerObj:jQuery(".contentContainer"),validate:function(msg){var mailformat=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;var emailAddressObj=jQuery("#"+EmailValidation.emailAddressId);var emailValue=emailAddressObj.val();var noOfAt=(emailValue.match(/@/g)||[]).length;if(!assertNotEmptyString(emailValue)||noOfAt!==1||!mailformat.test(emailValue)){MessageContainer.removeMessages();MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=msg;MessageContainer.parentContainerObj=EmailValidation.parentContainerObj;MessageContainer.insertMsgContainer();return false;}else{return true;}},validateAddr:function(msg,emailAddr){var emailId=$.trim(emailAddr);var noOfAt=(emailId.match(/@/g)||[]).length;var mailformat=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;if(!assertNotEmptyString(emailId)||noOfAt!==1||!mailformat.test(emailId)){MessageContainer.removeMessages();MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=msg;MessageContainer.parentContainerObj=EmailValidation.parentContainerObj;MessageContainer.insertMsgContainer();return false;}else{return true;}},successMsg:function(msg){MessageContainer.removeMessages();var msgObj=jQuery("<div>",{'id':"confirmMsgContainer",'class':"confirmMsgContainer",'html':msg,'role':'alert'});var spanObj=jQuery("<span>");msgObj.prepend(spanObj);EmailValidation.parentContainerObj.prepend(msgObj);}};var ScopusModalEmail={width:630,emailformURL:"",emailFormContent:"",cancelObj:"",submitObj:"",buildForm:function(linkElement,content){var dialogContainer=jQuery("<div>",{id:'dialogForm',"class":"dialogForm"});dialogContainer.append(content);linkElement.parent().append(dialogContainer);$("#dialogForm").dialog({autoOpen:false,dialogClass:'dialogContainer',width:this.width,modal:true,close:function(){}});},emailClick:function(event){event.preventDefault();$("#dialogForm").dialog("open");},getEmailForm:function(linkElement){jQuery.ajax({url:this.emailformURL,dataType:'html',error:function(){},success:function(data){ScopusEmail.buildForm(linkElement,data);}});},formSubmit:function(event){},init:function(linkElement){if(this.emailformURL!=""){this.getEmailForm(linkElement);}else if(this.emailFormContent!=""){ScopusEmail.buildForm(linkElement,this.emailFormContent);}
linkElement.on("click",ScopusEmail.emailClick);}};var ScopusDataTable={fnDrawCallback:function(datatableObj){jQuery(datatableObj.nScrollHead).find('th').each(function(index){if(!jQuery(this).hasClass('sorting_disabled')){var columnName=datatableObj.aoColumns[index].columnTitle;var title=datatableObj.aoColumns[0].fnUnsortedTitle(columnName);if(!jQuery(this).hasClass('sorting')){var ariaLabel=jQuery(this).attr("aria-sort");if(ariaLabel.toLowerCase().contains("descending")){title=datatableObj.aoColumns[0].fnDescTitle(columnName);}else if(ariaLabel.toLowerCase().contains("ascending")){title=datatableObj.aoColumns[0].fnAscTitle(columnName);}}
jQuery(this).attr({title:title});}});}};jQuery.fn.extend({objVal:function(){if(jQuery(this).length&&jQuery(this)[0].tagName.toLowerCase()=='input'){return jQuery(this).val();}
else{return jQuery(this).html();}},searchForPlaceholder:function(controls){if(controls){var targetObj=this;var targetId=this.attr('id');if(!controls.txtFldClear){controls.txtFldClear={'enabled':true};}
if((controls.left&&controls.left.enabled)||(controls.right&&controls.right.enabled)){jQuery(this).on("showSearchPlachold",function(evenyt){var targetId=jQuery(this).attr('id');var left=jQuery('#'+targetId+'_left');var right=jQuery('#'+targetId+'_right');var clearTxtFld=jQuery('#'+targetId+'_clear');var et=jQuery(this).objVal();if(et==''){if(left.length){left.show();}
if(right.length){right.show();}
if(clearTxtFld.length){clearTxtFld.hide();}}});jQuery(this).on('keyup',controls,function(event){var et=jQuery(this).objVal();var controls=event.data;var id=jQuery(this).attr('id');var left=jQuery('#'+id+'_left');var right=jQuery('#'+id+'_right');var clearTxtFld=jQuery('#'+targetId+'_clear');if(et==''){jQuery(this).removeAttr("style");if(controls.left.enabled){left.show();}
if(controls.right.enabled){right.show();}
if(controls.txtFldClear.enabled){clearTxtFld.hide();}}
else{jQuery(this).attr("style","background: #ffffff;");if(controls.left.enabled){left.hide();}
if(controls.right.enabled){right.hide();}
if(controls.txtFldClear.enabled){clearTxtFld.show();}
if(/MSIE\s([\d.]+)/.test(navigator.userAgent)){version=new Number(RegExp.$1);if(version==8||version==9){jQuery(this).css({'filter':''});}}}});jQuery(this).on('blur',controls,function(event){var et=jQuery(this).objVal();var controls=event.data;var id=jQuery(this).attr('id');if(et==''){if(controls.left.enabled){jQuery('#'+id+'_left').show();}
if(controls.right.enabled){jQuery('#'+id+'_right').show();}
if(controls.txtFldClear.enabled){jQuery('#'+id+'_clear').hide();}}
else{jQuery(this).attr("style","background: #ffffff;");if(controls.left.enabled){jQuery('#'+id+'_left').hide();}
if(controls.right.enabled){jQuery('#'+id+'_right').hide();}
if(controls.txtFldClear.enabled){jQuery('#'+id+'_clear').show();}
if(/MSIE\s([\d.]+)/.test(navigator.userAgent)){version=new Number(RegExp.$1);if(version==8||version==9){jQuery(this).css({'filter':''});}}}});jQuery(this).on('input propertychange',function(){var et=jQuery(this).objVal();if(et!=''){jQuery('#'+targetId+'_right').hide();jQuery('#'+targetId+'_left').hide();jQuery('#'+targetId+'_clear').show();}});if(controls.left.enabled){var valueToBeShown='';if(controls.left.type=='simple'){valueToBeShown=controls.left.value;}
else if(controls.left.type=='componant'){var reference=jQuery('#'+controls.left.value);valueToBeShown=reference.objVal();reference.on('change',{"id":targetId},function(event){jQuery('#'+event.data.id+'_left').html(jQuery(this).find('option:selected').text());});};jQuery('<span id="'+targetId+'_left" class="'+controls.left.classes+'">'+valueToBeShown+'</span>').prependTo(this.parent());jQuery('#'+targetId+'_left').on('mouseup',function(){targetObj.focus();});if(targetObj.objVal()==''){jQuery('#'+targetId+'_left').show();}
else{jQuery('#'+targetId+'_left').hide();}
jQuery(targetObj).on('paste',function(e){var pastedText=undefined;if(window.clipboardData&&window.clipboardData.getData){pastedtext=window.clipboardData.getData('Text');}else{pastedText=(e.originalEvent||e).clipboardData.getData('text/plain');}
if(pastedText==""&&!pastedText.length>0){e.preventDefault();}
setTimeout(function(){jQuery('#'+targetId+'_right').hide();jQuery('#'+targetId+'_left').hide();jQuery(targetObj).attr("style","background: #ffffff;");if(/MSIE\s([\d.]+)/.test(navigator.userAgent)){version=new Number(RegExp.$1);if(version==8||version==9){jQuery(this).css({'filter':''});}}},100);});jQuery(targetObj).on('drop',function(e){jQuery(targetObj).focus();var file=e.originalEvent.dataTransfer.files[0];if(file!=undefined||file!=null){e.preventDefault();}});jQuery(targetObj).on('cut',function(){setTimeout(function(){if(targetObj.objVal()==''){jQuery('#'+targetId+'_right').show();jQuery('#'+targetId+'_left').show();jQuery(targetObj).removeAttr("style");}},100);});}
if(controls.right.enabled){var valueToBeShown='';if(controls.right.type=='simple'){valueToBeShown=controls.right.value;}
else if(controls.right.type=='componant'){var reference=jQuery('#'+controls.right.value);valueToBeShown=reference.objVal();reference.on('change',{"id":targetId},function(event){jQuery('#'+event.data.id+'_right ').html(jQuery(this).find('option:selected').text());});};jQuery('<span id="'+targetId+'_right" class="'+controls.right.classes+'">'+valueToBeShown+'</span>').prependTo(this.parent());jQuery('#'+targetId+'_right').on('mouseup',function(){targetObj.focus();});if(targetObj.objVal()==''){jQuery('#'+targetId+'_right').show();}
else{jQuery('#'+targetId+'_right').hide();}
jQuery(targetObj).on('paste',function(e){var pastedText=undefined;if(window.clipboardData&&window.clipboardData.getData){pastedtext=window.clipboardData.getData('Text');}else{pastedText=(e.originalEvent||e).clipboardData.getData('text/plain');}
if(pastedText==""&&!pastedText.length>0){e.preventDefault();}
setTimeout(function(){jQuery('#'+targetId+'_right').hide();jQuery('#'+targetId+'_left').hide();jQuery(targetObj).attr("style","background: #ffffff;");if(/MSIE\s([\d.]+)/.test(navigator.userAgent)){version=new Number(RegExp.$1);if(version==8||version==9){jQuery(this).css({'filter':''});}}},100);});jQuery(targetObj).on('drop',function(e){jQuery(targetObj).focus();var file=e.originalEvent.dataTransfer.files[0];if(file!=undefined||file!=null){e.preventDefault();}});jQuery(targetObj).on('cut',function(){setTimeout(function(){if(targetObj.objVal()==''){jQuery('#'+targetId+'_right').show();jQuery('#'+targetId+'_left').show();jQuery(targetObj).removeAttr("style");}},100);});}
if(controls.txtFldClear.enabled){if(targetIDExists(targetId)){var tooltipValue='';if(typeof(error)!='undefined'){tooltipValue=error.js.message.search.syntax.clear.icon();}
var valueToBeShown='<img id="closeicon"  src="static/images/closeicon_inputfield.png"   ondragstart="return false"/>';var valueToBeShownToHover='<img id="closeicon"  src="static/images/closeicon_hover.png"  ondragstart="return false"/>';if(targetId=="seachwithinresults"){jQuery('<span title="'+tooltipValue+'" id="'+targetId+'_clear" class="refineResultstxtFldClear">'+valueToBeShown+valueToBeShownToHover+'</span>').prependTo(this.parent());}else{jQuery('<span  title="'+tooltipValue+'" id="'+targetId+'_clear" class="txtFldClear">'+valueToBeShown+valueToBeShownToHover+'</span>').prependTo(this.parent());}
if(navigator.userAgent.match(/Trident\/7\./)){$('#'+targetId).addClass('ieClearIcon');}}
if(targetObj.objVal()!=''){jQuery('#'+targetId+'_clear').show();}
else{jQuery('#'+targetId+'_clear').hide();}
jQuery(targetObj).on('paste',function(e){var pastedText=undefined;if(window.clipboardData&&window.clipboardData.getData){pastedtext=window.clipboardData.getData('Text');}else{pastedText=(e.originalEvent||e).clipboardData.getData('text/plain');}
if(pastedText==""&&!pastedText.length>0){e.preventDefault();}
setTimeout(function(){jQuery('#'+targetId+'_clear').show();jQuery(targetObj).attr("style","background: #ffffff;");if(/MSIE\s([\d.]+)/.test(navigator.userAgent)){version=new Number(RegExp.$1);if(version==8||version==9){jQuery(this).css({'filter':''});}}},100);});jQuery(targetObj).on('drop',function(e){jQuery(targetObj).focus();var file=e.originalEvent.dataTransfer.files[0];if(file!=undefined||file!=null){e.preventDefault();}});jQuery(targetObj).on('cut',function(){setTimeout(function(){if(targetObj.objVal()==''){jQuery('#'+targetId+'_clear').hide();jQuery(targetObj).removeAttr("style");}},100);});jQuery('#'+targetId+'_clear').click(function(e){var txtboxid=jQuery(this).attr('id').replace('_clear','');jQuery('#'+txtboxid).val('').removeAttr("style");var left=jQuery('#'+txtboxid+'_left');var right=jQuery('#'+txtboxid+'_right');if(left.length){left.show();}
if(right.length){right.show();}
if(targetId=="searchTerms"){if(jQuery.trim(jQuery("#searchTerms").val())==""){jQuery("#searchTerms").val('');jQuery("#searchTermsSubmit").removeClass("searchWithBtnAct");jQuery("#searchTermsSubmit").attr("disabled",true);}}
if(targetId=="seachwithinresults"){if(jQuery.trim(jQuery("#seachwithinresults").val())==""){jQuery("#seachwithinresults").val('');jQuery("#search_within_submit").removeClass("searchWithBtnAct");jQuery("#search_within_submit").attr("disabled",true);}}
jQuery(this).hide();});}}}
function targetIDExists(targetID){var targetIDSArray=["searchfield","emailAddress","emailCTO","emailId","userEmailId","combinedSearch"];for(var i=0;i<targetIDSArray.length;i++){if(targetIDSArray[i]===targetID){return false;break;}}
return true;}}});function Cookie(name){this.$name=name;var reExtraSpace=/^\s*(.*?)\s*$/;var allcookies=document.cookie;if(allcookies=="")return;var cookies=allcookies.split(';');var cookie=null;var str="";for(var i=0;i<cookies.length;i++){str=cookies[i];str=str.replace(reExtraSpace,"$1");if(str.substring(0,name.length+1)==(name+"=")){cookie=str;break;}}
if(cookie==null)return;var cookieval=cookie.substring(name.length+1);var a=cookieval.split('&');for(var i=0;i<a.length;i++)
a[i]=a[i].split('_');for(var i=0;i<a.length;i++){this[a[i][0]]=decodeURIComponent(a[i][1]);}}
Cookie.prototype.store=function(daysToLive,path,domain,secure){var cookieval="";for(var prop in this){if((prop.charAt(0)=='$')||((typeof this[prop])=='function'))
continue;if(cookieval!="")cookieval+='&';cookieval+=prop+'_'+encodeURIComponent(this[prop]);}
var cookie=this.$name+'='+cookieval;if(daysToLive||daysToLive==0){cookie+="; max-age="+(daysToLive*24*60*60);}
if(path)cookie+="; path="+path;if(domain)cookie+="; domain="+domain;if(secure)cookie+="; secure";if(daysToLive==0)cookie+="; expires=Wed, 18 Jul 2001 07:42:30 UTC"
document.cookie=cookie;}
Cookie.prototype.remove=function(path,domain,secure){for(var prop in this){if(prop.charAt(0)!='$'&&typeof this[prop]!='function')
delete this[prop];}
this.store(0,path,domain,secure);}
Cookie.prototype.enabled=function(){if(navigator.cookieEnabled!=undefined)return navigator.cookieEnabled;if(Cookie.enabled.cache!=undefined)return Cookie.enabled.cache;document.cookie="testcookie=test; max-age=10000";var cookies=document.cookie;if(cookies.indexOf("testcookie=test")==-1){return Cookie.enabled.cache=false;}
else{document.cookie="testcookie=test; max-age=0";return Cookie.enabled.cache=true;}}
function Cookie_getCookies(match)
{var cookieArray=document.cookie.split(";");var a=new Array();for(var i=0;i<cookieArray.length;i++)
{var name=new String(cookieArray[i].substring(0,cookieArray[i].indexOf("=")));name=name.trim();if(!match)
{a.push(new Cookie(name));}
else if(name.indexOf(match)>-1)
{a.push(new Cookie(name));}}
return a;}
Cookie.getCookies=Cookie_getCookies;var isSvgSupported=!!document.createElementNS&&!!document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect;var exitSurvey={esLink:'',esChance:0.25,surveyCookieId:'SCES',autosuggestSurveyCookieId:'SCAES',autoSuggestEnableCookie:'enableAutoSuggest',surveyInvite:function(surveyID){var cookieID='';if(surveyID==='exitSurveyDialog'){cookieID=exitSurvey.surveyCookieId;}else if(surveyID==='autoSuggestSurveyDialog'){cookieID=exitSurvey.autosuggestSurveyCookieId;}
if(exitSurvey.getCookie(cookieID)===undefined){exitSurvey.showSurvey(surveyID,cookieID);}},checkMathRandomSurvey:function(surveyID,cookieID){jQuery("#"+surveyID).css({'display':'block'});exitSurvey.setSurveyDialogPos();jQuery("#"+surveyID).delay(2000).animate({"bottom":"+=250px"},1000,"swing",function(){exitSurvey.setCookie(cookieID,"true",180);});jQuery("#"+surveyID+".yL").click(surveyID,exitSurvey.surveyAccept);jQuery("#"+surveyID+".nL, #"+surveyID+" #closeWindow").click(surveyID,exitSurvey.surveyClose);},showSurvey:function(surveyID,cookieID){if(jQuery('#randomautoSuggestVal').length&&jQuery('#randomautoSuggestVal').val()==='true'){var mathRandom=Math.random();if(mathRandom<=exitSurvey.esChance){exitSurvey.checkMathRandomSurvey(surveyID,cookieID);}}
else{exitSurvey.checkMathRandomSurvey(surveyID,cookieID);}},setSurveyDialogPos:function(surveyID){if(jQuery('#outerWrapper').length>0){jQuery("#"+surveyID).css({'right':jQuery(window).width()-(jQuery('#outerWrapper').offset().left+jQuery('#outerWrapper').outerWidth())});}},surveyAccept:function(e){e.preventDefault();if(exitSurvey.getCookie(exitSurvey.autosuggestSurveyCookieId)!==undefined){exitSurvey.setCookie(exitSurvey.autoSuggestEnableCookie,"true",1);}
var page="http://"+window.location.hostname;var windowprops="width=900,height=600,location=no,toolbar=no,menubar=no,scrollbars=yes,resizable=yes";var PopWindow=window.open(page,"",windowprops);try{PopWindow.blur();PopWindow.focus();if(PopWindow){exitSurveyHTML=exitSurvey.gHTML();PopWindow.document.write(exitSurveyHTML);PopWindow.document.close();}
exitSurvey.surveyClose(e);}catch(err){exitSurvey.surveyClose(e);}
basicSrchAutoSugg.enableAutoSuggest();},surveyClose:function(e){if(e){e.preventDefault();}
jQuery("#"+e.data).css('display','none');},gHTML:function(){var wH="";wH+='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">';wH+="<html>";wH+="<head>";wH+="<title>Feedback</title>";wH+='<style type="text/css">';wH+="body { margin: 0; padding: 0; font-family: Arial, Verdana, helvetica, sans-serif; height: 100%; font-size: 75%; color: #5C5C5C;}";wH+=".logoHeader { height: 64px;}.logoScopusImg { width: 75px; position: absolute; padding-left: 2%; padding-top: 15px; padding-right: 14%;}";wH+=".logoScopusImg img { height: 25px;}.sBody { padding: 20px 40px;}.sInfoMsg{width:0;overflow:hidden;line-height: 14px;font-size:0;}.sSubHeading { font-size: 14px;}.sHeading { font-size: 20px;}";wH+=".sButton input { height: 30px; margin: 0; color: #5c5c5c; background: #eee; border: 1px solid #c9c9c9;}.sButton { font-size: 13px; font-weight: bold; margin: 20px 0;}";wH+=".sText { font-size: 13px;}.navigation { background-color: #026370; height: 5px;} ";wH+=".sInfoMsgContainer { background-color: #ebf7fd; background-image: url('/static/images/info.png'); background-position: 5px 4px; background-repeat: no-repeat; border: 1px solid #46c7f4; border-radius: 4px; color: #5c5c5c; margin: 10px 0; padding: 6px 5px 6px 30px;}";wH+="</style>";wH+="</head>";wH+="<body>";wH+='<div>';wH+='<div class="logoHeader" >';wH+='<div class="logoScopusImg" >';wH+='<img alt="Scopus Logo" src="static/images/scopusLogoOrange.svg"/>';wH+='</div>';wH+='</div>';wH+='<div class="navigation"></div>';wH+='<div class="sBody">';wH+='<div class="sHeading">'+basic.SURVEY_POPUP_CONFIRMATION_HEADING()+' <br/><br/></div>';wH+='<div class="sInfoMsgContainer" role="alert">';wH+='<span class="sInfoMsg">'+basic.SURVEY_POPUP_CONFIRMATION_INFO_MSG()+'</span><span class="sSubHeading">'+basic.SURVEY_POPUP_CONFIRMATION_INFORMATION()+'</span> <br/><br/>'+basic.SURVEY_POPUP_CONFIRMATION_FIREFOX_INFO();wH+="</div>";wH+="</div>";wH+="</div>";wH+='<script type="text/javascript">';wH+="var intl;";wH+="function loadSurvey() {";wH+="clearInterval(intl);";wH+="window.resizeTo(900,600);";wH+='this.location="'+exitSurvey.esLink+'";';wH+="}";wH+="var lastseen = window.opener.location.hostname;";wH+="function CheckParent() {";wH+="try {";wH+="var host = window.opener.location.hostname;";wH+="if (host != lastseen){";wH+="lastseen = host;";wH+="}";wH+="return;";wH+="} catch(error){";wH+="clearInterval(intl);";wH+="moveTo(screen.width/2-450,screen.height/2-300);";wH+="this.focus();";wH+='alert("Click Ok to begin your survey");';wH+='this.location="'+exitSurvey.esLink+'";';wH+="var match = document.cookie.match('enableAutoSuggest=([^;]*)');";wH+="if (match) {";wH+="document.cookie = 'enableAutoSuggest=false; max-age=0 ; expires=Wed, 18 Jul 2001 07:42:30 UTC; path=/';";wH+="}";wH+="}";wH+="}";wH+='intl = setInterval("CheckParent()", 500);';wH+="</script>";wH+="</body>";wH+="</html>";return wH;},setCookie:function(c_name,value,expiration){var exdate=new Date();exdate.setDate(exdate.getDate()+expiration);var c_value=escape(value)+("; expires="+exdate.toUTCString()+"; path=/");document.cookie=c_name+"="+c_value;},getCookie:function(c_name){var match=document.cookie.match(c_name+'=([^;]*)');return match?match[1]:undefined;},svgSupport:function(){if(!isSvgSupported){if(typeof jQuery('.surveylogoScopusImg img').attr('src')==='undefined'){document.getElementsByTagName("img")[0].src='/static/images/ScopusWhite.png';}else{jQuery('.surveylogoScopusImg img').attr('src','/static/images/ScopusWhite.png');}
jQuery('.surveylogoScopusImg').css({'padding-top':'11px'});jQuery('.surveylogoScopusImg img').css({'height':'auto'});}},init:function(surveyID){if(surveyID==='exitSurveyDialog'){exitSurvey.esLink=jQuery('#exitSurveyLink').val();}else if(surveyID==='autoSuggestSurveyDialog'){exitSurvey.esLink=jQuery('#autoSuggestSurveyLink').val();}
exitSurvey.surveyInvite(surveyID);exitSurvey.svgSupport();}};var isSvgSupported=!!document.createElementNS&&!!document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect;var loginPopoutOpened=false;var logoutPopoutOpened=false;var helpMenuPopoutOpened=false;var header={buildHelpMenuBubble:function(obj){Bubble.setRight=function(data){var element=data.$element.get(0);var top=jQuery(element).position().top+data.$element.outerHeight();var bubbleWidth=data.$bubble.outerWidth();var right=jQuery(element).position().left-(bubbleWidth-(data.$element.width()));data.$bubbleArrow.addClass("bubble-arrow-right");if(jQuery(element).attr('id')=='helpMenuLnk'){data.$bubbleArrow.css({left:(bubbleWidth-31)+"px"});data.$bubble.css({top:top+"px",left:(right+25)+"px"});}
else{data.$bubbleArrow.css({left:(bubbleWidth-32)+"px"});data.$bubble.css({top:top+"px",left:right+"px"});}};obj.click(function(e){e["data"]={position:Bubble.positionRight,setDataBack:true};if(jQuery('#bubble-helpMenuLnk').is(':visible')){Bubble.forceHideAll(e);}
else{Bubble.showBubble(e);}
e.preventDefault();});},formProfileAccessLinks:function(){jQuery('#profileAccessCnt').html(jQuery('#CARS_SETTINGS_TEMPLATE #modify-profile-group'));jQuery('#profileAccessCnt form+div').remove();jQuery('#myScopusCnt').html(jQuery('#CARS_SETTINGS_TEMPLATE #settings-app-links-top #scopusTopLinks ul'));},getSettingsTemplate:function(){var settingsTemplate=jQuery.get("settings/template.uri");settingsTemplate.done(function(response){jQuery('#CARS_SETTINGS_TEMPLATE').html(response);header.formProfileAccessLinks();});settingsTemplate.error();settingsTemplate.always();},getMyScopusLinkData:function(){var settingsData=jQuery.get("customer/settings.uri");settingsData.done(function(response){header.getSettingsTemplate();});settingsData.error();settingsData.always();},setMenuNavPos:function(){jQuery(window).scroll(function(event){var isInitFixedHeader=jQuery('#mainNav').hasClass('mainNavFxd');if(jQuery('div.cib_Container').is(':visible')){var cibPos=jQuery('div.cib_Container:visible').closest('#cib_Overlay').position().top;}
if(jQuery('span#bubble-showAllPageBubble').is(':visible')){var bubPos=jQuery('span#bubble-showAllPageBubble:visible').closest('#bubble-showAllPageBubble').position().top;}
if(jQuery(window).scrollTop()>jQuery('.mainNavSect').offset().top){if(!jQuery('#mainNav').hasClass('mainNavFxd')){jQuery('#mainNav').addClass('mainNavFxd');}}
else{jQuery('#mainNav').removeClass('mainNavFxd');}
if(jQuery('div.cib_Container').is(':visible')){var isRefineOverlayPresent=false;for(counter=0;counter<15;counter++){if(jQuery("#overlayHeading_"+counter).is(':visible')){isRefineOverlayPresent=true;break;}}
if(!isRefineOverlayPresent){if(isInitFixedHeader&&!jQuery('#mainNav').hasClass('mainNavFxd')){jQuery('div.cib_Container:visible').closest('#cib_Overlay').css({'top':cibPos+62});}
if(!isInitFixedHeader&&jQuery('#mainNav').hasClass('mainNavFxd')){jQuery('div.cib_Container:visible').closest('#cib_Overlay').css({'top':cibPos-62});}}}
if(jQuery('span#bubble-showAllPageBubble').is(':visible')){if(isInitFixedHeader&&!jQuery('#mainNav').hasClass('mainNavFxd')){jQuery('span#bubble-showAllPageBubble:visible').closest('#bubble-showAllPageBubble').css({'top':bubPos+64});}
if(!isInitFixedHeader&&jQuery('#mainNav').hasClass('mainNavFxd')){jQuery('span#bubble-showAllPageBubble:visible').closest('#bubble-showAllPageBubble').css({'top':bubPos-64});}}});},setEllipsisUserName:function(){jQuery('#logout_username').css({'width':''});var headerWidth=jQuery('#scopusSciverseMasthead').width();var logoSectionWidth=jQuery('.logoScopusImg').outerWidth();var rightSectionTotalWidth=jQuery('.rgtDivisions').width();var getuserNameWidth=jQuery('#logout_username').width();var rightSectionWidth=rightSectionTotalWidth-getuserNameWidth;var calculatedWidth=headerWidth-logoSectionWidth-rightSectionWidth;if(getuserNameWidth>calculatedWidth){jQuery('#logout_username').css({'width':calculatedWidth}).addClass('regUserEllipsis');}
else{jQuery('#logout_username').removeClass('regUserEllipsis');}
if(!jQuery.browser.mozilla){jQuery('#logout_username').css({'margin-right':'-2px'});}
else{jQuery('#logout_username').css({'margin-right':''});}},adjustLoginPreview:function(){if(jQuery('#login_reglink').css('display')=='none'){jQuery('#login-panel.CARS_panelClass a#login_loginlink').css({'margin-left':'-12px'});}
else{jQuery('#login-panel.CARS_panelClass a#login_loginlink').css({'margin':'0'});}},productLnkSep:function(){if(jQuery('.hdrTopLnk ul li').length==2){jQuery('.prodSep').css({'display':'none'});}
else{jQuery('.prodSep').css({'display':'block'});}},svgSupport:function(){if(!isSvgSupported){if(isPreviewPage){if(typeof jQuery('.logoScopusPreviewImg img').attr('src')=='undefined'){document.getElementsByTagName("img")[0].src='static/images/preview/scopuspreviewOrange.png';}else{jQuery('.logoScopusPreviewImg img').attr('src','static/images/preview/scopuspreviewOrange.png');}}
else{if(typeof jQuery('.logoScopusImg img').attr('src')=='undefined'){document.getElementsByTagName("img")[0].src='static/images/scopusLogoOrange.png';}else{jQuery('.logoScopusImg img').attr('src','static/images/scopusLogoOrange.png');}}
jQuery('.logoScopusImg, .logoScopusPreviewImg').css({'padding-top':'15px'});if(jQuery('.modalOverlayHdr').length){jQuery('.modalOverlayHdr .logoScopusImg').css({'padding-top':'0'});}}},closeHelpPopout:function(){jQuery('#header #helpMenuLnk-data').hide();if(helpMenuPopoutOpened){jQuery('#helpMenuLnk').focus();helpMenuPopoutOpened=false;}},closeLoginPopout:function(){if(jQuery('#header #login_pop_container').hasClass('CARS_displayInline')){jQuery('#header #login_loginlink').trigger("click");header.removeLoginPopoutOuterContents();if(loginPopoutOpened){jQuery('#header #login_loginlink').focus();loginPopoutOpened=false;}}},closeLogoutPopout:function(){if(jQuery('#header #logout_pop').hasClass('CARS_displayInline')){jQuery('#header #logout_username_link').trigger("click");header.removeLogoutPopoutOuterContents();if(logoutPopoutOpened){jQuery('#header #logout_username_link').focus();logoutPopoutOpened=false;}}},removeLoginPopoutOuterContents:function(){var cnt=jQuery("#login-panel .custom-modal-top-border").contents();jQuery("#login-panel .custom-modal-arrow").replaceWith(cnt);},removeLogoutPopoutOuterContents:function(){var cnt=jQuery("#header #logout_user .custom-modal-top-border").contents();jQuery("#header #logout_user .custom-modal-arrow").replaceWith(cnt);},detectIE:function(){var ua=window.navigator.userAgent;var msie=ua.indexOf('MSIE ');if(msie>0){return true;}
var trident=ua.indexOf('Trident/');if(trident>0){return true;}
var edge=ua.indexOf('Edge/');if(edge>0){return true;}
return false;},addAccessibilityToLoginPopout:function(){jQuery('#login_pop_container').attr({'role':'dialog','aria-labelledby':'login_popout_heading_id'});jQuery("#header #login_pop_container_logform .CARS_groupTitle").attr({'role':'heading','aria-level':'3','id':'login_popout_heading_id','tabindex':'-1'});jQuery(".login-close-icon").on('keydown',function(e){if((e.keyCode||e.which)===9){if(e.shiftKey){jQuery('#header #login_pop_container #login_pop_container_socialform:last-child').focus();}else{jQuery('#header #login_pop_container #login_popout_heading_id').focus();}}});jQuery("#header #login_pop_container #username").on('keydown',function(event){if(event.shiftKey&&event.keyCode===9){jQuery('#header #login_pop_container #login-close-placeholder').focus();}});},addAccessibilityToLogoutPopout:function(){jQuery("#header #logout_pop .userPopoutTitle").focus();jQuery("#logout_pop .custom-logout-popout .userPopoutTitle").on('keydown',function(e){if((e.keyCode||e.which)===9){if(e.shiftKey){jQuery("#logout_pop .custom-logout-popout #login-close-placeholder").focus();}else{jQuery("#userPath>form:first-child").find("a").focus();}}});jQuery("#header .custom-logout-popout .close").on('keydown',function(e){if((e.keyCode||e.which)===9){if(e.shiftKey){}else{jQuery("#header #logout_username_link").focus();}}});},addAccessibilityToHelpPopout:function(){jQuery("#header #headerHelpLinks .helpMenuList>li:first-child>a").focus();jQuery("#header #headerHelpLinks a.close").on('keydown',function(e){if((e.keyCode||e.which)===9){if(e.shiftKey){jQuery(e.target).find("a").focus();}else{jQuery("#helpMenuLnk").focus();}}});jQuery("#header #headerHelpLinks .helpMenuList>li:first-child>a ").on('keydown',function(event){if(event.shiftKey&&event.keyCode===9){jQuery("#header #headerHelpLinks #help-close-placeholder").focus();}});},init:function(){if(jQuery('.mainNavSect').length>0){header.setMenuNavPos();}
jQuery('#helpMenuLnk').on('click',function(e){header.closeLoginPopout();header.closeLogoutPopout();jQuery('#helpMenuLnk-data').toggle();header.removeLoginPopoutOuterContents();helpMenuPopoutOpened=true;header.addAccessibilityToHelpPopout();});jQuery('body').die("click").on('click',function(e){if(!jQuery(e.target).closest('#exportTrigger')[0]){Bubble.hideAll(e);}});if(jQuery('#login_reglink').length>0){header.adjustLoginPreview();}
header.svgSupport();if(jQuery('.scopusScivalBanner').length>0){header.productLnkSep();}
jQuery('#header #helpMenu a.close').on('click',function(e){header.closeHelpPopout();});jQuery(document).on("keyup",function(e){var code=e.keyCode||e.which;if(code===27){header.closeHelpPopout();header.closeLoginPopout();header.closeLogoutPopout();}});jQuery("body").click(function(e){if(jQuery(e.target).closest("a").attr('id')!=="helpMenuLnk"&&!jQuery(e.target).parents().andSelf().is('#helpMenuLnk-data')){header.closeHelpPopout();}
if(jQuery(e.target).closest("a").attr('id')!=="login_loginlink"&&!jQuery(e.target).parents().andSelf().is('#login_pop_container')&&!jQuery(e.target).closest("a").hasClass("not-signed-in-user-link")){header.closeLoginPopout();}
if(jQuery(e.target).closest("a").attr('id')!=="logout_username_link"&&jQuery(e.target).attr('id')!=="logout_username"&&!jQuery(e.target).parents().andSelf().is('#logout_pop,#logout_text_content')){header.closeLogoutPopout();}});}};function dateFromISO8601(isoDateString){var parts=isoDateString.match(/\d+/g);var isoTime=Date.UTC(parts[0],parts[1]-1,parts[2],parts[3],parts[4],parts[5]);var isoDate=new Date(isoTime);return isoDate;}
var modalOverlay={drawOverlay:function(){jQuery("#modalOverlay-dialog").dialog({modal:true,width:567,height:352,zIndex:200000}).removeClass("displayNone");jQuery(".ui-dialog .ui-dialog-titlebar").hide();jQuery("#modalOverlay-dialog").dialog("close").dialog("open");jQuery("body").css({'overflow':'hidden'});modalOverlay.modalOverlayPos();jQuery("#modalOverlay-dialog").on("keydown",function(e){if(e.keyCode==27)
modalOverlay.remindMeLater();});},modalOverlayPos:function(){var winHeight=jQuery(window).height();var modalOverlayHeight=jQuery('.modalOverlayPopUp').height();var totalTopVal=(winHeight-modalOverlayHeight)/2;var setTopPos=totalTopVal-24;var winWidth=jQuery(window).width();var modalOverlayWidth=jQuery('#modalOverlay-dialog').parent().width();var totalLeftVal=(winWidth-modalOverlayWidth)/2;var setLeftPos=totalLeftVal;if(jQuery("#modalOverlay-dialog").parent().hasClass('ui-dialog')){jQuery("#modalOverlay-dialog").parent().css({'position':'absolute','top':setTopPos,'left':setLeftPos,'z-index':'200002'});}},setOpacityModalOverlay:function(){jQuery('#modalOverlay-dialog').parent().prev().css({'background-color':'#000000','opacity':'0.5','z-index':'200001'});},getOrCreateOverlayCookie:function(name){var overlayCookies=Cookie.getCookies(name);if(overlayCookies.length==0){overlayCookie=new Cookie(name);}else{overlayCookie=overlayCookies[0];}
return overlayCookie;},acceptOverlay:function(){modalOverlayCookie=modalOverlay.getOrCreateOverlayCookie("sc_overlay_ok");modalOverlayCookie.showOverlay=false;modalOverlayCookie.ts=jQuery("#overlayShownTime").val();modalOverlayCookie.store(365,"default.htm");overlayRemindCookie=modalOverlay.getOrCreateOverlayCookie("sc_overlay_remind");overlayRemindCookie.store(0,"default.htm");modalOverlay.overlayClose();},remindMeLater:function(){modalOverlayCookie=modalOverlay.getOrCreateOverlayCookie("sc_overlay_ok");modalOverlayCookie.showOverlay=true;modalOverlayCookie.ts=jQuery("#overlayShownTime").val();modalOverlayCookie.store(365,"default.htm");overlayRemindCookie=modalOverlay.getOrCreateOverlayCookie("sc_overlay_remind");overlayRemindCookie.remindLater=true;var remindMeLaterHours=jQuery("#remindMeLaterHours").val();if(parseInt(remindMeLaterHours)>0){overlayRemindCookie.store(parseInt(remindMeLaterHours)/24,"default.htm");}else{overlayRemindCookie.store(1,"default.htm");}
modalOverlay.overlayClose();},overlayClose:function(){jQuery("#modalOverlay-dialog").dialog("close");jQuery("body").css({'overflow':'inherit'});},init:function(){var messageUpdatedTimeStr=jQuery("#overlayUpdatedTime").val();var messageShownTimeStr=jQuery("#overlayShownTime").val();var modalOverlayCookies=Cookie.getCookies("sc_overlay_ok");if(modalOverlayCookies.length){showOverlay=modalOverlayCookies[0].showOverlay=="true";messageShownTimeStr=modalOverlayCookies[0].ts;}else{showOverlay=true;}
var overlayRemindCookies=Cookie.getCookies("sc_overlay_remind");if(overlayRemindCookies.length){showOverlay=false;}
if(!showOverlay&&messageUpdatedTimeStr!=""&&messageShownTimeStr!=""){var messageUpdatedTime=dateFromISO8601(messageUpdatedTimeStr);var d=dateFromISO8601(messageShownTimeStr);var messageShownTime=new Date(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),0,0,0);if(messageUpdatedTime>messageShownTime){showOverlay=true;}}
if(showOverlay){modalOverlay.drawOverlay();modalOverlay.setOpacityModalOverlay();jQuery(".modalOverlayOuterCnt a").on("click",modalOverlay.acceptOverlay);}}};jQuery(document).ready(function(){(function($){$.InFieldLabels=function(label,field,options){var base=this;base.$label=$(label);base.label=label;base.$field=$(field);base.field=field;base.$label.data("InFieldLabels",base);base.showing=true;base.init=function(){var initialSet;base.options=$.extend({},$.InFieldLabels.defaultOptions,options);setTimeout(function(){if(base.$field.val()!==""){base.$label.addClass('active');base.showing=false;}else{base.$label.removeClass('active');base.showing=true;}},200);base.$field.focus(function(){base.fadeOnFocus();}).blur(function(){base.checkForEmpty(false);}).bind('keydown.infieldlabel',function(e){base.hideOnChange(e);}).bind('paste',function(){base.removeClass('active');}).change(function(){base.checkForEmpty();}).bind('onPropertyChange',function(){base.checkForEmpty();}).bind('keyup.infieldlabel',function(){base.checkForEmpty();});if(base.options.pollDuration>0){initialSet=setInterval(function(){if(base.$field.val()!==""){base.$label.addClass('active');base.showing=false;clearInterval(initialSet);}},base.options.pollDuration);}};base.fadeOnFocus=function(){if(base.showing){base.$label.addClass('active');base.showing=false}};base.checkForEmpty=function(blur){if(base.$field.is(':focus')){base.$label.addClass('active');base.showing=false}
else if(base.$field.is()){base.$label.removeClass('active');}
else if(base.$field.val()===""){base.$label.removeClass('active');base.showing=true}
else if(base.showing){base.$label.addClass('active');}};base.prepForShow=function(){if(!base.showing){base.$label.removeClass('active');}};base.hideOnChange=function(e){if((e.keyCode===16)||(e.keyCode===9)){return;}
if(base.showing){base.$label.addClass('active');base.showing=true;}
base.$field.unbind('keydown.infieldlabel');};base.init();};$.InFieldLabels.defaultOptions={fadeOpacity:0.5,fadeDuration:300,pollDuration:0,enabledInputTypes:["text","search","tel","url","email","password","number","textarea"],className:false};$.fn.inFieldLabels=function(options){var allowed_types=options&&options.enabledInputTypes||$.InFieldLabels.defaultOptions.enabledInputTypes;return this.each(function(){var for_attr=$(this).attr('for'),field,restrict_type;if(!for_attr){return;}
field=document.getElementById(for_attr);if(!field){return;}
restrict_type=$.inArray(field.type,allowed_types);if(restrict_type===-1&&field.nodeName!=="TEXTAREA"){return;}
(new $.InFieldLabels(this,field,options));});};}(jQuery));jQuery("label").inFieldLabels();});jQuery(window).resize(function(){if(jQuery('#logout_username').length>0){}
if(jQuery("#modalOverlay-dialog").length>0){modalOverlay.modalOverlayPos();}
if(jQuery('#exitSurveyDialog').length>0){exitSurvey.setSurveyDialogPos();}});jQuery(document).ready(function(){if(typeof String.prototype.trim!=='function'){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,'');}}
Cookie.prototype.store=function(daysToLive,path,domain,secure){var cookieval="";for(var prop in this){if((prop.charAt(0)=='$')||((typeof this[prop])=='function'))
continue;if(cookieval!="")cookieval+='&';cookieval+=prop+'_'+encodeURIComponent(this[prop]);}
var cookie=this.$name+'='+cookieval;if(daysToLive&&daysToLive>0){var d=new Date();d.setTime(d.getTime()+daysToLive*24*60*60*1000);cookie+="; max-age="+(daysToLive*24*60*60)+"; expires="+d.toGMTString();}else if(daysToLive==0){cookie+="; max-age=0 ; expires=Wed, 18 Jul 2001 07:42:30 UTC"}else if(daysToLive<0){}
if(path)cookie+="; path="+path;if(domain)cookie+="; domain="+domain;if(secure)cookie+="; secure";document.cookie=cookie;}
header.init();if(jQuery('#modalOverlay-dialog').length>0){modalOverlay.init();}
if(jQuery('#exitSurveyDialog').length>0){exitSurvey.init('exitSurveyDialog');}
if(jQuery('#autoSuggestSurveyDialog').length>0){exitSurvey.init('autoSuggestSurveyDialog');}
var _this=this;_this.init=function(){jQuery('.toggleIcon').on("click",function(e){if(!keyPressed){_this.toggleMenu();}});};jQuery('.userOptionCnt .profileAccess').click(function(){if(!jQuery(this).hasClass("not-signed-in-user-link")){if(jQuery(this).next().hasClass('spineAccordianCollapsed')){jQuery(this).next().removeClass('spineAccordianCollapsed');jQuery(this).attr('aria-expanded','true');jQuery(this).removeClass('collapsed').addClass('expanded');}
else{jQuery(this).next().addClass('spineAccordianCollapsed');jQuery(this).attr('aria-expanded','false');jQuery(this).removeClass('expanded').addClass('collapsed');}}});_this.toggleMenu=function(){var spine=jQuery('.sidebarMenu');if(jQuery("body").hasClass("sidebarActive")){setTimeout(function(){jQuery("body").removeClass("sidebarActive");if(jQuery('#header .sidebarMenu .regLnk').find(jQuery('#header .sidebarMenu .regLnk #guestAccessPage')).length>0){jQuery('#carsLoginSpine').html(jQuery('#header .sidebarMenuHeader .user span:first-child').contents());jQuery('#header .sidebarMenuHeader .user span:first-child').empty();}
jQuery('#header .headerContainer .regLnk').html(jQuery('#header .sidebarMenu .regLnk').contents());jQuery('#header .sidebarMenu .regLnk').empty();jQuery('#header .headerContainer .regLnk').css('display','inline-block');spine.css("display","none");jQuery("#headerHamburger a").focus();});}
else{spine.css("display","inline-block");setTimeout(function(){jQuery('#header .headerContainer .regLnk').css('display','none');jQuery('#header .sidebarMenu .regLnk').html(jQuery('#header .headerContainer .regLnk').contents());jQuery('#header .headerContainer .regLnk').empty();if(jQuery('#header .sidebarMenu .regLnk').find(jQuery('#header .sidebarMenu .regLnk #guestAccessPage')).length>0){jQuery('#header .sidebarMenuHeader .user span:first-child').replaceWith(jQuery('#carsLoginSpine').contents());jQuery('#carsLoginSpine').empty();}
jQuery("body").addClass("sidebarActive");jQuery("#header .user").attr('tabindex',-1).focus();});};}
_this.init();jQuery('#header .headerContainer  #login_loginlink').on('click',function(e){header.removeLoginPopoutOuterContents();if(jQuery('#login_pop_container').hasClass('CARS_displayInline')){header.closeHelpPopout();jQuery('<div/>',{'class':'custom-modal-arrow'}).insertAfter('#header #login_maincontroller+.CARS_clear');jQuery('<div/>',{'class':'custom-modal-top-border'}).appendTo('#login-panel .custom-modal-arrow');jQuery('#header #login_pop_container').appendTo('#login-panel .custom-modal-top-border');header.addAccessibilityToLoginPopout();window.setTimeout(function(){jQuery('#header #login_pop_container #username').focus();},50);loginPopoutOpened=true;}});jQuery('#header .headerContainer  #logout_username_link').on('click',function(e){header.removeLogoutPopoutOuterContents();if(jQuery('#logout_pop').hasClass('CARS_displayInline')){jQuery('<div/>',{'class':'custom-modal-arrow'}).insertAfter('#header #logout_username_link+.CARS_clear');jQuery('<div/>',{'class':'custom-modal-top-border'}).appendTo('#header #logout_user .custom-modal-arrow');jQuery('#header #logout_pop').appendTo('#header #logout_user .custom-modal-top-border');logoutPopoutOpened=true;header.addAccessibilityToLogoutPopout();}});var registerIcon=jQuery('<span />').addClass('icon-BGS10 navigate-right-link-white');jQuery('#header #login_reglink').append(registerIcon);var closeIcon=jQuery('<a>',{'class':'iconSmall close pull-right','href':'javascript:void(0);','title':'Close window','aria-label':'Close','html':'&nbsp;'});var placeholderForCorrectFocus=jQuery('<span>',{'id':'login-close-placeholder','tabindex':'-1'});closeIcon.insertAfter(jQuery('#header #login_pop_container #login_pop_container_socialform'));placeholderForCorrectFocus.insertAfter(closeIcon);jQuery('#header #login_pop_container .close').addClass('login-close-icon');var requiredFieldsText=jQuery('<div>',{'class':'requiredFieldsText','displaystyle':':red','html':'*<span class="greyText">=required fields</span>'});requiredFieldsText.appendTo(jQuery("#header #login_pop_container #login_pop_container_logform"));var logOutPopOutOuterDiv=jQuery('<div>',{'class':'custom-logout-popout',});jQuery('#header #userPath').appendTo(logOutPopOutOuterDiv);logOutPopOutOuterDiv.appendTo('#header #logout_pop');closeIcon.insertAfter(jQuery('#header #logout_user #logout_pop #userPath'));placeholderForCorrectFocus.insertAfter(jQuery('#header #logout_user #logout_pop a.close'));jQuery('#header #login_loginlink').removeAttr("aria-expanded");var userPopoutTitleDiv=jQuery('<div>',{'class':'userPopoutTitle','tabindex':'0','html':'My organization'});userPopoutTitleDiv.insertBefore(jQuery('#header #logout_user #logout_pop #userPath'));jQuery('#header #login_pop_container .close').on('click',function(e){header.closeLoginPopout();});jQuery('#header #logout_pop .close').on('click',function(e){header.closeLogoutPopout();});var logoutLink=jQuery('#logout-panel #logout_logoutlink');logoutLink.appendTo(jQuery('#header #logout_pop #userPath'));logoutLink.css("display","inline-block");if(jQuery('#logout_user').length>0){jQuery("#header .personalAccess a").removeClass("not-signed-in-user-link");if(jQuery('#CARS_SETTINGS_TEMPLATE #settings-panel').contents().length===0){header.getMyScopusLinkData();}else{header.formProfileAccessLinks();}
if(!jQuery("#broughtToYouCnt .libraryBannerCont>#banner-top").length>0){jQuery("#broughtToYouCnt .libraryBannerCont").remove();}
if(!jQuery("#broughtToYouCnt .librCatl>a").length>0){jQuery("#broughtToYouCnt .librCatl").remove();}
if(!jQuery("#broughtToYouCnt li").length>0){jQuery("#broughtToYouCnt").parent().remove();}}
jQuery(".not-signed-in-user-link").on("click",function(){if(!jQuery('#login_pop_container').hasClass('CARS_displayInline')){jQuery("#header #login_loginlink")[0].onclick();jQuery("#header #login_loginlink").click();jQuery("#header #login_loginlink")[0].onclick();}})
jQuery("#logout_username_expand,#logout_username_collapse").hover(function(){jQuery("#logout_username,#logout_text_content").addClass("hovered");},function(){jQuery("#logout_username,#logout_text_content").removeClass("hovered");});jQuery("#logout_username_link").on('focus',function(){jQuery("#logout_username,#logout_text_content").addClass("hovered");}).on('blur',function(){jQuery("#logout_username,#logout_text_content").removeClass("hovered");});var isIE=header.detectIE();if(isIE){jQuery("#header li.regLnk").addClass("ieSpecific");jQuery("#header").addClass("ie");}
jQuery("#header #login_submit_btn").on("click",function(e){var errorCount=0;var focusInput=null;jQuery("#errorMsgContainerAlert").remove();var accessibileAlertDiv=jQuery('<div>',{'id':'errorMsgContainerAlert','role':'alert','aria-atomic':'true','aria-live':'assertive'});if(!jQuery("#header #username").val()){accessibileAlertDiv.append("username field is empty");errorCount++;focusInput=jQuery('#header #login_pop_container #username');if(jQuery('#userNameError').hasClass("displayNone")){jQuery("#userNameError").removeClass("displayNone").insertAfter(jQuery('#header #login_username'));}}else{if(!jQuery('#userNameError').hasClass("displayNone")){jQuery('#userNameError').addClass("displayNone");}}
if(!jQuery("#header #login_password-password,#header #password").val()){accessibileAlertDiv.append("password field is empty");errorCount++;if(focusInput===null){focusInput=jQuery('#header #login_pop_container #password,#header #login_pop_container #login_password-password');}
if(jQuery('#passwordError').hasClass("displayNone")){jQuery("#passwordError").removeClass("displayNone").insertAfter(jQuery('#header #login_password'));}}else{if(!jQuery('#passwordError').hasClass("displayNone")){jQuery('#passwordError').addClass("displayNone");}}
if(errorCount>0){jQuery("body").prepend(accessibileAlertDiv);focusInput.focus();e.preventDefault();}});jQuery("#header #logout_username,#header #logout_text_content").on("click",function(e){if(!jQuery('#logout_pop').hasClass('CARS_displayInline')){jQuery("#header #logout_username_link")[0].onclick();jQuery("#header #logout_username_link").click();jQuery("#header #logout_username_link")[0].onclick();}else{header.closeLogoutPopout();}});jQuery(".userOptionCnt>a").on("click",function(e){var otherAccordians=jQuery(".userOptionCnt>a").not(this);otherAccordians.each(function(index){if(jQuery(this).hasClass("expanded")){jQuery(this).removeClass("expanded").addClass("collapsed").attr("aria-expanded","false");jQuery(this).next().addClass("spineAccordianCollapsed");}});});jQuery("#logout_username,#logout_text_content").hover(function(){jQuery("#logout_username_link").addClass("hovered");},function(){jQuery("#logout_username_link").removeClass("hovered");});var keysdown={};var keyPressed=false;jQuery(".toggleIcon").keydown(function(e){if(keysdown[e.keyCode]){return;}
keysdown[e.keyCode]=true;if(e.keyCode===13){keyPressed=true;_this.toggleMenu();}else{keyPressed=false;}});jQuery(document).keyup(function(e){delete keysdown[e.keyCode];keyPressed=false;});});jQuery("#sourceBrowseId").on('click',function(event){if(typeof(Storage)!=="undefined"){localStorage.setItem("tabClicked","Search for a source");}});(function($){$.fn.scopusLoading=function(options){var opts=$.extend({},$.fn.scopusLoading.defaults,options);var that=jQuery(this);var containerId=that.attr('id');if(opts.show){$.fn.scopusLoading.activeElement=jQuery(":focus");var loading=jQuery("<span>",{'class':"loadingIcon"});var loadingTxt=jQuery("<div>",{'id':containerId+'-loading','class':"loadingText",'text':opts.loadingText,"aria-live":"assertive","role":"status",'tabindex':'1'});jQuery(that).find('[aria-busy="false"]').attr('aria-busy',true);if(opts.backDrop){var loadingContainer=jQuery("<div>",{'class':"loadingOverlay modal-backdrop in"});loadingContainer.append(loadingTxt.append(loading));that.append(loadingContainer);that.data("canClose",false);}
else{that.append(loadingTxt.prepend(loading));}
loadingTxt.focus();}
else{if(opts.hasTimer){if(opts.isTimer){if(that.data("canClose")){jQuery(that).find('[aria-busy="true"]').attr('aria-busy',false);$(".loading").remove();$(".loadingOverlay").remove();that.data("canClose",false);if($.fn.scopusLoading.activeElement.length){$.fn.scopusLoading.activeElement.focus();}}
else{that.data("canClose",true);}}
else if(opts.isDone){if(that.data("canClose")){jQuery(that).find('[aria-busy="true"]').attr('aria-busy',false);$(".loading").remove();$(".loadingOverlay").remove();that.data("canClose",false);if($.fn.scopusLoading.activeElement.length){$.fn.scopusLoading.activeElement.focus();}}
else{that.data("canClose",true);}}}
else{jQuery(that).find('[aria-busy="true"]').attr('aria-busy',false);$(".loading").remove();$(".loadingOverlay").remove();}}
return that;};$.fn.scopusLoading.defaults={show:true,backDrop:true,loadingText:"Loading",hasTimer:false,isTimer:false,isDone:false};})(jQuery);(function($){$.fn.handleFocus=function(){var that=jQuery(this);jQuery(that).keyup(function(e){var code=(e.keyCode?e.keyCode:e.which);var target=jQuery(e.target);if(code===9){target.addClass("tabFocus").on("focusout.tab",function(event){jQuery(this).removeClass("focus").off("focusout.tab");});if(target.parents("table.table-hover").length){target.on("focusout.tabTr",function(event){jQuery(this).parents("table.table-hover tr").removeClass("focus").off("focusout.tabTr");}).parents("tr").addClass("focus");}}});}})(jQuery);function detectIEBrowser(){var browserObj={isBrowserIE:false};var ua=window.navigator.userAgent;var msie=ua.indexOf('MSIE ');if(msie>0){browserObj.isBrowserIE=true;browserObj.version=parseInt(ua.substring(msie+5,ua.indexOf('.',msie)),10);}
var trident=ua.indexOf('Trident/');if(trident>0){var rv=ua.indexOf('rv:');browserObj.isBrowserIE=true;browserObj.version=parseInt(ua.substring(rv+3,ua.indexOf('.',rv)),10);}
var edge=ua.indexOf('Edge/');if(edge>0){browserObj.isBrowserIE=true;browserObj.version=parseInt(ua.substring(edge+5,ua.indexOf('.',edge)),10);}
return browserObj;}
var widthAppender=34;function listboxHandler(){var $listboxes=$('input[role=combobox]');$listboxes.each(function(index,element){var $listbox=$(element);var $downArrow=$listbox.siblings('.combobox-arrow');var $optionList=$listbox.siblings('.combobox-list');setDropdownWidth($listbox,$downArrow,$optionList);$optionList.find("li").attr('role',"option");$listbox.on('click',function(event){closeOtherList($listbox);var isOpen=$optionList.is(':visible');if(isOpen){closeList($listbox,$downArrow,$optionList);}else{openList($listbox,$downArrow,$optionList);}});$downArrow.on('click',function(event){closeOtherList($listbox);$listbox[0].click();$listbox[0].focus();});var adjacentOption;$listbox.on('keydown',function(e){var listOpen=$optionList.is(':visible');e.stopPropagation();var target=e.target;var which=e.which;if(which===40){e.preventDefault();if(!listOpen){openList($listbox,$downArrow,$optionList);}else{adjacentOption=findAdjacentOption($listbox,$optionList,'next');if(adjacentOption){setActiveOption(adjacentOption,$listbox,$optionList);}}}else if(which===38&&listOpen){e.preventDefault();adjacentOption=findAdjacentOption($listbox,$optionList,'prev');if(adjacentOption){setActiveOption(adjacentOption,$listbox,$optionList);}}else if(which===9&&listOpen){e.preventDefault();setSelectedOption($listbox,$optionList);closeList($listbox,$downArrow,$optionList);$listbox.focus();}else if(which===27&&listOpen){closeList($listbox,$downArrow,$optionList);$listbox[0].focus();}else if(which===13&&listOpen){setSelectedOption($listbox,$optionList);$listbox[0].click();}else if(which>=65&&which<=90){var nextLetterOption=letterSearch(which,$optionList);if(nextLetterOption){setActiveOption(nextLetterOption,$listbox,$optionList);}}});$optionList.on('click','li',function(){setActiveOption(this,$listbox,$optionList);setSelectedOption($listbox,$optionList);$listbox[0].click();});jQuery(window).resize(function(){var isOpen=$optionList.is(':visible');if(isOpen){closeList($listbox,$downArrow,$optionList);$optionList.width($listbox.outerWidth()+2);openList($listbox,$downArrow,$optionList);}
else{$optionList.width($listbox.outerWidth()+2);}});})
jQuery.fn.scrollTo=function(elem){if($(elem).length){$(this).scrollTop($(this).scrollTop()-$(this).offset().top+$(elem).offset().top);}
return this;};$('body').unbind('click.combo').bind("click.combo",function(e){if($('.combobox-list').is(':visible')&&!jQuery(e.target).closest(".combobox-container").length){var $optionList=$('.combobox-list:visible');var $downArrow=$optionList.siblings('.combobox-arrow');var $listboxVisible=$optionList.siblings('input[role=combobox]');closeList($listboxVisible,$downArrow,$optionList);}});}
function setDropdownWidth($listbox,$downArrow,$optionList){$optionList.width($listbox.outerWidth()+2);}
function openList($listbox,$downArrow,$optionList){setDropdownWidth($listbox,$downArrow,$optionList);$listbox.trigger("expand.combo",{'listbox':$listbox,'downArrow':$downArrow,'optionList':$optionList});if($optionList.find("ul li").length){var oldWidth=$listbox.outerWidth(true);var newWidth=oldWidth+widthAppender;var $parent=$listbox.parent(".combobox-container");$parent.addClass('combobox-expanded');if($parent.width()<newWidth){$parent.width(newWidth)}
$listbox.outerWidth(newWidth);$optionList.show();$listbox.attr('aria-expanded','true');var activeOption=findActiveOption($listbox,$optionList);setActiveOption(activeOption,$listbox,$optionList);var arrowIcon=$downArrow.find('i.icon')[0];if(!$(arrowIcon).hasClass('up')){$(arrowIcon).addClass('up');}}}
function closeOtherList(targetListbox){var $optionList=$('.combobox-list:visible');var $listboxVisible=$optionList.siblings('input[role=combobox]');if(targetListbox.attr('id')!==$listboxVisible.attr('id')){var $downArrow=$optionList.siblings('.combobox-arrow');closeList($listboxVisible,$downArrow,$optionList);}}
function closeList($listbox,$downArrow,$optionList){$listbox.trigger("collapse.combo",{'listbox':$listbox,'downArrow':$downArrow,'optionList':$optionList});$optionList.hide();$listbox.attr('aria-expanded','false');var $parent=$listbox.parent(".combobox-container");$parent.removeClass('combobox-expanded');$parent.width('')
$listbox.width('');var arrowIcon=$downArrow.find('i.icon')[0];if($(arrowIcon).hasClass('up')){$(arrowIcon).removeClass('up');}}
function findActiveOption($listbox,$optionList){var activeOption=$('li.active',$optionList[0])[0];if(!activeOption){activeOption=$('li',$optionList[0])[0];}
return activeOption;}
function setActiveOption(activeOption,$listbox,$optionList){$(activeOption).siblings().each(function(){$(this).removeClass('active');});$(activeOption).addClass('active');$optionList.scrollTo(activeOption);activeOption.id=activeOption.id||uniqueString();$listbox.attr('aria-activedescendant',activeOption.id);}
function findAdjacentOption($listbox,$optionList,dir){var currentActive=findActiveOption($listbox,$optionList);var adjacentOption=(dir==='next')?$(currentActive).next()[0]:$(currentActive).prev()[0];return adjacentOption;}
function updateListValue($listbox){console.info($listbox)
var $downArrow=$listbox.siblings('.combobox-arrow');var $optionList=$listbox.siblings('.combobox-list');var activeOption=$optionList.find("li:contains("+$listbox.val()+")");console.info(activeOption)
setActiveOption(activeOption,$listbox,$optionList);}
function setSelectedOption($listbox,$optionList){var $currentlyActive=$('li.active',$optionList[0]);if($currentlyActive.length){$listbox.val($currentlyActive.data('value')).data($currentlyActive.data());$currentlyActive.attr('aria-selected','true');$currentlyActive.siblings().each(function(){this.setAttribute('aria-selected','false');});$listbox.trigger("change");}}
function letterSearch(key,$optionList){var nextOption;var active=$optionList.find('li.active')[0];var letter=String.fromCharCode(key);var isCurrentLetter=$(active).attr('data-value').toLowerCase()[0]===letter.toLowerCase();var startsWithLetter=[];$optionList.find('li').each(function(i,li){var optionValue=li.getAttribute('data-value');if(optionValue.toLowerCase()[0]===letter.toLowerCase()){startsWithLetter.push(li);}});var activeIndex=isCurrentLetter&&$.inArray(active,startsWithLetter);if(activeIndex||activeIndex===0){if(activeIndex===startsWithLetter.length-1){nextOption=startsWithLetter[0];}else{nextOption=startsWithLetter[activeIndex+1];}}else{nextOption=startsWithLetter[0];}
return nextOption;}
function uniqueString(){return Math.floor(Math.random()*0x0deadbeef);}
(function($){jQuery.fn.modaless=function(){var that=jQuery(this);if(that.data("toggle")!=="modaless"){that.off('click.modaless').on("click.modaless",jQuery.fn.modaless.toggle);}
return that;};jQuery.fn.modaless.toggle=function(event){event.preventDefault();var that=jQuery(this);var popupObj=jQuery(that.data('target'));var close=jQuery(popupObj).find(".close");if(popupObj.hasClass("in")){that.trigger("hide.bs.modaless");close.off("click");jQuery.fn.modaless.close();that.trigger("hiden.bs.modaless");}
else{that.trigger("show.bs.modaless",{"popup":popupObj,'target':that,"event":event});if(jQuery.fn.modaless.hasOwnProperty("openHandle")){jQuery.fn.modaless.openHandle.removeClass("in").hide();}
jQuery.fn.modaless.openHandle=popupObj;jQuery.fn.modaless.currentActiveElement=jQuery(':focus');popupObj.addClass("in").show();popupObj.focus();if(popupObj.find(":focusable").length===1){var hiddenObj=jQuery("<a>",{"class":"sr-only dummyclose","aria-hidden":'true','href':"#"}).focus(function(){popupObj.find(":focusable:first").focus();});popupObj.append(hiddenObj);}
close.off("click").on("click",$.fn.modaless.close).data("parent",that);popupObj.data("parent",that);that.trigger("shown.bs.modaless",{"popup":popupObj,'target':that,'close':close,"event":event});popupObj.find(":focusable:last").blur(function(event){if(popupObj.hasClass('in')){popupObj.find(":focusable:first").focus();}});var popupBottom=jQuery(popupObj).offset().top+jQuery(popupObj).outerHeight(true);var windowHeight=$(window).height();var scrollTop=$(window).scrollTop();var windowBottom=windowHeight+scrollTop;if(popupBottom>windowBottom){var diff=popupBottom-windowBottom;var newScrollTop=scrollTop+diff;$(window).scrollTop(newScrollTop);}}};jQuery.fn.modaless.close=function(e){if(jQuery.fn.modaless.hasOwnProperty("openHandle")&&jQuery.fn.modaless.openHandle.length){jQuery.fn.modaless.openHandle.removeClass("in").hide();jQuery.fn.modaless.currentActiveElement.focus();jQuery.fn.modaless.currentActiveElement='';jQuery.fn.modaless.openHandle.find('.dummyclose').remove();delete jQuery.fn.modaless["openHandle"];}
if(e&&e.target){e.preventDefault();var parent=jQuery(e.target).data("parent");if(parent&&parent.length){parent.focus();}}};jQuery('body').off('click.modalessbody').on('click.modalessbody',"[data-toggle=modaless]",jQuery.fn.modaless.toggle)
$('body').unbind('click.caprure').bind("click.caprure",function(e){if(jQuery.fn.modaless.hasOwnProperty("openHandle")&&!jQuery(e.target).closest(".modal.modaless")[0]&&jQuery(e.target).closest('[data-type=modaless]').data("target")!=="#"+jQuery.fn.modaless.openHandle.attr("id")){jQuery.fn.modaless.close();}});$(document).keydown(function(e){var code=(e.keyCode?e.keyCode:e.which);if(code===27){jQuery.fn.modaless.close();}});}(jQuery));var sourceBrwse={isPreview:false,localizationObj:{},openedModal:{},srcTypeMaping:{'j':'Journal','p':'Conference Proceeding','d':'Trade Publication','k':'Book Series'},helper:{showClearIcon:function(elem){jQuery(elem).css('display','block');},getUrlVars:function(){var vars=[],hash;var hashes=window.location.href.slice(window.location.href.indexOf('?')+1).split('&');for(var i=0;i<hashes.length;i++)
{hash=hashes[i].split('=');vars.push(hash[0]);vars[hash[0]]=hash[1];}
return vars;},getUrlVar:function(name){return sourceBrwse.helper.getUrlVars()[name];}},search:function(){jQuery('input.els_textinput').bind('focus',function(){jQuery("label[for='"+this.id+"']").addClass("labelfocus");}).bind('blur',function(){if(this.value===''){jQuery("label").removeClass("labelfocus");}});jQuery('input.els_textinput').on('input',function(event){if(this.value!=''){sourceBrwse.helper.showClearIcon("#txtClear");jQuery("#source-name").removeClass("warning");jQuery(".w-message").remove();}else{jQuery("#txtClear").hide();}});if(jQuery("input[name=searchTerms]").val()!=''){jQuery("label[for='"+jQuery("input[name=searchTerms]").attr('id')+"']").addClass("labelfocus");sourceBrwse.helper.showClearIcon("#txtClear");}else{jQuery("#txtClear").hide();}
jQuery("#txtClear").on('click keydown',function(event){if(event.keyCode===13||event.type==='click'){jQuery('.els_textinput').val('');jQuery("#txtClear").hide();jQuery('.els_textinput').focus();return false;}});jQuery("#searchOA_checkbox").on('click',function(event){var inputId=jQuery(this).attr('for');var checkedStatus=jQuery('#'+inputId).is(":checked");if(checkedStatus){window.document.SourcesSearchForm.searchOA.value='';}else{window.document.SourcesSearchForm.searchOA.value='Y';}});if(jQuery("input[name=searchOA]").val()==='Y'){jQuery("input[name=_searchOA]").prop("checked",true);}},initSourceList:function(){if(sourceBrwse.helper.getUrlVar('sortField')){$("#sortedCol").focus();}
jQuery(".srcType").each(function(index,object){object=jQuery(object);var srcTypeCode=jQuery(object).data('typecode');var srcTypeText;if(sourceBrwse.srcTypeMaping.hasOwnProperty(srcTypeCode)){srcTypeText=sourceBrwse.srcTypeMaping[srcTypeCode]}
else{srcTypeText=sourceBrwse.srcTypeMaping['j'];}
object.text(srcTypeText);});jQuery(".sourceList tr td:first-child a").addClass("primaryLink title");jQuery(".sourceListOutwardLinks .divTextLink a").each(function(index,elem){elem.setAttribute('title',srcBrowse.SOUR_OUTWARD_LINK_ALT());});var SJRZoneText=jQuery('#metricZoneInfo p:nth-child(3)').text();var SNIPZoneText=jQuery('#metricZoneInfo p:nth-child(7)').text();jQuery('#sjrModal .row.data').text(SJRZoneText);jQuery('#snipModal .row.data').text(SNIPZoneText);},clearFilterBtnClick:function(event){var unCheckedTypeFilter=jQuery("#typeFilterModal input:not(:checked)").prop("checked",true);var unSubscripTypeFilter=jQuery("#subscriptionFilterModal input:not(:checked)").prop("checked",true);var typeCheckedString=[$('#Publications').val(),"_",$('#journals').val(),"_",$('#Conference').val(),"_",$('#bookSeries').val()];jQuery("input[name=typeFilter]").val(typeCheckedString.join(''));if($('#nonsubscribed').length>0){var subscriptionCheckedString=[$('#subscribed').val(),"_",$('#nonsubscribed').val()];jQuery("input[name=subscriptionFilter]").val(subscriptionCheckedString.join(''));}
if(jQuery("#source-name").val()===''||jQuery(".ui-tabs-active[data-tabname=browse]").length){document.getElementById("browseForm").submit();}else{jQuery("input[name=filterActTriggered]").val("t");document.getElementById("searchForm").submit();}},clearFilterInit:function(){if(jQuery("#typeFilterModal input:not(:checked)").length||jQuery("#subscriptionFilterModal input:not(:checked)").length){jQuery("#clrFilter").on('click',sourceBrwse.clearFilterBtnClick);jQuery("#clrFilter").attr("disabled",false);if(typeof(Storage)!=="undefined"&&sessionStorage.srcBrsFilterClicked){jQuery("#clrFilter").focus();}
sessionStorage.removeItem("srcBrsFilterClicked");}},setActiveTab:function(event,ui){var tabName=ui.newTab.data('tabname');if(tabName=="search"){localStorage.setItem("tabClicked","Search for a source");}else if(tabName=="browse"){localStorage.setItem("tabClicked","Browse sources");}},init:function(defaultSelectedTab){var that=this;that.localizationObj=srcBrowse.SOUR;jQuery("#tabs").removeClass("hidden");jQuery("#tabs").tabs({active:defaultSelectedTab,activate:sourceBrwse.setActiveTab});sourceBrwse.initSourceList();sourceBrwse.search();sourceBrwse.isPreview=jQuery("body").data("preview");if(sourceBrwse.isPreview){var subscriptionStatusRadioElements=jQuery(".sourceBrowseCenterColForSubscription").children(".inline-radio");subscriptionStatusRadioElements.prop('title',sourceBrwse.localizationObj.PREVIEW_SUBSCRIPTION_MESSAGE);subscriptionStatusRadioElements.children(".radio-label").addClass("previewSubscription");jQuery("input[name=entitlementType]").attr("disabled",true);}
jQuery(".inline-radio").on('click',function(event){jQuery("#"+jQuery(this).find('input:enabled').attr('id')).prop("checked",true);});jQuery("input[name=typeFilter]").val(jQuery("input[name=typeFilterSelectedString]").val());constructTypeFilterCheckBoxes(jQuery("input[name=typeFilterSelectedString]").val());jQuery("input[name=subscriptionFilter]").val(jQuery("input[name=subscriptionFilterSelectedString]").val());constructSubscriptionFilterCheckBoxes(jQuery("input[name=subscriptionFilterSelectedString]").val());if(jQuery("input[name=openAccessDisplay]").val()==='Y'){jQuery("input[name=openAccessDisplayCheckBox]").prop("checked",true);}
sourceBrwse.clearFilterInit();jQuery("body").on('show.bs.modaless',function(e,data){if(e.target.id=='typeSelectMenu'){jQuery("#typeSelectMenu span:nth-of-type(2)").removeClass("typeSelectIcon").addClass("typeSelectIconExpanded");jQuery("#typeSelectMenu span:nth-of-type(1)").removeClass("typeHeading").addClass("typeHeadingExpanded");}
if(e.target.id=='subscriptionSelectMenu'){jQuery("#subscriptionSelectMenu span:nth-of-type(2)").removeClass("subscriptionSelectIcon").addClass("subscriptionSelectIconExpanded");jQuery("#subscriptionSelectMenu span:nth-of-type(1)").removeClass("subscriptionHeading").addClass("subscriptionHeading");}
if(typeof console!=="undefined"){console.log(e.target)
console.log(sourceBrwse.openedModal)}
if(!jQuery.isEmptyObject(sourceBrwse.openedModal)){jQuery(sourceBrwse.openedModal).modal('hide');sourceBrwse.openedModal={};}
sourceBrwse.openedModal=e.target;});jQuery("body").on('hide.bs.modaless',function(e,data){if(e.target.id==="typeSelectMenu"){jQuery("#typeSelectMenu span:nth-of-type(2)").removeClass("typeSelectIconExpanded").addClass("typeSelectIcon");jQuery("#typeSelectMenu span:nth-of-type(1)").removeClass("typeHeadingExpanded").addClass("typeHeading");}else if(e.target.id==="subscriptionSelectMenu"){jQuery("#subscriptionSelectMenu span:nth-of-type(2)").removeClass("subscriptionSelectIconExpanded").addClass("subscriptionSelectIcon");jQuery("#subscriptionSelectMenu span:nth-of-type(1)").removeClass("subscriptionHeadingExpanded").addClass("subscriptionHeading");}
sourceBrwse.openedModal={};});jQuery("body").on('click',function(e,data){if(!jQuery(e.target).closest(".modal.modaless")[0]&&(jQuery(e.target).closest('[data-type=modaless]').data("target")!=="#"
+sourceBrwse.openedModal.id)){if(!jQuery.isEmptyObject(sourceBrwse.openedModal)){jQuery(sourceBrwse.openedModal).modal('hide');sourceBrwse.openedModal={};}}});jQuery("body").on('shown.bs.modal','.modaless',function(param){jQuery(this).css("padding-right",0);jQuery("body").removeClass("modal-open");jQuery("body").removeAttr("style");if(jQuery(param.target).attr('id')==='crModal'||jQuery(param.target).attr('id')==='meModal'){jQuery(param.target).find('h3').focus();}});selcTitle=sourceBrwse.localizationObj.TITLE_SELECTED();tooltipText=jQuery('div.browseNav ul li b').text();jQuery('div.browseNavSmall li#allLink').attr('title',sourceBrwse.localizationObj.ALL_TITLE().concat(tooltipText));jQuery('div.browseNavSmall li#allLink a').attr('aria-label',sourceBrwse.localizationObj.ALL_TITLE().concat(tooltipText));var boldText=jQuery('div.browseNavSmall ul li b').text();if(boldText=="All"){jQuery('div.browseNavSmall ul li b').attr('title',sourceBrwse.localizationObj.ALL_TITLE().concat(tooltipText," ",selcTitle));jQuery('div.browseNavSmall ul li a.sr-only').text(sourceBrwse.localizationObj.ALL_TITLE().concat(tooltipText," ",selcTitle));}
jQuery('div.browseNavSmall li#disabled a').attr('title','');jQuery('div.browseNavSmall li#disabled a').css('color','#505050');jQuery('#sourceList tbody tr').focusin(function(){if(!jQuery(this).hasClass('sourceListBackground')){jQuery(this).addClass('sourceListBackground');}});jQuery('#sourceList tbody tr').focusout(function(){jQuery(this).removeClass('sourceListBackground');});jQuery("#sourceList.table-hover > tbody > tr:not(:has(th))").on('focusin',function(){jQuery('.info').attr('aria-hidden','true')});jQuery("#sourceList.table-hover > tbody > tr:not(:has(th))").on('focusout',function(){jQuery('.info').attr('aria-hidden','false')});jQuery(".typeDropdown #typeSelect").on('click',function(){constructTypeFilterCheckBoxes(jQuery("input[name=typeFilter]").val());});jQuery(".subscriptionDropDown #subscriptionSelect").on('click',function(){constructSubscriptionFilterCheckBoxes(jQuery("input[name=subscriptionFilter]").val());});typeFilterWidth=jQuery('th.col-md-2.typeDropdown').width();jQuery('#typeFilterModal .modal-dialog').width(typeFilterWidth);subscriptionFilterWidth=jQuery('th.col-md-2.subscriptionDropDown').width();jQuery('#subscriptionFilterModal .modal-dialog').width(subscriptionFilterWidth);jQuery(window).on('resize',function(){typeFltrWidth=jQuery('th.col-md-2.typeDropdown').width();jQuery('#typeFilterModal .modal-dialog').width(typeFltrWidth);subscriptionFilterWidth=jQuery('th.col-md-2.subscriptionDropDown').width();jQuery('#subscriptionFilterModal .modal-dialog').width(subscriptionFilterWidth);});jQuery("body").mousedown(function(e){if(e.target.id!='typeSelect'&&!jQuery(e.target).closest(".modal.modaless")[0]){if(jQuery("#typeSelectMenu span:nth-of-type(2)").hasClass("typeSelectIconExpanded")){jQuery("#typeSelectMenu span:nth-of-type(2)").removeClass("typeSelectIconExpanded").addClass("typeSelectIcon");jQuery("#typeSelectMenu span:nth-of-type(1)").removeClass("typeHeadingExpanded").addClass("typeHeading");}}
if(e.target.id!='subscriptionSelect'&&!jQuery(e.target).closest(".modal.modaless")[0]){if(jQuery("#subscriptionSelectMenu span:nth-of-type(2)").hasClass("subscriptionSelectIconExpanded")){jQuery("#subscriptionSelectMenu span:nth-of-type(2)").removeClass("subscriptionSelectIconExpanded").addClass("subscriptionSelectIcon");jQuery("#subscriptionSelectMenu span:nth-of-type(1)").removeClass("subscriptionHeadingExpanded").addClass("subscriptionHeading");}}});jQuery(document).keydown(function(e){if(e.keyCode===27){if(e.target.id!='typeSelect'){if(jQuery("#typeSelectMenu span:nth-of-type(2)").hasClass("typeSelectIconExpanded")){jQuery("#typeSelectMenu span:nth-of-type(2)").removeClass("typeSelectIconExpanded").addClass("typeSelectIcon");jQuery("#typeSelectMenu span:nth-of-type(1)").removeClass("typeHeadingExpanded").addClass("typeHeading");}}
if(e.target.id!='subscriptionSelect'){if(jQuery("#subscriptionSelectMenu span:nth-of-type(2)").hasClass("subscriptionSelectIconExpanded")){jQuery("#subscriptionSelectMenu span:nth-of-type(2)").removeClass("subscriptionSelectIconExpanded").addClass("subscriptionSelectIcon");jQuery("#subscriptionSelectMenu span:nth-of-type(1)").removeClass("subscriptionHeadingExpanded").addClass("subscriptionHeading");}}}});jQuery("#sourceList a.icon").on("show.bs.modaless",function(event,param){sourceBrwse.setSnowballPopupPosition(event.target,param.popup);});jQuery(window).resize(function(){if(jQuery.fn.modaless.hasOwnProperty("openHandle")&&jQuery.fn.modaless.openHandle.hasClass("snowballWindowResize")){var target=jQuery.fn.modaless.openHandle.data("parent");sourceBrwse.setSnowballPopupPosition(target,jQuery.fn.modaless.openHandle);}});jQuery("ul.alphaSortNav li a,a.sortDesc").off("click.search").on("click.search",function(){sourceBrwse.setTrigeredEventForFocus('sort');})
if(typeof(Storage)!=="undefined"){var loadType=sessionStorage.srcBrsSubmitType;sessionStorage.removeItem('srcBrsSubmitType');if(typeof(loadType)!=="undefined"){jQuery(".resultsCount").focus();}}},setTrigeredEventForFocus:function(type){if(typeof(Storage)!=="undefined"){sessionStorage.srcBrsSubmitType=type;}},setSnowballPopupPosition:function(target,popup){var leftPosition=jQuery(target).position().left;var containerWidth=jQuery(target).parent().parent().outerWidth();var linkWidth=jQuery(target).outerWidth();var popupRight=containerWidth-(leftPosition+(linkWidth/2));popup.css({'right':popupRight+3,'left':'auto'});}}
function validateSearch(){window.document.SourcesSearchForm.sortDirection.value='ASC';var errorMessage=jQuery('<span>',{'class':'w-message','text':sourceBrwse.localizationObj.NO_SEARCH_TERM});if(jQuery("#source-name").val()===''){if(jQuery("#source-name").hasClass("warning")){return false;}
jQuery(errorMessage.clone()).insertAfter("#search_source_label");jQuery("#source-name").addClass("warning");return false;}
var errorMessage=sourceBrwse.localizationObj.NO_SEARCH_TERM_ENTERED();var issearchValid=assertNotEmpty(window.document.SourcesSearchForm.searchTerms,errorMessage);if(issearchValid){jQuery("input[name=subscriptionFilter]").val("s_u");jQuery("input[name=typeFilter]").val("d_j_p_k");sourceBrwse.setTrigeredEventForFocus('search');}
return issearchValid;}
jQuery(".displayCheckDiv").on('click',function(event){if($('#openAccessDisplayId').is(':checked')){jQuery("input[name=openAccessDisplay]").val("Y")}else{jQuery("input[name=openAccessDisplay]").val("")}});jQuery(document).ready(function(){var defaultSelectedTab=0;if(jQuery("input[name=bookMarkUrlString]").val()==="Y"){if(jQuery("input[name=tabNameSelectedString]").val()==="browseSourceTab"){defaultSelectedTab=1;localStorage.setItem("tabClicked","Browse sources");}else{defaultSelectedTab=0;localStorage.setItem("tabClicked","Search for a source");}}
else if(typeof(Storage)!=="undefined"){if(localStorage.getItem("tabClicked")=="Search for a source"){defaultSelectedTab=0;localStorage.setItem("tabClicked","Search for a source");}else if(localStorage.getItem("tabClicked")=="Browse sources"){defaultSelectedTab=1;localStorage.setItem("tabClicked","Browse sources");}else{localStorage.setItem("tabClicked","Search for a source");}}
sourceBrwse.init(defaultSelectedTab);jQuery('#subjectArea').selectmenu({'appendTo':'#allSubjectAreaDropDown',open:function(event,ui){jQuery("#subjectArea-menu").width(jQuery("#subjectArea-button").width());}}).selectmenu('refresh',true);});jQuery("#paginationtextinputId").on('click',function(event){$("#paginationtextinputId").val("");});jQuery("#tabs li").on('click',function(event){var tabName=$(event.target).text();if(tabName=="Search for a source"){localStorage.setItem("tabClicked","Search for a source");}else if(tabName=="Browse sources"){localStorage.setItem("tabClicked","Browse sources");}});jQuery("#typebuttonApply").on('click',function(event){if(jQuery("input[name=typeFilter]").val()!=="allTypeFiltersCheckboxesUnchecked"){if(typeof(Storage)!=="undefined"){sessionStorage.srcBrsFilterClicked=true;}
var tabname=localStorage.getItem("tabClicked");if(tabname=="Search for a source"){if(jQuery("#source-name").val()===''){document.getElementById("browseForm").submit();}else{jQuery("input[name=filterActTriggered]").val("t");document.getElementById("searchForm").submit();}}else{document.getElementById("browseForm").submit();}}else{event.preventDefault();}});jQuery(".typeList").on('click',function(event){var typeCheckedString="";var tabName=$(event.target).text();if($('#Publications').is(':checked')){typeCheckedString=$('#Publications').val();}
if($('#journals').is(':checked')){if(typeCheckedString==""){typeCheckedString=$('#journals').val();}else{typeCheckedString=typeCheckedString+"_"+$('#journals').val();}}
if($('#Conference').is(':checked')){if(typeCheckedString==""){typeCheckedString=$('#Conference').val();}else{typeCheckedString=typeCheckedString+"_"+$('#Conference').val();}}
if($('#bookSeries').is(':checked')){if(typeCheckedString==""){typeCheckedString=$('#bookSeries').val();}else{typeCheckedString=typeCheckedString+"_"+$('#bookSeries').val();}}
if(typeCheckedString==""){typeCheckedString="allTypeFiltersCheckboxesUnchecked";$("#typebuttonApply").addClass("filterButtonDisable");}else{$("#typebuttonApply").removeClass("filterButtonDisable");}
jQuery("input[name=typeFilter]").val(typeCheckedString);});function constructTypeFilterCheckBoxes(typeCheckedString){if(typeCheckedString!=null){var typeFilterChecked=typeCheckedString.split("_");var typeFilterCheckedlength=typeFilterChecked.length;for(var i=0;i<typeFilterCheckedlength;i++){if(typeFilterChecked[i]=="d"){jQuery("#Publications").prop("checked",true);}else if(typeFilterChecked[i]=="j"){jQuery("#journals").prop("checked",true);}else if(typeFilterChecked[i]=="p"){jQuery("#Conference").prop("checked",true);}else if(typeFilterChecked[i]=="k"){jQuery("#bookSeries").prop("checked",true);}}}else{jQuery("#journals").prop("checked",true);jQuery("#Publications").prop("checked",true);jQuery("#Conference").prop("checked",true);jQuery("#bookSeries").prop("checked",true);}}
jQuery("#displaySourceSubmit").on('click',function(event){jQuery("input[name=subscriptionFilter]").val("s_u");jQuery("input[name=typeFilter]").val("d_j_p_k");sourceBrwse.setTrigeredEventForFocus('displaySource');});jQuery("#subscriptionbuttonApply").on('click',function(event){if(jQuery("input[name=subscriptionFilter]").val()!=="allSubscriptionFiltersCheckboxesUnchecked"){var tabname=localStorage.getItem("tabClicked");if(typeof(Storage)!=="undefined"){sessionStorage.srcBrsFilterClicked=true;}
if(tabname=="Search for a source"){if(jQuery("#source-name").val()===''){document.getElementById("browseForm").submit();}else{jQuery("input[name=filterActTriggered]").val("t");document.getElementById("searchForm").submit();}}else{document.getElementById("browseForm").submit();}}else{event.preventDefault();}});jQuery(".subscriptionList").on('click',function(event){var subscriptionCheckedString="";if($('#subscribed').is(':checked')){subscriptionCheckedString=$('#subscribed').val();}
if($('#nonsubscribed').is(':checked')){if(subscriptionCheckedString==""){subscriptionCheckedString=$('#nonsubscribed').val();}else{subscriptionCheckedString=subscriptionCheckedString+"_"+$('#nonsubscribed').val();}}
if(subscriptionCheckedString==""){subscriptionCheckedString="allSubscriptionFiltersCheckboxesUnchecked";$("#subscriptionbuttonApply").addClass("filterButtonDisable");}else{$("#subscriptionbuttonApply").removeClass("filterButtonDisable");}
jQuery("input[name=subscriptionFilter]").val(subscriptionCheckedString);});function constructSubscriptionFilterCheckBoxes(subscriptionCheckedString){if(subscriptionCheckedString!=null){var subscriptionFilterChecked=subscriptionCheckedString.split("_");var subscriptionFilterCheckedlength=subscriptionCheckedString.length;for(var i=0;i<subscriptionFilterCheckedlength;i++){if(subscriptionFilterChecked[i]=="s"){jQuery("#subscribed").prop("checked",true);}else if(subscriptionFilterChecked[i]=="u"){jQuery("#nonsubscribed").prop("checked",true);}}}else{jQuery("#subscribed").prop("checked",true);jQuery("#nonsubscribed").prop("checked",true);}}
function documentJumpToPageNumericValidation(e,page,form){var sourceResultsCount=jQuery("#sourceResultsCount").val();var numberOfSourcesPerPage=jQuery("#numberOfSourcesPerPage").val();var offset=(page*numberOfSourcesPerPage)-numberOfSourcesPerPage+1;var isNS=(navigator.appName=="Netscape")?1:0;var key;if(!isNS){key=e.keyCode;}else{key=e.which;}
if(key==8||key==0){return true;}else if(key>47&&key<58){return true;}else if(key==13){sourceResultsCount=sourceResultsCount.replace(' sources found matching','');if(offset<sourceResultsCount&&offset>0){var documentURL=document.URL;var offsetStartIndex=documentURL.indexOf("offset");var offsetEndIndex=documentURL.indexOf('&',offsetStartIndex);if(offsetStartIndex!=-1&&offsetEndIndex==-1){offsetEndIndex=documentURL.length;}
var offsetToBeReplaced=documentURL.substring(offsetStartIndex,offsetEndIndex);window.location.href=documentURL.replace(offsetToBeReplaced,"offset="+offset);}}
return false;}
function documentJumpToPageSyncUpCurrentPage(form,page){jQuery(form).children("input[name='documentJumpToPageDefault']").val('t');jQuery(form).children("input[name='currentPage']").val(page);jQuery(form).children("input[name='clickedLink']").val('go');}