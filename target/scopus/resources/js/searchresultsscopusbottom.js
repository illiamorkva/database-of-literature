;(function(){function r(val,args){for(var x=0;x<args.length;x++){val=val.replace('{'+x+'}',args[x]);}
return val;}
function p(){var val=arguments[0];var ret;if(val.indexOf('{0}')!=-1)
ret=function(){return r(val,arguments);}
else ret=function(){return val;}
for(var x=1;x<arguments.length;x++){for(var a in arguments[x])
ret[a]=arguments[x][a];}
return ret;}
window.messages=({"DOC_CIB_HEADER_MSG_ERRATUMS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> erratums<\/a> matches your query"),"TERM_EMAIL_PREVIEW_TOOLTIP":p("Go back to the previous page"),"CIBO_VIEW_DOC_TOOLTIP":p("View documents (opens in new window)"),"DOCU_TITLE_OVERVIEW_TOOLTIP":p("View all of your Saved lists"),"RESULTS_REFINE_MLT_TITLES_LABEL":p("Shares {1}selected words from the title{2} with: Refined to [{0}] gives:"),"DOC_CIB_HEADER_MSG_LETTERS_TOOLTIP":p("View letters (opens in new window)"),"CIBO_VIEW_AUTHOREVAL_TOOLTIP":p("Click the link to open a new window displaying additional charts and graphs for the selected author."),"DOC_CIB_HEADER_MSG_BOOK_CHAPTERS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> book chapters<\/a> matches your query"),"RESULTS_SOURCE_INFO_TOOLTIP":p("Go to the information page for this source"),"RESULTS_REFINE_MLT_ALL_AUT_LABEL":p("Share {1}authors{2} with: Refined to [{0}] gives:"),"TERM_EMAIL_THANK":p("Thank You for using Scopus."),"RESULTS_QUERYBAR_REFINE_TXT_ALL":p("Refined to [{0}] gives:"),"DOC_CIB_HEADER_MSG_UNDEFINED":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> undefined<\/a> match your query"),"DOC_CIB_HEADER_MSG_SHORT_SURVEY":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> short survey<\/a> match your query"),"DOC_CIB_HEADER_MSG_BOOK":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> book<\/a> match your query"),"DOCSORT_FIELD_SOURCETITLE":p("Source Title (A-Z)"),"RESULTS_QUERYBAR_REFINE_CITES":p("Refined to [{0}] gives:"),"NORES_YOUR_SEARCH":p("Your search was:"),"citedByZeroResults":{"no":{"document":{"available":p("Document not available"),"cited":p("No Documents were found that cite")},"results":p("No results were found on the Web.")},"related":{"documents":p("There are related documents based on")},"alert":{"me":p("{0}Alert me {1} when this document is cited in Scopus")},"and":p("and"),"show":{"keywords":{"tooltip":p("Show all related documents based on shared keywords")},"authors":{"tooltip":p("Show all related documents based on shared authors")}},"cited":{"by":{"results":p("Cited by results")}}},"results_cib_multiple_doc_published_in":p("{0} documents published in {1} matches your query"),"RESULTS_CITED_BY_40":p("Share references with:"),"RESULTS_CITED_BY_41":p("[No Document Found]"),"TERM_EMAIL_BACK":p("&lt;&nbsp;Back"),"results_cib_multiple_article_matches":p("{0} articles matches your query"),"RESU_SHOWREL_TOOLTIP":p("Show all related documents based on shared references"),"SEARCH_CITATION":p("NOTE:  A citation tracker holds a maximum of {0} documents."),"CIBO_VIEW_AUTH_TOOLTIP":p("View authors (opens in new window)"),"DOC_CIB_HEADER_MSG_ERRATUMS_TOOLTIP":p("View erratums (opens in new window)"),"RESU_NOSOURC_AVAILABLE":p("[No source information available]"),"MYLIST_POPUP_CANCEL":p("Cancel"),"EMAIL_RECOM_1":p("Recommended Documents on Scopus"),"RESULTS_DOCUMENT_HIDDEN":p("Documents"),"SETALERT_LOGIN_COLLAPSE_LOGIN_OPT":p("Collapse options"),"CIBO_CITESCORE":p("CiteScore ({0}) : {1} "),"DOC_CIB_HEADER_MSG_CONFERENCE_PAPERS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> conference papers<\/a> matches your query"),"result":{"search":{"restore":{"confirm":p("Restoring to original settings will put the refine categories in default order. "),"success":p("Your Settings have successfully been saved to your Profile.")},"alert":{"button":p("Test Search"),"edit":p("Update Search",({"title":p("Update Search")}))},"sort":{"noofresults":p("# of results"),"alp":p("Alphabet"),"value":{"A":p("A"),"other":p("Other"),"B":p("B"),"C":p("C"),"D":p("D"),"E":p("E"),"F":p("F"),"G":p("G"),"H":p("H"),"I":p("I"),"J":p("J"),"K":p("K"),"L":p("L"),"M":p("M"),"N":p("N"),"O":p("O"),"P":p("P"),"Q":p("Q"),"R":p("R"),"S":p("S"),"T":p("T"),"U":p("U"),"V":p("V"),"W":p("W"),"X":p("X"),"Y":p("Y"),"Z":p("Z")},"undefined":p("Undefined")},"abstractretreiving":p("Retrieving"),"restore2":p("Do you want to proceed?"),"cid":{"in":p("in"),"by":p("by"),"match":p("match"),"published":p("published"),"matches":p("matches")}}},"RESULTS_REFINE_MLT_KEYS_LABEL":p("Shares {1}selected keywords{2} with: Refined to [{0}] gives:"),"RESULTS_CITED_BY_MLT_9":p("Shares {0}references{1} with:"),"DOC_CIB_HEADER_MSG_UNDEFINED_TOOLTIP":p("View undefined (opens in new window)"),"DOC_CIB_LIMIT_SINGLE_DOC":p("Limit your results to this<a class='cib_Limit' id='cibLimit' href='#'> document only<\/a> "),"RESULTS_CITED_BY_MLT_7":p("Share {0}keywords{1} with:"),"RESULTS_CITED_BY_MLT_8":p("Share {0}selected keywords{1} with:"),"SETALERT_LOGIN_CLOSE_TOOLTIP":p("close"),"PATENT_SHOW_ALL_INFORMATION":p("Show all information"),"MYLIST_POPUP_SAVELIST_BUT":p("Save My list in Scopus"),"DOC_CIB_HEADER_MSG_ERRATUM_TOOLTIP":p("View erratum (opens in new window)"),"RESULTS_OPTIONS_COUNT_REFERENCE_LABEL":p("reference"),"DOC_CIB_HEADER_MSG_UNDEFINEDS_TOOLTIP":p("View undefined (opens in new window)"),"DOCU_VIEWIN_DOC_TOOLTIP":p("View document details (opens in new window)"),"DOCU_TITLE_SAVE_TOOLTIP":p("Save entire list to Saved lists"),"DOC_CIB_HEADER_MSG_UNDEFINEDS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> undefined<\/a> matches your query"),"RESULTS_REFINE_UPTO_IS_CITED_X_TIME":p("Refined to [{0}] up to and including {1} is cited {2} time by:"),"DOC_CIB_HEADER_MSG_PRESS_RELEASES":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> press releases<\/a> matches your query"),"RESULTS_CITED_BY_MLT_1":p("Shares {0}authors{1} with:"),"DOC_CIB_HEADER_MSG_REPORTS_TOOLTIP":p("View reports (opens in new window)"),"RESULTS_CITED_MLT_NO_SEL_REF_LABEL":p("There are no document sharing selected references with:"),"RESULTS_CITED_BY_MLT_2":p("Shares {0}selected authors{1} with:"),"RESULTS_CITED_BY_MLT_5":p("Shares {0}keywords{1} with:"),"RESULTS_CITED_BY_MLT_6":p("Shares {0}selected keywords{1} with:"),"RESULTS_CITED_BY_MLT_3":p("Share {0}authors{1} with:"),"RESULTS_CITED_BY_MLT_4":p("Share {0}selected authors{1} with:"),"RESULTS_UPTO_IS_CITED_X_TIME":p("Up to and including {0} is cited {1} time by:"),"RESULTS_OPTIONS_VIEW_SEC_DOC_TOOLTIP":p("Select to display the secondary results - Secondary documents are not available in the Scopus database, but are records extracted from references in Scopus"),"RESULTS_IN_SCOPUS_ARE_CITED_X_TIMES":p("The {2} selected documents are cited {1} times in Scopus by:"),"DOC_MYLIST_RESULT_2":p("{0} results in this List "),"DOC_MYLIST_RESULT_1":p("{0} result in this List"),"TERM_EMAIL_REQ_FIELD":p("({0}*{1}= Required fields)"),"MYLIST_POPUP_EXPORT_STARTUP":p("Export your list to SciVal"),"SETALERT_LOGIN_CLOSE":p("close"),"DOC_CIB_HEADER_MSG_BUSINESS_ARTICLES":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> business articles<\/a> matches your query"),"EMAIL_SCIWEB_2":p("Scirus Web Results:"),"CIBO_VIEW_OTHER_TOOLTIP":p("View {0} (opens in new window)"),"RESULTS_QUERYBAR_SHOW_AUTH":p("Show author"),"CIBO_ERROR_OCCUR":p("Error occured"),"CIBO_SJR_TOOLTIP":p("SCImago Journal Rank reflects prestige of source: value of weighted citations per document"),"RESULTS_UPTO_ARE_CITED_X_TIMES":p("Up to and including {0} are cited {1} times by:"),"DOC_CIB_HEADER_MSG_LETTER_TOOLTIP":p("View letter (opens in new window)"),"RESULTS_CITED_MLT_NO_TITLE_LABEL":p("There are no document sharing words from the title with:"),"DOCSORT_FIELD_CITEDBY":p("Cited by"),"RESULTS_SRC_BROWSE_QUERY_VOL_AND_ISS":p("&nbsp;in Volume {0}, Issue {1} has:"),"DOC_CIB_HEADER_MSG_ARTICLES":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> articles<\/a> matches your query"),"mylist":{"header":{"deletes":{"alt":p("Delete the selected documents")},"save":p("Save to Saved list",({"alt":p("Save the selected documents to your Saved lists")})),"delete":p("Delete")}},"results_cib_multiple_doc_published_contain":p("{0} documents published containing {1} matches your query"),"DOC_CIB_HEADER_MSG_CONFERENCE_REVIEW":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> conference review<\/a> match your query"),"RESULTS_QUERYBAR_CITE_LABEL_LOWER":p("cite:"),"CIBO_IPP_TOOLTIP":p("Impact per Publication (IPP) measures the ratio of citations per article published in the journal"),"SETALERT_LOGIN_MORE_LOGIN_OPT":p("More login options"),"ABST_THESYST_ABST":p("The system is currently unable to retrieve the abstract."),"RESULTS_CITED_BY_MLT_KEY":p("{0} documents share keywords with:"),"RESULTS_QUERYBAR_REFINE_TXT":p("Refined to [{0}] gives:"),"PATENT_HIDE_ALL_INFORMATION":p("Hide all information"),"JS_FEDER_MYLIST_TEMP_POPUP_HELP_TOOLTIP":p("Learn more about lists (Opens in a new window)"),"results_info_scope_reduction_searchjs":p("If you refine your search results, the documents you have selected will be cleared. Do you want to proceed?."),"RESULTS_OPTIONS_COUNT_DOC_LABEL":p("document"),"RESULTS_QUERYBAR_AUTH_SRCH_LABEL":p("Search {0} in Scopus"),"DOC_CIB_HEADER_MSG_SHORT_SURVEYS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> short surveys<\/a> matches your query"),"DOC_CIB_HEADER_MSG_REVIEWS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> reviews<\/a> matches your query"),"DOCU_YOUCANA_RESTORE":p("You can {0}restore{1} your original list."),"DOC_CIB_HEADER_MSG_ARTICLE_IN_PRESS_TOOLTIP":p("View article in press (opens in new window)"),"EMAIL_RECOMMEN_2":p("Recommended Web Results on Scopus"),"RESULTS_QUERYBAR_MYLIST_DOCS":p("{0} results in this list"),"DOCSORT_FIELD_RELEVANCY_TITLE":p("Sort the document results on relevance."),"RESULTS_SRH_WTH_IN":p("Search within results..."),"results_cib_single_article_matches":p("{0} article match your query"),"RESULTS_REFINE_UPTO_IS_CITED_X_TIMES":p("Refined to [{0}] up to and including {1} is cited {2} times by:"),"DOCU_BACKTO_SAVED_LIST_TOOLTIP":p("Go back to your Saved lists"),"RESULTS_CITED_MLT_NO_REF_LABEL":p("There are no document sharing references with:"),"DOC_CIB_HEADER_MSG_NOTE_TOOLTIP":p("View note (opens in new window)"),"RESULTS_CITED_BY_37":p("<span class=\"resultsCount\">{0}<\/span> documents that cite:"),"DOC_CIB_HEADER_MSG_PRESS_RELEASE_TOOLTIP":p("View press release (opens in new window)"),"EMAIL_SENTTO_5":p("Sent to you by: "),"RESULTS_CITED_BY_39":p("<span class=\"resultsCount\">{0}<\/span> document that cites:"),"RESULTS_CITED_BY_38":p("Shares references with:"),"RESULTS_MLT_KEYS_LABEL":p("Shares {0}selected keywords{1} with:"),"sourceBrowseMetrics":{"documents":p("Documents available for"),"articles":p("Articles in Press available for")},"CIBO_SOURCE_DETAIL_TOOLTIP":p("View {0}&#39s source details (opens in new window)"),"RECORD_SAVED_LIST_NAME_EXISTS":p("<p class=\"savedListErr\">List name already exists. Enter a new name, or use the selector below to add to an existing saved list.<\/p>"),"RESULTS_OPTIONS_COUNT_RESULT_LABEL":p("document result"),"alert":{"message":{"author":{"citation":{"newalert":p("Your Author citation alert has been saved in 'Alerts'.")}},"results":{"newalert":p("Your Search alert has been saved in 'Alerts'."),"editalert":p("Click 'Update Search' to keep this search, click 'Back' to edit the search again.")}}},"RESULTS_QUERYBAR_SEL_AUTH":p("Select author"),"RESULTS_MY_LIST_QUERY_LABEL":p("This list contains:"),"RECORD_SAVELIST_ERROR_MESSAGES_BOTHSELECTED":p("<p class=\"savedListErr\">You have entered a new list name and selected to add documents to a current saved list. You cannot do both actions at once. Please choose one or the other and click Save.<\/p>"),"SEARCH_VIEWSENT_3":p("View search term analysis on Scopus sent on {0}"),"DOCSORT_FIELD_DATEOLD_TITLE":p("Sort the document results on date(Oldest first)."),"RESULTS_CITED_BY_EDIT_REF":p("Edit references"),"RESULTS_QUERYBAR_REFINE_CITE":p("Refined to [{0}] gives:"),"RESULTS_MY_LIST_DOC_REFINE_LABEL":p("{0} result found after Refinement:&nbsp;"),"savesearch":{"message":{"saved":p("Your Search has been saved in My Scopus > Saved searches.")}},"RESULTS_CITED_BY_HIDDEN":p("Cited<br/>by"),"DOC_CIB_HEADER_MSG_REVIEWS_TOOLTIP":p("View reviews (opens in new window)"),"results_cib_showing_single_results":p("(Showing first {0} result)"),"RESU_ARTNO_TOOLTIP":p("Articles not published yet, but available online"),"RECORD_SAVE_TO_LIST_NO_NAME":p("<p class=\"savedListErr\">Enter a name for your list<\/p>"),"SEARCH_NAV_SUBJAREA":p("Subject Area"),"SETALERT_LOGIN_COLLAPSE_LOGIN_OPT_TOOLTIP":p("Collapse options"),"MYLIST_POPUP_SCIVAL_INFO":p("This feature is only available for SciVal subscribers."),"RESULTS_REFINE_MLT_ALL_KEYS_LABEL":p("Shares {1}keywords{2} with: Refined to [{0}] gives:"),"RECORD_NEW_LIST_TXT":p("<p class=\"savedListErr\">Enter name of new list<\/p>"),"referenceMetrics":{"reference":{"are":{"cited":{"by":p("Reference that are cited by",({"the":p("Reference that are cited by the {0} selected documents")}))}},"cited":{"by":p("Reference that is cited by")}},"references":{"are":{"cited":{"by":p("References that are cited by",({"the":p("References that are cited by the {0} selected documents")}))}},"cited":{"by":p("References that are cited by")},"selected":{"document":p("selected documents")}},"refined":p("Refined with:&nbsp;")},"PATENT_HIDE_MORE_INFORMATION":p("Hide information"),"RESULTS_MLT_TITLES_LABEL":p("Shares {0}selected words from the title{1} with:"),"DOC_CIB_HEADER_MSG_REPORT":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> report<\/a> match your query"),"results_cib_limit_multiple_doc":p("Limit your results to these {0} documents only"),"SEARCH_VIEW_2":p("View search term analysis on Scopus"),"CIBO_COMPARE_TOOLTIP":p("Compare this source with other sources"),"RESU_ARTICLE_PRESS":p("Article in Press"),"TERM_EMAIL_HTML":p("HTML only"),"MYLIST_POPUP_SCIVAL_HEADER":p("Save your list in Scopus"),"RESULTS_BOOK_CHAPTER_LABEL":p("Chapter"),"results_cib_single_article_matches_alt":p("View article (opens in new window)"),"RESULTS_QUERYBAR_SHAR_REF":p("Shares {0}references{1} with:"),"DOC_CIB_HEADER_MSG_BOOKS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> books<\/a> matches your query"),"DOC_CIB_HEADER_MSG_CONFERENCE_REVIEW_TOOLTIP":p("View conference review (opens in new window)"),"DOC_CIB_HEADER_MSG_REVIEW":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> review<\/a> match your query"),"RESULTS_QUERYBAR_CITE_LABEL":p("Cite:"),"MYLIST_POPUP_GOBACK_LIST":p("Go back to My list"),"TERM_EMAIL_SEND_TOOLTIP":p("Send"),"RESULTS_CITED_MLT_AUT_LABEL":p("Shares authors with:"),"results_cib_single_doc_published_in":p("{0} document published in {1} match your query"),"RESULTS_OPTIONS_COUNT_RESULTS_LABEL":p("document results"),"DOC_CIB_HEADER_MSG_EDITORIAL":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> editorial<\/a> match your query"),"DOC_CIB_HEADER_MSG_LETTERS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> letters<\/a> matches your query"),"RESULTS_CITED_MLT_SEL_KEY_LABEL":p("Shares selected keywords with:"),"RESULTS_QUERYBAR_SHOW_KEY":p("Show keyword"),"RESULTS_CITED_MLT_NO_KEY_LABEL":p("There are no document sharing keywords with:"),"RESULTS_CITED_MLT_SEL_REF_LABEL":p("Shares selected references with:"),"RESULTS_CITED_BY_EDIT_KEY":p("Edit keywords"),"RESULTS_CITED_BY_MLT_AUT":p("{0} documents share authors with:"),"RESULTS_CITED_BY_SELECT_REF":p("Select references"),"SEARCH_DATE_5":p("Date range {0} to {1}"),"LEFTSIDE_MYAPPLICATION":p("My Applications /"),"RESULTS_MLT_REF_LABEL":p("Share {0}selected references{1} with:"),"DOCU_VIEWIN_AUTHOR":p("[No author name available]"),"PATENT_INFORMATION_LINK_TITLE":p("View patent information (Opens in a new window)"),"DOCSORT_FIELD_OTHER_TITLE":p("Sort on one of the other available options."),"MYLIST_POPUP_RETURN_TOOLTIP":p("Return to Scopus My List"),"TERM_EMAIL_SEND":p("Send"),"DOCU_BACKTO_SAVED_LIST":p("Back to Saved lists"),"RESULTS_MLT_ALL_AUTS_LABEL":p("Shares {0}authors{1} with:"),"DOC_CIB_EXCLUDE_MULTIPLE_DOCS":p("<a class='cib_Exclude' id='cibExclude' href='#'>Exclude these {0} documents<\/a> from your results"),"RESULTS_REFINE_MLT_ALL_KEY_LABEL":p("Share {1}keywords{2} with: Refined to [{0}] gives:"),"MYLIST_POPUP_SAVELIST_MSG":p("Please save My list in Scopus."),"RESULTS_IN_SCOPUS_IS_CITED_X_TIME":p("Is cited {1} time in Scopus by:"),"DOC_CIB_HEADER_MSG_ERRATUM":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> erratum<\/a> match your query"),"DOC_CIB_HEADER_MSG_CONFERENCE_PAPER_TOOLTIP":p("View conference paper (opens in new window)"),"PATENT_BACK_TO_AFFILIATION_DETAILS_PAGE":p("Back to affiliation details"),"MYLIST_POPUP_CANCEL_TOOLTIP":p("Cancel and return to Scopus"),"listnotavailable":{"message":p("The Saved List you are trying to view is no longer available."),"message1":p("You can view all Saved Lists by clicking on My Scopus in the navigation bar.")},"RESULTS_OPTIONS_COUNT_DUMMY_DOCS_LABEL":p("secondary document results"),"SEARCH_NAV_AFFIL":p("Affiliation     "),"SEARCH_SUBJECT":p("Search Term Analyzer from Scopus"),"JS_FEDER_MYLIST_TEMP_POPUP_LOGIN":p("Login"),"RESULTS_CITED_MLT_SEL_TITLE_LABEL":p("Shares selected words from the title with:"),"EMAIL_BACK_TOOLTIP":p("Go back to the previous page"),"RESULTS_REFINE_MLT_AUT_LABEL":p("Share {1}selected authors{2} with: Refined to [{0}] gives:"),"AFFILIATION_PATENTRESULT_8":p("Patent Results"),"SAVELIST_DELETE_TOOLTIP_DISABLE":p("Please Select one or more Saved List(s) below to Delete"),"RECORD_SAVED_LIST_SUCCESS":p("This document was added to {0}. <a href=\"{1}\">View or manage your saved lists.<\/a>"),"DOC_CIB_HEADER_MSG_BOOKS_TOOLTIP":p("View books (opens in new window)"),"RESULTS_OPTIONS_VIZL_RESULTS":p("Analyze search results"),"DOC_CIB_HEADER_MSG_EDITORIALS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> editorials<\/a> matches your query"),"RESU_OPEN_ACCESS":p("Open Access"),"TERM_EMAIL_POLICY":p("Read Privacy Policy"),"RESULTS_REFINE_UPTO_ARE_CITED_X_TIMES":p("Refined to [{0}] up to and including {1} are cited {2} times by:"),"DOC_CIB_HEADER_MSG_EDITORIALS_TOOLTIP":p("View editorials (opens in new window)"),"fastgenericsearchnoresults":{"message":p("Currently we cannot handle this search because it generates too many results"),"message1":p("You can {0} edit your search {1} and try again."),"editsearch":{"title":p("Edit this search")}},"JS_FEDER_MYLIST_TEMP_POPUP_LOGIN_TOOLTIP":p("Login to Scopus"),"DOCU_SAVED_LIST":p("SAVED_LIST( <span class=\"querySrchTerm\">{0}<\/span> )"),"DOC_CIB_HEADER_MSG_ABSTRACT_REPORTS_TOOLTIP":p("View abstract reports (opens in new window)"),"SEARCH_NAV_EXACTKEYWORD":p("Keyword         "),"RESULTS_REFINE_BEF_ARE_CITED_X_TIME":p("Refined to [{0}] before {1} are cited {2} time by:"),"SEARCH_DOCUMENT_6":p("Document results {0}"),"RESULTS_BEF_IS_CITED_X_TIMES":p("Is cited {1} times before {0} by:"),"MYLIST_POPUP_SAVE_LIST":p("Yes, save My list"),"EMAIL_THANK_YOU":p("Thank you for using Scopus."),"DOC_CIB_HEADER_MSG_ARTICLE_IN_PRESS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> article in press<\/a> match your query"),"RESULTS_QUERYBAR_SEL_AUTHS":p("Select authors"),"RESULTS_QUERYBAR_CITED_BY":p("Is cited by:"),"SEARCH_YOUR_4":p("Your query:"),"DOC_CIB_HEADER_MSG_NOTES":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> notes<\/a> matches your query"),"MYLIST_POPUP_EXPORT_TOOLTIP":p("Export your list to SciVal to create a publication set for benchmarking analysis."),"SEARCH_NAV_PUBYEAR":p("Year"),"LEFTSIDE_REFINE":p("Refine results\t "),"RESULTS_MLT_KEY_LABEL":p("Share {0}selected keywords{1} with:"),"JS_FEDER_MYLIST_TEMP_POPUP_HELP":p("Learn more about lists"),"RESULTS_CITED_BY_SELECT_TITLE":p("Select words from the title"),"RESULTS_OPTIONS_VIEW_SCOPUS_DOC_TOOLTIP":p("Back to Scopus documents"),"EMAIL_EMAIL_JOUR_ANA":p("E-mail journal analyzer"),"RESULTS_QUERYBAR_CITES_LABEL_LOWER":p("cites:"),"RESULTS_QUERYBAR_CTO_DOC_SEL":p("{0} document selected"),"TERM_EMAIL_POLICY_TOOLTIP":p("Read Privacy Policy (Opens in a new window)"),"RESULTS_QUERYBAR_CTO_CITEDBY_2":p("Is cited {0} time by:"),"RESULTS_QUERYBAR_CTO_CITEDBY_1":p("Is cited {0} times by:"),"citedby":{"no":{"document":{"cite":p("No documents were found that cite:")}},"patent":{"cite":p("Document that shares references with:")},"keywords":p("Show keywords",({"tooltip":p("search for related documents based on keywords")})),"references":p("Show references",({"tooltip":p("search for related documents based on references")})),"documents":{"cite":p("Documents that cite:")},"document":{"cite":p("Document that cites:")},"patents":{"cite":p("Documents that share references with:")},"authors":p("Show authors",({"tooltip":p("search for related documents based on authors")}))},"CIBO_AFFILIATION":p("Affiliation: "),"RESULTS_QUERYBAR_CTO_CITEDBY_6":p("Is cited {1} time in {0} by:"),"RESULTS_QUERYBAR_CTO_CITEDBY_5":p("Is cited {1} times in {0} by:"),"RESULTS_QUERYBAR_CTO_CITEDBY_4":p("Are cited {0} time by:"),"RESULTS_QUERYBAR_CTO_CITEDBY_3":p("Are cited {0} times by:"),"DOCSORT_FIELD_AUTHDES":p("First Author (Z-A)"),"RECORD_SAVED_LISTITEM_MAXIMUM_LIMIT":p("<p class=\"savedListErr\">The selected documents cannot be added to your saved list. A list can hold a maximum of {0} documents. Please make a smaller selection, delete documents from your saved list, or save the documents to a new list.<\/p>"),"DOC_CIB_HEADER_MSG_REPORT_TOOLTIP":p("View report (opens in new window)"),"RECORD_SAVED_LIST_MAXIMUM_LIMIT":p("<p class=\"savedListErr\">You have reached the maximum number of saved lists({0}). To save a new list you must delete an existing <a href=\"{1}\">Saved List.<\/a>"),"TERM_EMAIL_ADDRESS":p("E-mail address:"),"results_cib_exclude_multiple_doc":p("Exclude these {0} documents from your results"),"RECORD_SAVELIST_ERROR_MESSAGES_EMPTYSUBMIT":p("<p class=\"savedListErr\">Enter a name for your list, or use the selector below to add to an existing saved list.<\/p>"),"SEARCH_NAV_SCOPUSSRCTYPE":p("Source Type     "),"RESULTS_MLT_ALL_AUT_LABEL":p("Share {0}authors{1} with:"),"authorcitation":{"search":{"scopus":p("Search {0} in Scopus")},"rss":{"feed":p("Create Author Citation RSS feed")},"save":{"as":{"alert":p("Save as Alert")}},"email":{"alert":p("E-mail alert for Author Citation")}},"MYLIST_POPUP_NOGOBACK_MSG":p("I do not need to save My list at this time."),"PATENT_BACK_TO_DOCUMENT_RESULTS_PAGE":p("Back to document results"),"RESULTS_BACK_CTO_LABEL":p("Back to Citation Overview"),"RESULTS_REFINE_BEF_ARE_CITED_X_TIMES":p("Refined to [{0}] before {1} are cited {2} times by:"),"SEARCH_NAV_LANGUAGE":p("Language"),"RESULTS_QUERYBAR_CTO_CITEDBY_9":p("Is cited {2} times between {0}-{1} by:"),"RESULTS_QUERYBAR_CTO_CITEDBY_8":p("The {2} selected documents are cited {1} time in {0} by:"),"RESU_SHOWAU_TOOLTIP":p("Show author details"),"RESULTS_QUERYBAR_CTO_CITEDBY_7":p("The {2} selected documents are cited {1} times in {0}  by:"),"PATENT_NUMBER_ON_HOVER_DISPLAY":p("Patent<br/>Number"),"RESULTS_OPTIONS_EXTERNAL_RESULTS":p("View external results"),"TERM_EMAIL_LINK":p("Your e-mail message containing a link to the search term analysis will be sent to {0}"),"SEARH_NO_RESULTS":p("No search results were selected."),"citedBy":{"alert":{"me":p("Alert me when this document is cited in Scopus")}},"selectionpageoutofbounds":{"message":p("Your search found {0} records."),"message2":p("Change the sort order of your results to view more of your search results."),"message1":p("Only the first {0} records can be viewed")},"SOURCEEVALHTML":p("If you have questions about this or other features of Scopus, please visit our <a href=\"../../www.info.scopus.com\">Info site<\/a>."),"RESULTS_QUERYBAR_SEL_REF":p("Select reference"),"EMAIL_THANK_USING":p("Thank you for using Scopus."),"EMAIL_SCOPUSA_13":p("Scopus. All rights reserved. Any unauthorized use, reproduction, or transfer of this message or its contents, in any medium, is strictly prohibited. Scopus ï¿½ is a registered trademark of Elsevier B.V."),"CIBO_SOURCE_DETAIL":p("View {0}&#39s source details"),"RESULTS_REFINE_MLT_REFS_LABEL":p("Shares {1}selected references{2} with: Refined to [{0}]  gives:"),"PATENT_RESULT_TEXT":p("patent result"),"results_cib_showing_multiple_results":p("(Showing first {0} results)"),"RESULTS_CITED_MLT_NO_SEL_AUT_LABEL":p("There are no document sharing selected authors with:"),"DOC_CIB_HEADER_MSG_REVIEW_TOOLTIP":p("View review (opens in new window)"),"PATENT_SHOW_MORE_INFORMATION":p("Show more information"),"LIMI_LIMISUB_TOOLTIP":p("Limit to selected items: Subscription required"),"DOC_CIB_HEADER_MSG_CONFERENCE_PAPERS_TOOLTIP":p("View conference papers (opens in new window)"),"DOCSORT_FIELD_AUTHDES_TITLE":p("Sort the document results on First Author."),"RESULTS_REFINE_MLT_ALL_TITLES_LABEL":p("Shares {1}words from the title{2} with: Refined to [{0}] gives:"),"INWARD_SCOPUS_JOURNAL":p("Scopus Journal Analyzer"),"DOCSORT_FIELD_AUTHASC_TITLE":p("Sort the document results on First Author."),"MYLIST_POPUP_ERROR_MSG":p("<div id=\"errorMsgContainer\" role=\"alert\" aria-live=\"assertive\"><span class=\"ariaHidden hidden-label\">Error message.<\/span><span>All documents in your list were published prior to 1996 and cannot be sent to SciVal.<\/span><p>Please conduct a new search and add documents to your list that were published after 1995 in order to benchmark in SciVal.<\/p><\/div>"),"DOC_CIB_HEADER_MSG_BUSINESS_ARTICLES_TOOLTIP":p("View business articles (opens in new window)"),"RESULTS_CITED_MLT_NO_SEL_KEY_LABEL":p("There are no document sharing selected keywords with:"),"results_cib_single_doc_published_contain":p("{0} document published containing {1} match your query"),"DOCSORT_FIELD_DATEOLD":p("Date (Oldest)"),"JS_FEDER_MYLIST_TEMP_POPUP_REGISTER":p("Register"),"CIBO_CLOSEPREV_TOOLTIP":p("Close preview"),"CIBO_AFFILI_DETAIL":p("View {0}&#39s affiliation details"),"SEARCH_NAV_STATUSTYPE":p("Result Type"),"results_cib_single_doc_published_by":p("{0} document published by {1} match your query"),"RESULTS_OPTIONS_COUNT_REFERENCES_LABEL":p("references"),"RESULTS_QUERYBAR_CTO_CITEDBY_test4":p("Refined to [{0}] after {1} are cited {2} time by:"),"RESULTS_QUERYBAR_CTO_CITEDBY_test3":p("Refined to [{0}] after {1} are cited {2} times by:"),"RESULTS_QUERYBAR_CTO_CITEDBY_test2":p("Refined to [{0}] after {1} is cited {2} time by:"),"RESULTS_QUERYBAR_CTO_CITEDBY_test1":p("Refined to [{0}] after {1} is cited {2} times by:"),"DOC_CIB_HEADER_MSG_LETTER":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> letter<\/a> match your query"),"DOC_CIB_HEADER_MSG_BUSINESS_ARTICLE":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> business article<\/a> match your query"),"MYLIST_POPUP_CONTINUE_TOOLTIP":p("Send list to SciVal"),"RESULTS_QUERYBAR_MYLIST_REFINE_TXT":p("Refinement to [{0}] gives:"),"RESULTS_CITED_MLT_NO_AUT_LABEL":p("There are no document sharing authors with:"),"RESU_DOCLINK_TOOLTIP":p("Show document details"),"results_cib_limit_single_doc":p("Limit your results to this document only"),"EMAIL_YOUR_JOURNAL":p("Your e-mail message containing the Journal Analyzer will be sent to <b>{0}<\/b>"),"RESULTS_CITED_MLT_NO_SEL_TITLE_LABEL":p("There are no document sharing selected words from the title with:"),"RESULTS_QUERYBAR_REFINE_SHARE_REF":p("Share references with: Refined to [{0}] gives:"),"RESULTS_SRC_BROWSE_QUERY_VOL":p("&nbsp;in Volume {0} has:"),"RESULTS_BEF_ARE_CITED_X_TIMES":p("The {2} selected documents are cited {1} times before {0} by:"),"EMAIL_WEHOPET_9":p("We hope that this information is useful to you."),"RESULTS_MLT_ALL_TITLES_LABEL":p("Shares {0}words from the title{1} with:"),"CIBO_IPP":p("IPP ({0}) : {1}"),"document":{"single":{"result":{"found":p("{0} result found")}},"multiple":{"results":{"found":p("{0} results found")}},"results":{"single":{"inward":{"search":{"query":p("{0} result found after Refinement: {1}")}}},"search":{"authors":p("Search {0} in Scopus")},"viewmdl":{"alt":p("View in MDL")},"heading":p("document results"),"display":{"per":{"page":p("<label>Display<\/label> {0} <label>results per page<\/label>")}},"multiple":{"inward":{"search":{"query":p("{0} results found after Refinement: {1}")}}},"header":{"page":p("Page: {0} of {1}")}}},"RESULTS_MLT_AUTS_LABEL":p("Shares {0}selected authors{1} with:"),"DOC_CIB_HEADER_MSG_CONFERENCE_REVIEWS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> conference reviews<\/a> matches your query"),"RESULTS_QUERYBAR_ISCITEDBY_LABEL":p("Is cited by:"),"RESULTS_UPTO_ARE_CITED_X_TIME":p("Up to and including {0} are cited {1} time by:"),"RESULTS_REFINE_MLT_ALL_REFS_LABEL":p("Shares {1}references{2} with: Refined to [{0}] gives:"),"DOC_CIB_HEADER_MSG_PRESS_RELEASES_TOOLTIP":p("View press releases (opens in new window)"),"RESU_NOTITLE_AVAIL":p("[No title available]"),"inwardScopusResultsMetrics":{"result":{"found":p("{0} result found")},"view":{"in":{"mdl":p("View in MDL")}},"results":{"found":p("{0} results found")}},"JS_FEDER_MYLIST_TEMP_POPUP_CLOSE":p("Close"),"noresults":{"no":{"references":p("There are no References that are cited by"),"references_1":p("There are no References that are cited by the {0} selected documents"),"document":{"cite":p("There are no Documents that cite the {0} selected documents")}},"were":{"found":p("{0} {1} results {2} were found in reference lists.")},"additional":{"results":p("Additional results")},"was":{"found":p("{0} {1} result {2} was found in reference lists.")}},"RESULTS_SAVED_LIST_LABEL":p("Saved list - {0}"),"CIBO_VIEW_AUTHOREVAL":p("View in Analyze author output "),"RESULTS_QUERYBAR_CTO_DOCS_SEL":p("{0} documents selected"),"ABST_PLEASET_LATER":p("Please try again later."),"DOC_CIBO_HEADER":p("(Showing first {0} results)"),"RESULTS_REFINE_MLT_ALL_REF_LABEL":p("Share {1}references{2} with: Refined to [{0}]  gives:"),"results_cib_exclude_single_article":p("Exclude this article from your results"),"fastspecialcharwildcardseqsearchnoresults":{"message":p("Your search contains syntax which is not supported"),"message2":p("Please {0} edit your search {1} and resubmit it"),"message1":p("It is currently not possible to search for a special character followed by a wildcard. Please edit your search and resubmit it")},"RESULTS_REFINE_MLT_ALL_AUTS_LABEL":p("Shares {1}authors{2} with: Refined to [{0}] gives:"),"CIBO_SAUTHOR_DETAIL_TOOLTIP":p("View {0}&#39s author details (opens in new window)"),"SOURCE_SRCH_RES_QRYBR_TXT":p("Source:"),"EMAIL_RECOMMEND_3":p("Recommended Patent Results on Scopus"),"results_cib_exclude_multiple_article":p("Exclude these {0} articles from your results"),"PATENT_RESULTS_TEXT":p("patent results"),"RESULTS_REFINE_MLT_ALL_TITLE_LABEL":p("Share {1}words from the title{2} with:Refined to [{0}] gives:"),"MYLIST_POPUP_NOGOBACK_LIST":p("No, go back to My list"),"SRCH_RES_SEC_RES":p("Results from references for your query:"),"DOC_CIB_HEADER_MSG_ABSTRACT_REPORTS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> abstract reports<\/a> matches your query"),"RESULTS_QUERYBAR_REFINE_ARE_CITEDBY":p("Refined to [{0}] gives:"),"RESULTS_CITED_MLT_SEL_AUT_LABEL":p("Shares selected authors with:"),"RESULTS_REFINE_MLT_TITLE_LABEL":p("Share {1}selected words from the title{2} with: Refined to [{0}] gives:"),"DOC_CIB_HEADER_MSG_BUSINESS_ARTICLE_TOOLTIP":p("View business article (opens in new window)"),"RESULTS_CITED_MLT_KEY_LABELE":p("Shares keywords with:"),"RESULTS_OPTIONS_VIEW_SEC_DOC":p("View secondary documents"),"DOCU_VIEWIN_NO_DOC":p("[No title available]"),"RESULTS_OPTIONS_COUNT_DUMMY_DOC_LABEL":p("secondary document result"),"results":{"search":{"noresultsfound_edit":p("You can go back to edit your search or click on {0} My List {1} to restore the list"),"refineresult":{"footer":{"savesetting":p("Save settings"),"restoresetting":p("Restore original settings"),"export":p("Export refine"),"exportcsv":{"alt":p("Export all of the refine values to a CSV file")}},"refineresult":p("Refine"),"limit":p("Limit to",({"alt":p("Limit to selected items")})),"exclude":p("Exclude",({"alt":p("Exclude selected items")}))},"within":p("Search within results",({"search":p("Search"),"box":p("Search within results textbox")})),"navigator":{"showPreview":p("Show preview"),"norefine":p("No Refine categories have been selected."),"analyseSource":p("Analyze search results",({"alt":p("View charts and graphs related to this results list and selected sources")})),"viewmore":p("View more"),"go":{"alt":p("Sort on {0}")},"viewfewer":p("View fewer"),"sort":p("Sort on:"),"close":{"alt":p("Click to close")},"open":{"alt":p("Click to open")},"viewall":p("View more")},"noresultsfound":p("No documents were found."),"leftsidebar":{"hide":{"alt":p("Click to hide")},"show":{"alt":p("Select to display Refine results options")},"hidesub":{"alt":p("Click to hide: Subscription required")}}},"jumptopage":{"error":{"invalidpagenumber":p("Only numbers are allowed in Page."),"invalidpagenumber1":p("Please type in the number of the page you would like to jump to and press <b>Go.<\/b> ")}},"deleteconfirm":{"no":{"selectionjs":p("Are you sure you want to delete the selected document?")}},"deletesconfirm":{"no":{"selectionjs":p("Are you sure you want to delete the selected documents?")}},"toomany":{"docs":{"selected":p("Too many documents were selected.")}},"error":{"maxexport":{"exc":p("<p>NOTE: You have selected {0} documents. You can export citation information (in CSV format) for up to 20,000 documents.<\/p><p><b>To export the first 20,000 documents<\/b>, click OK.<\/p>")},"max":{"aut":{"too":{"large":p("The number of documents by this author is too large.")}},"download":{"exc":p("You can download a maximum of {0} documents.")},"print":{"exc":p("Only the first {0} documents have been selected for printing.",({"toomany":p("You have selected too many documents to print.")}))},"citedby":{"exc":p("Citing documents are only displayed for the first {0} documents.")},"refs":{"exc":p("References are only displayed for the first {0} documents.",({"aut":p("Only the first {0} documents were used to create the reference list."),"gaut":p("Only the first {0} documents were used to create the reference list.",({"large":p("The number of documents by these authors is too large.")}))}))},"list":{"exc":p("A list can hold a maximum of {0} documents.")},"export":{"exc":{"toomany":p("You have selected too many documents to export.")}},"email":{"exc":p("Only the first {0} documents will be selected for e-mailing.",({"toomany":p("You have selected too many documents to e-mail.")}))}},"too":{"many":{"docs":{"selected":p("Too many documents were selected.")}}},"repeat":{"limitto":{"cluster":{"selection":p("You tried to limit your results by {0} for a second time.")}}}},"message":{"no":{"abstract":{"available":p("No abstract available")}}},"cib":{"no":{"affiliation":p("[No affiliation available]")}}},"RESULTS_SRC_BROWSE_QUERY_YR":p("&nbsp;in Publication Year {0} has:"),"RESULTS_OPTIONS_COUNT_DOCS_LABEL":p("documents"),"EMAIL_PATENT_3":p("Patent Results:"),"RESULTS_IN_SCOPUS_ARE_CITED_X_TIME":p("The {2} selected documents are cited {1} time in Scopus by:"),"RESULTS_MLT_REFS_LABEL":p("Shares {0}selected references{1} with:"),"DOC_CIB_HEADER_MSG_EDITORIAL_TOOLTIP":p("View editorial (opens in new window)"),"CIBO_AFFILI_DETAIL_TOOLTIP":p("View {0}&#39s affiliation details (opens in new window)"),"CIBO_NORESUL_FOUND":p("No results found"),"SEARCH_CITATION_TRACTER":p("Select OK to proceed to the citation tracker for the first {0} documents or Cancel if you do not want to continue."),"RESULTS_QUERYBAR_CTO_CITEDBY_15":p("The {2} selected documents are cited {1} times after {0} by:"),"preview":{"analyze":{"search":{"results":{"tooltip":p("Analyze search results: Subscription required")}}},"results":{"subscription":{"required":p(":&nbsp;Subscription required")}}},"RESULTS_QUERYBAR_CTO_CITEDBY_14":p("Is cited {1} time after {0} by:"),"RESULTS_QUERYBAR_CTO_CITEDBY_13":p("Is cited {1} times after {0} by:"),"RESULTS_QUERYBAR_CTO_CITEDBY_12":p("The {3} selected documents are cited {2} time between {0}-{1} by:"),"DOC_CIB_HEADER_MSG_BOOK_CHAPTER_TOOLTIP":p("View book chapter (opens in new window)"),"RESULTS_BEF_IS_CITED_X_TIME":p("Is cited {1} time before {0} by:"),"RESULTS_QUERYBAR_CTO_CITEDBY_16":p("The {2} selected documents are cited {1} time after {0} by:"),"DOC_CIB_HEADER_MSG_ARTICLE":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> article<\/a> match your query"),"EMAIL_DOCUMENT":p("E-mail document"),"RESULTS_QUERYBAR_CTO_CITEDBY_11":p("The {3} selected documents are cited {2} times between {0}-{1} by:"),"DOC_CIB_HEADER_MSG_ARTICLE_IN_PRESSS_TOOLTIP":p("View article in presss (opens in new window)"),"RESULTS_QUERYBAR_CTO_CITEDBY_10":p("Is cited {2} time between {0}-{1} by:"),"PATENT_INFORMATION_LINK_LEXISNEXIS_TITLE":p("View patent information on LexisNexis (Opens new window)"),"EMAIL_BODY_TEXT":p("Body Text:"),"RESULTS_CITED_BY_EDIT_AUT":p("Edit authors"),"RESULTS_REFINE_MLT_AUTS_LABEL":p("Shares {1}selected authors{2} with: Refined to [{0}] gives:"),"multipleCitedbyMetrics":{"reSelect":{"documents":p("Re-select documents")},"documents":{"cite":p("Documents that cite the {0} selected document"),"cite1":p("Documents that cite the {0} selected documents")},"document":{"cite":p("Document that cite the {0} selected document"),"cite1":p("Document that cite the {0} selected documents")}},"DOC_CIB_HEADER_MSG_ABSTRACT_REPORT_TOOLTIP":p("View abstract report (opens in new window)"),"MYLIST_POPUP_CLOSE_TOOLTIP":p("Close this window and return to My List"),"results_cib_exclude_single_doc":p("Exclude this document from your results"),"ctoCitedByWhenMetrics":{"author":{"link":{"tooltip":p("Search for all articles by this author")}},"title":p("Citation Overview results")},"MYLIST_POPUP_GOBACK_MSG":p("You can go back to your list and refine before sending to SciVal as a Publication Set, or if you are not a SciVal subscriber, you can continue your work in Scopus."),"DOCU_SAVE_LIST_TOOLTIP":p("Save complete list to 'Saved Lists' under 'Settings'"),"CIBO_SNIP":p("SNIP ({0}) : {1} "),"RESU_NOINFO_AVAILABLE":p("No information available"),"DOC_CIB_HEADER_MSG_BOOK_CHAPTER":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> book chapter<\/a> match your query"),"JS_FEDER_MYLIST_TEMP_POPUP_REGISTER_TOOLTIP":p("Register a username and password for using alerts and other personal features"),"RESULTS_CITED_BY_MLT_REF":p("{0} documents share references with:"),"RESU_PAGE_RANGE":p("pp."),"RESULTS_REFINE_UPTO_ARE_CITED_X_TIME":p("Refined to [{0}] up to and including {1} are cited {2} time by:"),"EMAIL_BACK":p("Back"),"DOC_CIB_HEADER_MSG_CONFERENCE_REVIEWS_TOOLTIP":p("View conference reviews (opens in new window)"),"MYLIST_POPUP_CONFIRM_MSG":p("Would you like to save your list in Scopus to retain all pre-1996 data and <\/br> other listed benefits?  You must be logged into Scopus to continue."),"EMAIL_RECOMMENDED_4":p("Recommended Documents, Web Results and Patent Results on Scopus"),"RESULTS_QUERYBAR_SHOW_REF":p("Show reference"),"DOC_CIB_HEADER_MSG_6":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> document<\/a> published containing {2} match your query"),"QUERYBAR_AUTHREF":p("Cites:"),"RESULTS_UPTO_IS_CITED_X_TIMES":p("Up to and including {0} is cited {1} times by:"),"RESULTS_MLT_ALL_KEY_LABEL":p("Share {0}keywords{1} with:"),"DOC_CIB_HEADER_MSG_ARTICLE_TOOLTIP":p("View article (opens in new window)"),"DOC_CIB_HEADER_MSG_NOTES_TOOLTIP":p("View notes (opens in new window)"),"RESULTS_QUERYBAR_MYLIST_DOC":p("{0} result in this list"),"RESULTS_CITED_BY_MLT_18":p("{0} document that cites"),"DOC_CIB_HEADER_MSG_BOOK_CHAPTERS_TOOLTIP":p("View book chapters (opens in new window)"),"RESULTS_CITED_BY_MLT_19":p("Shares references with:"),"RESULTS_CITED_BY_MLT_16":p("Share {0}selected words from the title{1} with:"),"RESULTS_CITED_BY_MLT_17":p("{0} documents that cite"),"RESULTS_CITED_BY_MLT_14":p("Shares {0}selected words from the title{1} with:"),"EMAIL_IFURL_4":p("NOTE: If the URLs in this e-mail are not active hyperlinks, copy and paste the url into the address/location box in your browser."),"RESULTS_CITED_BY_MLT_15":p("Share {0}words from the title{1} with:"),"JS_FEDER_MYLIST_TEMP_POPUP_MSG":p("When logged in, registered Scopus users<br> can save up to 50 lists for future use"),"RESULTS_CITED_BY_MLT_12":p("Share {0}selected references{1} with:"),"results_cib_limit_single_article":p("Limit your results to this article only"),"RESULTS_QUERYBAR_SHOW_REFS":p("Show references"),"RESULTS_CITED_BY_MLT_13":p("Shares {0}words from the title{1} with:"),"SEARCH_NAV_DOCTYPE":p("Document Type "),"RESULTS_CITED_BY_MLT_10":p("Shares {0}selected references{1} with:"),"DOC_CIB_HEADER_MSG_1":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> document<\/a> published in {2} match your query"),"RESULTS_CITED_BY_MLT_11":p("Share {0}references{1} with:"),"EMAIL_EMAIL_JOURNAL":p("E-mail Journal Analyzer"),"RESULTS_QUERYBAR_DOC_REF_SELECTED":p("The {0} selected document cite:"),"DOC_CIB_HEADER_MSG_4":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> document<\/a> published by {2} match your query"),"results_cib_multiple_doc_published_by":p("{0} documents published by {1} matches your query"),"DOC_CIB_HEADER_MSG_5":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> documents<\/a> published containing {2} matches your query"),"DOC_CIB_HEADER_MSG_2":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> documents<\/a> published in {2} matches your query"),"SOURCE_JOURNALANAL_2":p("View Journal Analyzer on Scopus"),"RESULTS_CITED_BY_EDIT_TITLE":p("Edit words from the title"),"DOC_CIB_HEADER_MSG_3":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> documents<\/a> published by {2} matches your query"),"RESU_SRCLINK_TOOLTIP":p("Show source title details"),"RESULTS_QUERYBAR_SHAR_AUT":p("Shares authors with:"),"RESULTS_QUERYBAR_DOCS_SELECTED":p("The {0} selected documents are cited by:"),"DOC_CIB_HEADER_MSG_PRESS_RELEASE":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> press release<\/a> match your query"),"DOC_CIB_HEADER_MSG_BOOK_TOOLTIP":p("View book (opens in new window)"),"RESU_NOABSTR_AVAILABLE":p("[No abstract available]"),"SHARED_WEBRES_40":p("Web Results"),"EMAIL_SCODO_1":p("Scopus Documents:"),"RESULTS_MLT_AUT_LABEL":p("Share {0}selected authors{1} with:"),"RESULTS_QUERYBAR_SEL_KEYS":p("Select keywords"),"RESU_AUTHOR_NOT_AVA":p("[No author name available]"),"MYLIST_POPUP_CONTINUE_MSG":p("Scopus will only send article information published after 1995 for SciVal benchmarking and analysis."),"MYLIST_POPUP_EXPORT_MSG":p("Export a Scopus list as a Publication Set to SciVal and use <\/br> benchmarking tools for further evaluation"),"RESULTS_CITED_BY_MLT_27":p("documents sharing selected keywords with:"),"RESULTS_CITED_BY_MLT_28":p("documents sharing selected authors with:"),"RESULTS_CITED_BY_MLT_25":p("documents sharing selected words from the title with:"),"RESULTS_CITED_BY_MLT_26":p("documents sharing selected references with:"),"RESULTS_QUERYBAR_SHOW_KEYS":p("Show keywords"),"DOC_CIB_HEADER_MSG_NOTE":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> note<\/a> match your query "),"RESULTS_CITED_BY_MLT_23":p("There are no document sharing keywords with:"),"RESULTS_CITED_BY_MLT_24":p("There are no document sharing authors with:"),"RESULTS_CITED_BY_MLT_21":p("There are no document sharing words from the title with:"),"RESULTS_CITED_MLT_REF_LABEL":p("Shares references with:"),"RESULTS_CITED_BY_MLT_22":p("There are no document sharing references with:"),"RESULTS_MLT_ALL_TITLE_LABEL":p("Share {0}words from the title{1} with:"),"RESULTS_CITED_BY_MLT_20":p("Share references with:"),"RESULTS_OPTIONS_VIEW_SCOPUS_DOC":p("View Scopus documents"),"EMAIL_PLEASE_COMPLETE":p("Please complete the form below and click <b>Send<\/b>."),"RESULTS_QUERYBAR_SHAR_KEY":p("Shares keywords with:"),"CIBO_SNIP_TOOLTIP":p("Source normalized impact per paper: corrects for differences in the frequency of citation across research fields"),"TERM_EMAIL_CURRENT":p("E-mail the current search term analysis"),"MYLIST_POPUP_CONTINUE_SCIVAL":p("Continue to SciVal"),"TERM_EMAIL_ANALYSIS":p("Search term analysis for {0}"),"RESULTS_CITED_MLT_TITLE_LABEL":p("Shares words from the title with:"),"DOC_CIB_HEADER_MSG_ARTICLE_IN_PRESSS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> article in presss<\/a> matches your query"),"DOC_CIB_LIMIT_MULTIPLE_DOCS":p("Limit your results to these<a class='cib_Limit' id='cibLimit' href='#'> {0} documents only<\/a>"),"RESULTS_BOOK_LABEL":p("Book"),"DOCSORT_FIELD_SOURCETITLE_TITLE":p("Sort the document results on Source Title."),"EMAIL_SEAPOWER_3":p("search powered by Scirus"),"SEARCH_THESEARCH_7":p("The search term analysis will be available until {0}"),"RESULTS_QUERYBAR_DOC_SELECTED":p("The {0} selected document is cited by:"),"DOCSORT_FIELD_RELEVANCY":p("Relevance"),"DOC_CIB_HEADER_MSG_REPORTS":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> reports<\/a> matches your query"),"RESULTS_QUERYBAR_SEL_REFS":p("Select references"),"RESULTS_IN_SCOPUS_IS_CITED_X_TIMES":p("Is cited {1} times in Scopus by:"),"EMAIL_ITHOU_JOURNAL":p("I thought you would find this Journal Analyzer useful"),"CIBO_SAUTHOR_DETAIL":p("View {0}&#39s author details"),"CIBO_VIEW_AFF_TOOLTIP":p("View affiliations (opens in new window)"),"DOCU_MYLIST_HEADER":p("Temporary list for {0}"),"RESULTS_MLT_ALL_REF_LABEL":p("Share {0}references{1} with:"),"RESULTS_CITED_BY_MLT_49":p("There are no document sharing selected references with:"),"CIBO_SJR":p("SJR ({0}) : {1} "),"RESULTS_CITED_BY_MLT_47":p("There are no document sharing selected words from the title with:"),"PRINT_SEARCH_1":p("search powered by "),"RESULTS_CITED_BY_MLT_48":p("Shares references with:"),"RESULTS_CITED_BY_MLT_45":p("There are no document sharing selected keywords with:"),"listerror":{"zero":{"results":p("You have 0 documents in your temporary list.")},"no":{"document":{"message4":p("<ul class=\"myListDesc\"><li>This page shows the <b>temporary list of documents<\/b> you can create during a Scopus session.<\/li><li>You can work with this list the same way you work with any search results list - output the list, track citations, refine the list, and so on.<\/li><\/ul>"),"message3":p("To completely delete this list, select this list in  the {0}overview{1} and click Delete."),"message6":p("You must be logged in to save documents from your list or to work with your account {0}Saved lists{1}.<\/br>If you have previously saved lists for your account, you can access them after logging in from the main Lists menu or via My Scopus and clicking {0}Saved lists{1}."),"message5":p("To save documents to a saved list:"),"message":p("To add documents to your temporary list:"),"message2":p("What is temporary list?"),"message1":p("<ul class=\"addDocStepsList\"><li>Perform a search<\/li><li> From your results list, select the documents you want in your temporary list<\/li> <li>From the menu on your search results list, select Add to list<\/li><\/ul>")}},"view":{"saved":{"list":p("View saved lists or login")}},"saved":{"list":p("Saved list")}},"RESULTS_CITED_BY_MLT_46":p("documents sharing words from the title with:"),"DOCSORT_FIELD_DATENEW_TITLE":p("Sort the document results on date. "),"RESULTS_CITED_BY_MLT_43":p("There are no document sharing selected authors with:"),"RESULTS_CITED_BY_MLT_44":p("Shares keywords with:"),"RESULTS_CITED_BY_MLT_42":p("Shares authors with:"),"CIBO_COMPARE":p("Compare with other sources"),"DOC_CIB_EXCLUDE_SINGLE_DOC":p("<a class='cib_Exclude' id='cibExclude' href='#'>Exclude this document<\/a> from your results"),"SHARED_MAILSENT_33":p("This email has been sent to you by Scopus ï¿½ , a product of Elsevier B.V., Radarweg 29, 1043NX Amsterdam, The Netherlands, Tel.+31 20 485 3911."),"RESU_SHOW_ABSTRACT":p("Show abstract"),"results_cib_multiple_article_matches_alt":p("View articles (opens in new window)"),"DOCSORT_FIELD_DATENEW":p("Date "),"RESULTS_QUERYBAR_SHOW_AUTHS":p("Show authors"),"SEARCH_NAV_AUTHOR_NAME_AND_ID":p("Author Name "),"DOCSORT_FIELD_CITEDBY_TITLE":p("Sort the document results on Cited by count."),"RESULTS_SRC_BROWSE_QUERY_BEF":p("&nbsp;in {0} and before has:"),"RESULTS_SOURCE_TXT":p("Source"),"RESU_RELATED_DOC":p("Related documents"),"DOC_CIB_HEADER_MSG_SHORT_SURVEYS_TOOLTIP":p("View short surveys (opens in new window)"),"CIBO_HELP_TOOLTIP":p("Learn more about CiteScore, SCImago Journal Rank, and Source Normalized Impact per Paper. (Opens in a new window)"),"DOC_CIB_HEADER_MSG_DYNAMIC_VALUES":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> {2}s<\/a> matches your query"),"RESULTS_CITED_BY_SELECT_AUT":p("Select authors"),"RESULTS_QUERYBAR_ALT_SPELL":p("Show results for:&nbsp;"),"RESULTS_MLT_TITLE_LABEL":p("Share {0}selected words from the title{1} with:"),"DOC_CIB_HEADER_MSG_ARTICLES_TOOLTIP":p("View articles (opens in new window)"),"RESULTS_REFINE_BEF_IS_CITED_X_TIME":p("Refined to [{0}] before {1} is cited {2} time by:"),"RESULTS_QUERYBAR_CITES_LABEL":p("Cites:"),"RESULTS_QUERYBAR_REFINE_IS_CITEDBY":p("Refined to [{0}] gives:"),"DOC_CIBO_HEADER_1":p("(Showing first {0} result)"),"SOURCE_JOURNALAN_1":p("Your Journal Analyzer from Scopus may be accessed from the following link:"),"RESULTS_QUERYBAR_SEL_KEY":p("Select keyword"),"RESULTS_MY_LIST_DOCS_REFINE_LABEL":p("{0} results found after Refinement:&nbsp;"),"DOCSORT_FIELD_AUTHASC":p("First Author (A-Z)"),"JS_FEDER_FEDERATED_OUTWARD_LINK_TOOLTIP":p("(opens in a new window)"),"DOCU_TITLE_SAVE":p("Save this list"),"RESULTS_MLT_ALL_REFS_LABEL":p("Shares {0}references{1} with:"),"RESULTS_QUERYBAR_DOCS_REF_SELECTED":p("The {0} selected documents cite:"),"TERM_EMAIL_FORMAT":p("E-mail format:"),"DOCU_TITLE_OVERVIEW":p("View all Saved lists"),"SEARCH_THEFOLL_1":p("The following search term analysis can be accessed from the following link:"),"RESULTS_OPTIONS_EXTERNAL_RESULTS_TOOLTIP":p("Click to select one of the available non-scopus results options."),"RESULTS_QUERYBAR_ISCITEDBY_LABEL_LOWER":p(""),"SEARCH_NAV_EXACTSRCTITLE":p("Source Title    "),"AUTHOR_MAILTO_20":p("mailto:"),"DOC_CIB_HEADER_MSG_DYNAMIC_VALUES_TOOLTIP":p("View {0}s (opens in new window)"),"RESULTS_QUERYBAR_REFINE_SHARES_REF":p("Shares references with: Refined to [{0}] gives:"),"SEARCH_NAV_COUNTRY_NAME":p("Country/Territory         "),"RESU_HIDE_ABSTRACT":p("Hide abstract"),"resultlist":{"footer":{"topofpage":p("Top of page"),"page":{"text":p("Page")},"resultsperpage":{"display":p("Display&nbsp;"),"go":p("Go"),"text":p("results per page")}},"header":{"unselectall":{"tooltip":p("Unselect all results")},"more":{"TOOLTIP":p("Show more available options")},"document":p("document results"),"previousnextbar":{"next":p("Next &gt;",({"alt":p("Next page")})),"previous":p("&lt; Previous",({"alt":p("Previous page")})),"of":p("&nbsp;of"),"go":p("Go"),"page":p("Page:&nbsp;"),"gotopage":p("Go to page:&nbsp;",({"alt":p("Go to page")}))},"unselectpage":{"tooltip":p("Unselect page results")},"abstract":{"hideall":p("Hide all abstracts"),"showall":p("Show all abstracts")},"list":p("list"),"menu":p("More..."),"showAllPage":{"bubble":{"title":p("click to select all or select page results")}},"selectpage":p("Select page",({"tooltip":p("Select page results")})),"checkbox":{"text":{"all":p("All"),"page":p("Page")}},"databutton":{"download":p("Download",({"ieedge":p("Document download is not supported on IE Edge. <\/br>Please use Firefox or IE 9, 10 or 11."),"alt":p("Download the abstract or full text of the selected document(s), depending on availability"),"chrome45":p("Document download is not supported on Chrome 45 or <\/br>higher. Please use Firefox or IE 9, 10 or 11.",({"title":p("Browser version issue"),"ok":p("Ok"),"close":p("Close")}))})),"print":p("Print",({"alt":p("Print the selected documents")})),"citedby":p("View Cited by",({"alt":p("View documents citing the selected documents")})),"bibliography":p("Create bibliography",({"alt":p("Create a bibliography for the selected documents")})),"removeAuthorDoc":p("Request to remove documents from author",({"alt":p("Click to request to remove the selected documents from this author")})),"mylist":p("Add to List",({"loggedIn":p("Save to list"),"alt":p("Add these documents to a temporary list",({"loggedIn":p("Add these documents to a saved list")}))})),"more":{"alt":p("Show more available options")},"withselected":p("With selected:"),"viewreference":p("View references",({"alt":p("View references of the selected documents")})),"email":p("Email",({"alt":p("Email the selected documents")})),"cto":p("View citation overview",({"alt":p("View a Citation Overview of the selected documents")}))},"disabled":{"deletes":{"alt":p("Please select one or more document(s) below to Delete")},"download":{"alt":p("Please select one or more document(s) below to Download")},"citedby":{"alt":p("Please select one or more document(s) below to View Cited by")},"citation":{"alt":p("Please select one or more document(s) below to View citation overview")},"more":{"withcitedbyAddLst":{"alt":p("Please select one or more document(s) below to View Cited by, View references, Create bibliography, Email or Print")},"alt":p("Please select one or more document(s) below to View references, Add to My List, Create bibliography, Email or Print"),"withcitedby":{"alt":p("Please select one or more document(s) below to View Cited by, View references, Add to My List, Create bibliography, Email or Print")}},"mylist":{"alt":p("Please select one or more document(s) below to Add",({"loggedIn":p("Please select one or more document(s) below to Save")}))},"save":{"alt":p("Please select one or more document(s) below to Save")},"secondaryresults":{"more":{"alt":p("Please select one or more document(s) below to Create bibliography, Email or Print")}}},"sortby":p("Sort on:"),"selectall":p("Select all",({"tooltip":p("Select all results")}))},"querybar":{"setalert":p("Set alert"),"edit":p("Edit",({"alt":p("Edit search query")})),"author":{"alt":p("Find authors with a similar name")},"save":p("Save",({"alt":p("Save query")})),"link":{"patent":p("View {0} patent results",({"single":p("View {0} patent result",({"alt":p("Select to display the patent result")})),"alt":p("Select to display the patent results")}))},"hublink":{"view":p("View"),"web":p("View {0} web results",({"alt":p("Opens Hub in a new window. Covered web sources: University repositories (e.g. MIT, DiVA ,Caltech), theses & dissertations, etc.")})),"gotoresults":p("Go to:")},"alternativespelling":p("Alternative spelling is:",({"alt":p("return your search with this suggested spelling")})),"scopus":p("&nbsp;in Scopus"),"analyseresult":p("Analyze search results",({"alt":p("View charts and graphs related to this results list")})),"resulttext":p("result"),"search":p("Search&nbsp;"),"setfeedDisabled":p("Query too long to create an RSS feed"),"resultstext":p("results"),"setfeed":p("Set feed"),"results":p("Not the results you expected?"),"yourquery":p("Your query:&nbsp;&nbsp;")}},"DOC_CIB_HEADER_MSG_SHORT_SURVEY_TOOLTIP":p("View short survey (opens in new window)"),"RESULTS_REFINE_BEF_IS_CITED_X_TIMES":p("Refined to [{0}] before {1} is cited {2} times by:"),"DOC_CIB_HEADER_MSG_ABSTRACT_REPORT":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> abstract report<\/a> match your query"),"RESULTS_MLT_ALL_KEYS_LABEL":p("Shares {0}keywords{1} with:"),"RESULTS_BEF_ARE_CITED_X_TIME":p("The {2} selected documents are cited {1} time before {0} by:"),"SETALERT_LOGIN_MORE_LOGIN_OPT_TOOLTIP":p("More login options"),"RESULTS_REFINE_MLT_REF_LABEL":p("Share {1}selected references{2} with: Refined to [{0}]  gives:"),"DOC_CIB_HEADER_MSG_DYNAMIC_VALUE":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> {2}<\/a> match your query"),"TERM_EMAIL_INFOR":p("The information entered on this page will not be used to send unsolicited e-mail, and will not be sold to a 3rd party."),"CLUS_LOADING_TOOLTIP":p("Loading"),"LIMI_EXCLUSUB_TOOLTIP":p("Exclude selected items: Subscription required"),"DOCU_VIEWIN_AUTHOR_TOOLTIP":p("View author details (opens in new window)"),"RESULTS_MY_LIST_LABEL":p("MY LIST (<b>{0}<\/b>)"),"SAVELIST_DELETE_TOOLTIP_ENABLE":p("Delete the Selected List"),"RESULTS_REFINE_MLT_KEY_LABEL":p("Share {1}selected keywords{2} with: Refined to [{0}] gives:"),"EMAIL_SENT_MESSAGE_2":p("The information entered on this page will not be used to send unsolicited e-mail, and will not be sold to a 3rd party."),"EMAIL_SENT_MESSAGE_1":p("Your e-mail message containing {0} citations and link will be sent to {1}"),"SEARCH_NAV_AUCITE":p("Author Name"),"EMAIL_SENT_MESSAGE":p("Your e-mail message containing a citation and link will be sent to {0}"),"RESULTS_OPTIONS_VIZ_RESULTS_TOOLTIP":p("View charts and graphs related to this results list"),"RESU_REFEDOC_TOOLTIP":p("View the documents that references this one"),"RESULTS_QUERYBAR_ARECITEDBY_LABEL":p("are cited by:"),"RESULTS_CITED_BY_SELECT_KEY":p("Select keywords"),"RESULTS_BACK_PUB_METRICS":p("Back to Publication Metrics"),"results_cib_limit_multiple_article":p("Limit your results to these {0} articles only"),"RESULT_SAVED_LIST_SUCCESS":p("The selected {0} documents were added to {1}. <a href=\"{2}\" title=\"Manage your saved lists\">View or manage your saved lists.<\/a>"),"DOC_CIB_HEADER_MSG_CONFERENCE_PAPER":p("<a href=\"#\" id=\"documentNum\" title=\"{0}\"><span class='Bold'>{1}<\/span> conference paper<\/a> match your query"),"RESULTS_SRC_BROWSE_QUERY_ISS":p("&nbsp;in Issue {0} has:")})})();;(function(){function r(val,args){for(var x=0;x<args.length;x++){val=val.replace('{'+x+'}',args[x]);}
return val;}
function p(){var val=arguments[0];var ret;if(val.indexOf('{0}')!=-1)
ret=function(){return r(val,arguments);}
else ret=function(){return val;}
for(var x=1;x<arguments.length;x++){for(var a in arguments[x])
ret[a]=arguments[x][a];}
return ret;}
window.affiliation=({"JS_MSG_SHOW_ORG":p("Show Organizational Hierarchy: "),"JS_MSG_GROUP_MAX":p("The maximum number of affiliation groups ({0}) has been reached.\r\nTo create new groups, close your browser or remove one or more existing groups."),"JS_MSG_AFFIL_SEARCH_EXAMPLE":p("e.g. University of Toronto"),"JS_MSG_NO_KEYWORDS":p("No Keywords found"),"JS_MSG_DISABLE_BASIC_AFFIL_42_TOOLTIP":p("Please select one or more affiliation(s) below to add to Search"),"JS_MSG_VIEW_MORE_COLLAB":p("Show more collaborating affiliations"),"JS_MSG_NO_SOURCE_TYPE":p("No Source Types found"),"JS_MSG_GROU_DELETE":p("Delete"),"JS_MSG_NO_COUNTRIES":p("No Countries found"),"JS_MSG_NOSEARCH_TERM":p("No search terms entered. \r\nEnter one or more search terms and click Search."),"JS_MSG_AFFIL_SORT_BY_OTHER_TITLE":p("Sort on one of the other available options."),"JS_MSG_AFFIL_SORT_BY_DOC_COUNT_DESC_TITLE":p("Sort affiliations by descending Document count."),"JS_MSG_DISABLE_PROF_SETFEEDBACK_TOOLTIP":p("Please select one or more affiliation(s) below to Give feedback about this affiliation"),"JS_MSG_AFFIL_SORT_BY_AFFIL_ASC":p("Affiliation (A-Z)"),"JS_MSG_AFFIL_HEADER_UNSELECTALL_TOOLTIP":p("Unselect all results"),"JS_MSG_DISABLE_GROU_DELETE_TOOLTIP":p("Please select one or more affiliation(s) below to Delete affiliations from group"),"JS_MSG_NO_LANGUAGES":p("No Languages found"),"JS_MSG_NO_MATCH":p("No Match Levels found"),"JS_MSG_DISABLE_BASIC_AFFIL_23_TOOLTIP":p("Please select one or more affiliation(s) below to Group Affiliation"),"JS_MSG_NO_CONTENT":p("No Content Sources found"),"JS_MSG_error_nosubject":p("No subject has been selected .\r\nPlease select an appropriate Subject and click Send."),"JS_MSG_VIEW_LESS_SOURCE":p("Show less documents by source"),"JS_MSG_NO_YEARS":p("No Years found"),"JS_MSG_DISABLE_BASIC_AFFIL_40_TOOLTIP":p("Please select one or more affiliation(s) below to Send Feedback"),"JS_MSG_BASIC_AFFIL_37_TOOLTIP":p("Show documents of selected affiliations"),"JS_MSG_AFFIL_SORT_BY_AFFIL_ASC_TITLE":p("Sort by Affiliation name (A-Z)"),"JS_MSG_error_nocomments":p("Comments are required.\r\nPlease enter your Comments and click Send."),"JS_MSG_NO_CITIES":p("No Cities found"),"JS_MSG_error_noemail":p("E-mail address is required.\r\nPlease enter an E-mail address and click Send."),"JS_MSG_CLICK_TO_CLOSE":p("Click to close"),"JS_MSG_AFFIL_HEADER_UNSELECTPAGE_TOOLTIP":p("Unselect page results"),"JS_MSG_AFFIL_SORT_BY_CNTRY_ASC_TITLE":p("Sort affiliations by Country/Territory (A-Z)"),"JS_MSG_NO_AUTHOR":p("No Author Names found"),"JS_MSG_BASIC_AFFIL_23_TOOLTIP":p("Group the selected affiliations with this affiliation"),"JS_MSG_NO_SOURCE":p("No Source Titles found"),"JS_MSG_VIEW_MORE_SOURCE":p("Show more documents by source"),"JS_MSG_AFFIL_SORT_BY_AFFIL_DESC_TITLE":p("Sort by Affiliation name (Z-A)"),"JS_MSG_BASIC_AFFIL_40_TOOLTIP":p("Give feedback about this affiliation"),"JS_MSG_AFFIL_AFFIL_PAGE":p("Page"),"JS_MSG_NO_INFORMATION":p("No Information Types found"),"JS_MSG_BASIC_AFFIL_42_TOOLTIP":p("Add selected affiliations to your search"),"JS_MSG_PROF_SETFEEDBACK":p("Give feedback"),"JS_MSG_VIEW_MORE":p("View more..."),"JS_MSG_AFFIL_SORT_BY_CNTRY_ASC":p("Country/Territory (A-Z)"),"JS_MSG_NO_AFFILIATION":p("No Affiliations found"),"JS_MSG_RESTORE":p("Restore default hierarchy"),"JS_MSG_AFFIL_BASI_AFFIL":p("Search for Affiliation..."),"JS_MSG_NO_SUBJECT":p("No Subject Areas found"),"JS_MSG_AFFIL_HEADER_SELECTPAGE_TOOLTIP":p("Select page results"),"JS_MSG_AFFIL_SORT_BY_CITY_ASC":p("City (A-Z)"),"JS_MSG_VIEW_LESS_NAMEVAR":p("View less name variants"),"JS_MSG_NO_DOCUMENT":p("No Document Types found"),"JS_MSG_NO_LIMIT_TO":p("No items were selected. \r\nSelect one or more items in one or more columns and click limit to."),"JS_MSG_NO_EXCLUDE":p("No items were selected. \r\nSelect one or more items in one or more columns and click exclude."),"JS_MSG_HIDE_ORG":p("Hide Organizational Hierarchy: "),"JS_MSG_EXPAND":p("Expand full hierarchy"),"JS_MSG_AFFIL_SORT_BY_AFFIL_DESC":p("Affiliation (Z-A)"),"JS_MSG_NO_AUTHOR_NAME":p("No Author Names found"),"JS_MSG_AFFIL_HEADER_SELECTALL_TOOLTIP":p("Select all results"),"JS_MSG_AFFIL_CHECK_BOX_SELECTED":p("({0} selected)"),"JS_MSG_DISABLE_BASIC_AFFIL_37_TOOLTIP":p("Please select one or more affiliation(s) below to Show Documents"),"JS_MSG_AFFIL_AFFIL_ALL":p("All"),"JS_MSG_AFFIL_SORT_BY_CITY_ASC_TITLE":p("Sort affiliations by City (A-Z)"),"JS_MSG_VIEW_LESS_COLLAB":p("Show less collaborating affiliations"),"JS_MSG_CLICK_TO_OPEN":p("Click to open"),"JS_MSG_AFFIL_SORT_BY_DOC_COUNT_DESC":p("Document Count &#x2193;"),"JS_MSG_error_nocountry":p("No country has been selected .\r\nPlease select an appropriate country and click Send."),"JS_MSG_VIEW_MORE_NAMEVAR":p("View more name variants"),"JS_MSG_error_noname":p("Name is required.\r\nPlease enter your Name and click Send."),"JS_MSG_MORE_LIMIT":p("More than {0} affiliations were grouped in total. \r\nPlease select {1} or less affiliations from the list below and click Group with affiliation."),"JS_MSG_NO_RESULT":p("No Result Types found"),"JS_MSG_AFFIL_SORT_BY_DOC_COUNT_ASC":p("Document Count &#x2191;"),"JS_MSG_SYS_ERROR":p("<span class='txtRedBold'>The system is currently unable to retrieve the potential affiliation matches.<\/span><br><span class='txt'>Please try again by clicking <strong>Find potential affiliation matches<\/strong>.<\/span>"),"JS_MSG_NOFEEDBACK":p("No authors were selected.\r\nPlease select one or more authors from the list below and click request to merge with author."),"JS_MSG_NOAFFIL_DELETE":p("No affiliations were selected.\r\nPlease select one or more affiliations from the list below and click delete."),"JS_MSG_NOAFFIL":p("No affiliations were selected. \r\nPlease select one or more affiliations from the list below and click Group with affiliation."),"JS_MSG_RETER_ORG":p("Retrieving organizational hierarchy..."),"JS_MSG_AFFIL_SORT_BY_DOC_COUNT_ASC_TITLE":p("Sort affiliations by ascending Document count"),"JS_MSG_VIEW_LESS":p("View less...")})})();;(function(){function r(val,args){for(var x=0;x<args.length;x++){val=val.replace('{'+x+'}',args[x]);}
return val;}
function p(){var val=arguments[0];var ret;if(val.indexOf('{0}')!=-1)
ret=function(){return r(val,arguments);}
else ret=function(){return val;}
for(var x=1;x<arguments.length;x++){for(var a in arguments[x])
ret[a]=arguments[x][a];}
return ret;}
window.alertProp=({"MAINTALETLST_DELETE":p("Delete"),"ALERT_FREQUENCY":p("Frequency:"),"ALERTCONF_THISEMAIL":p("This email has been sent to you by Scopus ®, a product of Elsevier B.V., Radarweg 29, 1043NX Amsterdam, The Netherlands, Tel.+31 20 485 3911. "),"ALERT_AUTHOR_ACCESS_NEW_RESULTS":p("Access the new result"),"alert_my_list_status_active":p("Active"),"ALERT_EMAIL_SEPARATOR":p("Separate multiple email addresses by a semicolon, comma, space or enter."),"ALERTTEXT_SEARCHALERT":p("Search alert"),"ALERT_AUTHOR_TEXT_FOOTER_TERMS_1":p("By using the Scopus Alert, you are agreeing to abide by the Scopus Terms and Conditions at {0}. "),"ALERT_AUTHOR_TEXT_FOOTER_TERMS_2":p("Copyright (c) {0} Elsevier B.V. All rights reserved. Scopus ® is a registered trademark of Elsevier B.V."),"author_alert":p("Author"),"ALERTTEXT_ANEWAUTH":p("A new Author citation alert called \"{0}\" has been set up:"),"alert_error_cite_delete_js":p("No Document Citation Alerts were selected.\\r\\nPlease check one or more Document Citation Alerts from the list below and click delete."),"ALERTTEXT_ANEWDOC":p("A new Document citation alert called \"{0}\" has been set up:"),"alert_message_delete_one_js":p("Are you sure you want to delete this alert?"),"ALERT_AUTHOR_QUERY_WITHOUT_COLON":p("This alert is based on the following query"),"ALER_NAMEOF":p("Name of alert:"),"ALERTTEXT_ELSEVIER":p("Elsevier respects your privacy and does not disclose, rent or sell your personal information to any non-affiliated third parties without your consent, except as may be stated in the Online Privacy Policy. By using the Scopus alerts, you are agreeing to abide by the Terms and Conditions."),"ALERT_SEARCH_TEXT_2":p("You can access the new result from this Search Alert at:"),"ALERT_SEARCH_TEXT_1":p("You can access all new results from this Search Alert at:"),"alert_message_delete_many_js":p("Are you sure you want to delete these alerts?"),"ALERT_AUTHOR_NEW_RESULTS":p("{0} new results"),"alert_my_list_setfeed":p("Set&nbsp;feed"),"ALERT_DOCUMENT_CALLED_2":p("Your {0} alert called \"{1}\" has found {2} new result on Scopus."),"ALERT_DOCUMENT_CALLED_1":p("Your {0} alert called \"{1}\" has found {2} new results on Scopus."),"ALERT_AUTHOR":p("Author(s)"),"ALERT_SEARCH_HTML_RESULT_1":p("Your search alert called <span class=\"bold\">\"{0}\"<\/span> has found {1} new results on Scopus."),"ALERTCONF_ALERTONTHE":p("Alert will check {0} on the {1} for new results and send mail in <b>HTML<\/b> format."),"alert_my_list_status":p("Status"),"ALERT_SEARCH_TEXT_RESULT_2":p("Your search alert called \"{0}\" has found {1} new result on Scopus."),"ALERTTEXT_COPYRIGHT":p("Copyright © {0} Elsevier B.V. All rights reserved. Scopus® is a registered trademark of Elsevier B.V."),"ALERT_UNSUBSCRIBE_MAIL_SUBJECT":p("Unsubscribe alert"),"ALERT_SEARCH_TEXT_RESULT_1":p("Your search alert called \"{0}\" has found {1} new results on Scopus."),"ALERT_SEARCH_HTML_RESULT_2":p("Your search alert called <span class=\"bold\">\"{0}\"<\/span> has found {1} new result on Scopus."),"ALERTTEXT_ACTIVE":p("It is presently active."),"ALERTUNSUB_RECIPIENTSEARCH":p("Recipient has declined Search alert"),"ALERT_AUTHOR_HTML_FOOTER_10":p("Citation Alert:"),"ALERT_AUTHOR_TEXT_FOOTER_SET_UP":p("If someone else has set up this alert for you, you can unsubscribe from these alerts by going the following url: {0} ."),"ALERT_AUTHOR_CITED_2":p("Cited {0} times."),"ALERTUNSUB_REMOVED":p("The recipient <a href=\"mailto:{0}\">{0}<\/a> has removed their e-mail address from your alert named \"<b>{1}<\/b>\"."),"ALERT_AUTHOR_CITED_1":p("Cited {0} time."),"ALERT_DOCUMENT_CITATION_4":p("You can access  the new result from this Document Citation Alert at:"),"ALERT_DOCUMENT_CITATION_3":p("You can access  all new results from this Document Citation Alert at:"),"ALERTTEXT_ALERTWILL":p("Alert will check Every day for new results and send mail in plain text format. "),"ALERT_EMAIL_HTML_FOOTER":p("<span class=\"Bold\">Note: <\/span>Results from CSA Illumina are not included in this e-mail alert. Your results list on Scopus for this e-mail alert can contain not only newly published documents, but also newly added archive material with an earlier publication date."),"ALERT_AUTHOR_ONE_NEW_RESULTS":p("1 new result"),"ALERT_DOCUMENT_CITATION_2":p("Your Document Citation Alert called <span class=\"bold\">\"{0}\"<\/span> has found {1} new result on Scopus."),"ALERT_DOCUMENT_CITATION_1":p("Your Document Citation Alert called <span class=\"bold\">\"{0}\"<\/span> has found {1} new results on Scopus."),"ALERT_STATUS":p("Status:"),"MAINTALETLST_ACTION":p("Action"),"ALERT_AUTHOR_CITEDBY":p("Cited by"),"MAINTALETLST_DELSELALERT_TOOLTIP":p("Delete the selected alerts"),"MAINTALETLST_SAVON":p("Saved on"),"ALERT_AUTHOR_DATE":p("Date"),"ALERT_AUTHOR_TEXT_PRIVACY":p("Elsevier respects your privacy and does not disclose, rent or sell your personal information to any non-affiliated third parties without your consent, except as may be stated in the Scopus Online Privacy Policy at {0}."),"alert_error_inactivate_js":p("Are you sure you want to inactivate this alert?\\r\\nYou can only activate it again if you subscribe to Scopus."),"SETALERT_LOGIN_COLLAPSE_LOGIN_OPT":p("Collapse options"),"ALERTTEXT_SEARCH":p("You can access all search results at:"),"AUTHOR_CITATION_ALERTS":p("Author Citation Alerts"),"ALERT_TEXT":p("Text"),"ALERTCONF_INACTIVE":p("It is presently <b>inactive<\/b>."),"ALERT_DOCUMENT_TEXT_FOOTER_TERMS_2":p("(c) {0} Scopus. All rights reserved. Any unauthorized use, reproduction, or transfer of this message or its contents, in any medium, is strictly prohibited. Scopus ® is a registered trademark of Elsevier B.V."),"SETALERT_LOGIN_CLOSE_TOOLTIP":p("close"),"ALERT_AUTHOR_IMAGE_ALT":p("Articles not published yet, but available online"),"ALERT_AUTHOR_TEXT_AUTHOR_DOCUMENT":p("New document(s) citing"),"ALERT_AUTHOR_VIEW_RESULTS":p("View all new results in Scopus"),"ALERTCONF_ALERTON":p("Alert will check {0} on {1} for new results and send mail in <b>HTML<\/b> format."),"ALERT_AUTHOR_TEXT_FOOTER_3":p("This email has been sent to you by Scopus ®, a product of Elsevier B.V., Radarweg 29, 1043NX Amsterdam, The Netherlands, Tel.+31 20 485 3911."),"DOCUMENT_CITATION_ALERTS":p("Document Citation Alerts"),"ALERT_SEARCH_HTML_DOCUMENT":p("Document"),"alert_my_list_status_inactive_alt":p("Click to activate alert"),"MAILALERT_VIEWDOC":p("View document citations in Scopus"),"ALERT_AUTHOR_ACCESS_ALL":p("Access all new results"),"alert_my_list_status_inactive":p("Inactive"),"ALERT_DOCUMENT":p("Alert:"),"MAINTALETLST_ALTNAM":p("Alert name"),"ALERTTEXT_TOMANAGE":p("To manage your alerts, go to Alerts in Scopus: {0}/alert/form/MyAlerts.uri"),"ALERT_AUTHOR_DOCUMENT_TITLE":p("Document title"),"alert_my_list_edit":p("Edit"),"ALERT_SEARCH_TEXT_OVERVIEW_3":p("In the overview below, you can see the {0} result for this Search Alert:"),"ALERT_SEARCH_TEXT_OVERVIEW_2":p("In the overview below, you can see the {0} results for this Search Alert:"),"ALERT_SEARCH_TEXT_OVERVIEW_1":p("In the overview below, you can see the First 25 of {0} results for this Search Alert:"),"MAILALERT_VIEWAUTH":p("View author citations in Scopus"),"alert_my_list_saved_on":p("Saved on"),"ALERTTEXT_INACTIVE":p("It is presently inactive."),"MAINTALETLST_DELSELALERT_ALT":p("Delete the selected alerts"),"ALERT_AUTHOR_TEXT_FOOTER_MANAGE":p("To manage your alerts, go to Alerts in Scopus: {0} ."),"ALERT_EMAILADDRESS":p("E-mail address(es):"),"SETALERT_LOGIN_CLOSE":p("close"),"MAINTALETLST_AUTHIDNOAVAIL":p("Author Identifier {0} is no longer available"),"ALERT_ET_AL_TEXT":p("et al."),"ALERTCONF_THEALERTS":p("The alerts will be sent to the following recipients:"),"ALERTTEXT_DOCALERT":p("Document citation alert"),"JS_MSG_ALERTS_UNSUBSCRIBE_EMAIL_REQUIRED":p("E-mail Address is required.\r\nPlease enter a complete e-mail address and click Send.\r\nExample:john.smith_40abc-university.edu"),"ALERT_SEARCH_HTML_CITATIONS":p("Citations"),"ALERT_SEARCH_EMAIL_SUBJECT":p("Scopus Search alert"),"alert_my_list_view":p("View"),"alert_my_list_unable_to_activate_alt":p("No valid email address to activate"),"document_alert":p("Document"),"alert_my_list_status_active_alt":p("Click to deactivate alert"),"DOCUMENT_CITATION_ALERT_MSG":p("When you set a Document Citation Alert you will receive an e-mail each time that document is cited in Scopus."),"ALERTTEXT_ALERTONTHE":p("Alert will check {0} on the {1} for new results and send mail in plain text format."),"MAINTALETLST_SRCHALL_TOOLTIP":p("Search for all articles by this author"),"forgotten":{"js":{"error":{"emailinvalid":p("Incomplete E-mail Address entered.\\r\\nPlease enter a complete e-mail address and click Send.\\r\\nExample: john.smith@abc-university.edu"),"required":{"email":p("E-mail Address is required.\\r\\nPlease enter a complete e-mail address and click Send.\\r\\nExample:john.smith_40abc-university.edu")}}}},"alert_my_list_search":p("Search"),"ALERT_AUTHOR_NEW_RESULT":p("{0} new result"),"ALERTCONF_ALERTWILL":p("Alert will check Every day for new results and send mail in <b>HTML<\/b> format."),"SETALERT_LOGIN_MORE_LOGIN_OPT":p("More login options"),"ALERTCONF_ACTIVE":p("It is presently <b>active<\/b>."),"ALERT_AUTHOR_SOURCE_TITLE":p("Source Title"),"MAINTALETLST_DOCCITUNAVAIL":p("Document Citation is currently unavailable."),"MAILALERT_VIEWSEARCH":p("View results in Scopus"),"ALERTTEXT_ALERTON":p("Alert will check {0} on {1} for new results and send mail in plain text format. "),"alert_my_list_setfeed_tooltip":p("Set feed"),"ALERT_AUTHOR_TEXT_FOOTER_QUESTIONS":p("If you have questions about this or other features of Scopus, Please visit our Info Site: http://www.info.sciverse.com/scopus/ ."),"ALERTTEXT_ANEWSEARCH":p("A new Search alert called \"{0}\" has been set up:"),"alert_my_list_doc_unavailable":p("Document Citation is currently unavailable."),"ALERT_AUTHOR_HTML_FOOTER_CONFIRMATIONID":p("Confirmation Job ID:"),"ALERT_AUTHOR_SOURCE":p("Source"),"MAILALERT_ANEWSEARCH":p("A new Search alert called <b>\"{0}\"<\/b> has been set up:"),"ALERT_SEARCH_HTML_TYPE":p("Search"),"MAINTALETLST_FREQ":p("Frequency"),"alert_message_delete_specific_js":p("Are you sure you want delete alert: {0} ?"),"ALERTS":p("Alerts"),"CTO_BATCH_APPLICAITON_EMAIL_SUBJECT":p("Citation Tracker from Scopus"),"alert_my_list_frequency":p("Frequency"),"ALERT_NAME":p("Alert name"),"MAINTALETLST_AUTHPREFNAME":p("{0} (Author Identifier&nbsp;{1})"),"ALERT_AUTHOR_HTML_FOOTER_9":p("Webuser ID: "),"ALERTCONF_TOMANAGE":p("To manage your alerts, go to <a href=\"{0}/alert/form/MyAlerts.uri\">Alerts<\/a> in Scopus."),"ALERT_AUTHOR_HTML_FOOTER_7":p("Copyright &#169; {0} <a href=\"../../https@www.elsevier.com\" target=\"_blank\"   title=\"Elsevier homepage (opens in a new window)\"> Elsevier B.V.<\/a> Scopus &#174; is a registered trademark of Elsevier B.V."),"ALERT_AUTHOR_HTML_FOOTER_8":p("Delivery Job: ID:"),"ALERT_AUTHOR_HTML_FOOTER_5":p("By using the Scopus alerts, you are agreeing to abide by the <a href=\"{0}\">Scopus Terms and Conditions<\/a>. "),"ALERT_EMAIL_FORMAT":p("E-mail format:"),"ALERT_AUTHOR_HTML_FOOTER_3":p("This email has been sent to you by Scopus &#174;, a product of Elsevier B.V., Radarweg 29, 1043NX Amsterdam, The Netherlands, Tel.+31 20 485 3911."),"ALERTUNSUB_RECIPIENT":p("Recipient has declined {0} alert"),"AUTHOR_CITATION_ALERT_MSG":p("When you set an Author Citation Alert you will receive an e-mail each time a document of that author is cited in Scopus."),"ALERT_AUTHOR_HTML_FOOTER_4":p("Elsevier respects your privacy and does not disclose, rent or sell your personal information to any non-affiliated third parties without your consent, except as may be stated in the <a href=\"{0}\">Scopus Online Privacy Policy<\/a> . "),"ALERT_AUTHOR_HTML_FOOTER_1":p("To manage your alerts, go to <a href=\"{0}\">Alerts<\/a> in Scopus. If this alert was set by someone else and you do not wish to receive it, please click <a href=\"{1}\">here<\/a>."),"ALERT_DOCUMENT_TEXT_CITATION_1":p("Your Document Citation Alert called \"{0}\" has found {1} new results on Scopus."),"ALERT_AUTHOR_HTML_FOOTER_2":p("If you have questions about this or other features of Scopus,please visit our <a href=\"../../www.info.sciverse.com/scopus/default.htm\">Info site<\/a>."),"ALERT_DOCUMENT_TEXT_CITATION_2":p("Your Document Citation Alert called \"{0}\" has found {1} new result on Scopus."),"MAILALERT_ANEWAUTHOR":p("A new Author citation alert called <b>\"{0}\"<\/b> has been set up:"),"ALERT_AUTHOR_EMAIL_SUBJECT":p("Scopus Author Citation alert"),"ALERT_DOCUMENT_TEXT_OVERVIEW_1":p("In the overview below, you can see the {0} results for this Document Citation Alert:"),"ALERTTEXT_THISEMAIL":p("This email has been sent to you by Scopus ®, a product of Elsevier B.V., Radarweg 29, 1043NX Amsterdam, The Netherlands, Tel.+31 20 485 3911."),"ALERTUNSUB_RECIPIENTAUTH":p("Recipient has declined Author citation alert"),"ALERT_DOCUMENT_TEXT_OVERVIEW_2":p("In the overview below, you can see the result for this Document Citation Alert:"),"ALERT_DOCUMENT_TEXT_OVERVIEW_3":p("In the overview below, you can see the First 25 of {0} results for this Document Citation Alert:"),"ALERT_AUTHOR_PREVIOUS":p("The previous alert was sent on {0}"),"ALERTTEXT_DOC":p("You can access all document citations at:"),"MAINTALETLST_INACTIVATE":p("Inactivate"),"ALERT_DOCUMENT_EMAIL_SUBJECT":p("Scopus Document Citation alert"),"ALERT_AUTHOR_YEAR":p("Year"),"ALERT_HEADER_TOOLTIP":p("Select to go to the Scopus main search page"),"SEARCH_ALERT_MSG":p("You will receive an alert each time one of these searches renders new results in Scopus."),"MAILALERT_ANEWDOCUMENT":p("A new Document citation alert called <b>\"{0}\"<\/b> has been set up:"),"ALERTTEXT_AUTH":p("You can access all author citations at:"),"SEARCH_ALERTS":p("Search Alerts"),"ALERT_HTML":p("HTML"),"alert":{"button":{"label":{"cancel":p("Cancel",({"alt":p("Cancel")})),"setalert":p("Set Alert",({"alt":p("Set Alert")})),"save":p("Save",({"alt":p("Save")}))}},"unsubscribe":{"form":{"cancel":p("Cancel",({"alt":p("Cancel")})),"msg":p("To stop receiving the Scopus alert named \"{0}\", please confirm your e-mail address below:"),"alt_title":p("Unsubscribe from Scopus Alert"),"unsubscribe":p("Unsubscribe"),"title":p("Unsubscribe from alert"),"email":p("E-mail address:"),"required":p("Required field")},"confirmation":{"msg2":p("You will no longer receive e-mails from this alert."),"msg1":p("You have now been removed from the Scopus alert named \"{0}\"."),"title":p("Unsubscribe successful")}},"maint":{"search":{"select":{"all":p("Select all Search alerts")},"inactivate":p("Inactivate this Search alert"),"delete":p("Delete this Search alert"),"email":p("You will receive an e-mail each time one of these searches renders new results in Scopus")},"author":{"select":{"all":p("Select all Author Citation alerts")},"inactivate":p("Inactivate this Author Citation alert"),"delete":p("Delete this Author Citation alert"),"email":p("You will receive an e-mail each time one of these documents of that author is cited in Scopus")},"document":{"select":{"all":p("Select all Document Citation alerts")},"inactivate":p("Inactivate this Document Citation alert"),"delete":p("Delete this Document Citation alert"),"email":p("You will receive an e-mail each time one of these documents is cited in Scopus")}},"instruction":{"search":p("A Search Alert is a saved search that you can schedule to run at certain intervals. If any new results are found you will receive an e-mail with the first 25 results and a link into Scopus to access all new results."),"author":p("An Author Citation Alert will keep you informed when a document cites this author, you can schedule this alert to run at certain intervals. If any new results are found you will receive an e-mail with the first 25 results and a link into Scopus to access all new results."),"document":p("A Document Citation Alert will keep you informed when a document cites this document, you can schedule this alert to run at certain intervals. If any new results are found you will receive an e-mail with the first 25 results and a link into Scopus to access all new results.")},"setup":{"alertHeading":p("Set Alert"),"search":p("Search:",({"edit":p("Edit",({"query":p("Edit query")}))})),"dayOfUnit":{"month_4":p("4th"),"month_30":p("30th"),"month_3":p("3rd"),"month_31":p("31st"),"month_6":p("6th"),"month_10":p("10th"),"saturday":p("Saturday"),"month_5":p("5th"),"month_11":p("11th"),"month_2":p("2nd"),"month_1":p("1st"),"month_8":p("8th"),"month_7":p("7th"),"month_9":p("9th"),"month_27":p("27th"),"wednesday":p("Wednesday"),"month_28":p("28th"),"friday":p("Friday"),"month_29":p("29th"),"month_23":p("23rd"),"month_24":p("24th"),"month_25":p("25th"),"monday":p("Monday"),"month_26":p("26th"),"month_20":p("20th"),"month_21":p("21st"),"week_7":p("Saturday"),"month_22":p("22nd"),"week_6":p("Friday"),"week_5":p("Thursday"),"week_4":p("Wednesday"),"week_3":p("Tuesday"),"week_2":p("Monday"),"week_1":p("Sunday"),"thursday":p("Thursday"),"sunday":p("Sunday"),"tuesday":p("Tuesday"),"month_16":p("16th"),"month_17":p("17th"),"month_18":p("18th"),"month_19":p("19th"),"month_12":p("12th"),"month_13":p("13th"),"month_14":p("14th"),"month_15":p("15th")},"author":p("Author:",({"no":{"id":p("Author Identifier {0} is no longer available")},"id":p("Author Identifier")})),"alertname":p("Name of alert:"),"document":p("Document:",({"search":{"tip":p("Search for all articles by this author")}})),"privacy":{"link":p("Privacy Policy",({"open":p("Privacy Policy (Opens in a new window)")}))},"loading":{"text":p("loading ..")},"results":{"go":p("Go")},"required":{"fields":p("=&nbsp;Required fields")},"frequency":{"sixmonths":p("Every six months"),"week":p("Every week"),"month":p("Every month"),"twoweeks":p("Every two weeks"),"twomonths":p("Every two months"),"day":p("Every day"),"threemonths":p("Every three months"),"on":{"the":{"day":p("on the")},"day":p("on")}}},"update":{"title":{"search":p("Edit a Search Alert"),"author":p("Edit an Author Citation Alert"),"document":p("Edit a Document Citation Alert")}},"create":{"title":{"search":p("Save a Search Alert"),"author":p("Set Author Citation Alert"),"document":p("Set Document Citation Alert")}},"my":{"nav":{"search":p("Search alerts",({"alt":p("Search alerts ")})),"author":p("Author citation alerts",({"alt":p("Author citation alerts")})),"document":p("Document citation alerts",({"alt":p("Document citation alerts")})),"manage":p("Manage the alerts you have set in Scopus.")},"list":{"view":{"results":p("Check for new results since {0}",({"alt":p("Retrieve new results since the last run")}))},"edit":{"alt":p("Edit alert")},"author":{"no":{"id":p("ID is no longer available")}},"delete":{"alt":p("Click to delete alert")}},"empty":{"new":{"search":p("Set new search alert",({"alt":p("Set new search alert")})),"author":p("Set new author citation alert",({"alt":p("Set new author citation alert")})),"document":p("Set new document citation alert",({"alt":p("Set new document citation alert")}))},"none":{"search":p("No Search Alerts have been set, click on {0} to set a new alert."),"author":p("No Author Citation Alerts have been set, click on {0} to set a new alert."),"document":p("No Document Citation Alerts have been set, click on {0} to set a new alert.")}}},"message":{"author":{"newalert":p("Your Author citation alert has been saved in 'Alerts'.")},"document":{"newalert":p("Your Document citation alert has been saved in 'Alerts'.")},"record":{"newalert":p("Your Document citation alert has been saved in 'Alerts'.")},"setup":{"search":{"edit":p("<h2 class=\"txtLarge infoText marginB5\">You have edited the search for this Alert. <\/h2><ol><li>Click '{0}' to save this change to your Search alert.<\/li><\/ol><div class=\"hr\" style=\"width:746px;\"><hr/><\/div><br>")}},"results":{"newalert":p("Your Search alert has been saved in 'Alerts'.")}},"error":{"popup":{"duplicate":{"exists":p("<span class=\"errorCntTxt\">Alert name exists. Please choose a unique alert name or  select 'Set Alert' to overwrite existing alert.<\/span>")}},"exists":{"setalert":{"js":p("Alert name exists. Please enter a unique alert name or  select 'Set Alert' to overwrite existing alert.")},"js":p("The name you have chosen for this alert already exists.\\nDo you want to replace it?")},"mandatory":{"setalertpopup":{"js":p("<span class=\"errorCntTxt\">You must enter all required fields.<\/span>")},"setalert":{"js":p("You must enter all required fields.")},"js":p("You have not provided mandatory information.\\r\\nPlease complete all required (*) fields and click Save.")}}},"ALERT_COMMON_FOOTER":p("Note: Results from CSA Illumina are not included in this e-mail alert. Your results list on Scopus for this e-mail alert can contain not only newly published documents, but also newly added archive material with an earlier publication date."),"ALERT_AUTHOR_HTML_RESULTS_1":p("First 25 of {0} results"),"ALERT_DOCUMENT_TEXT_PREVIOUS":p("Your previous alert for {0} was sent on {1}"),"ALERT_AUTHOR_HTML_RESULTS_2":p("{0} results"),"SETALERT_LOGIN_MORE_LOGIN_OPT_TOOLTIP":p("More login options"),"ALERT_AUTHOR_HTML_RESULTS_3":p("{0} result"),"ALERT_AUTHOR_QUERY":p("This alert is based on the following query:"),"alert_error_author_delete_js":p("No Author Citation Alerts were selected.\\r\\nPlease check one or more Author Citation Alerts from the list below and click delete."),"ALERT_DOCUMENT_HTML_HEADING":p("Document Citation alert:"),"ALERTCONF_COPYRIGHT":p("Copyright © {0} <a href=\"../../https@www.elsevier.com\">Elsevier B.V.<\/a> All rights reserved. Scopus ®  is a registered trademark of Elsevier B.V."),"ALERT_AUTHOR_UNAVAILABLE":p("Unavailable"),"ALERT_SEARCH_HTML_TITLE":p("Search Alert:"),"MAILALERT_YOUR":p("Your query :"),"ALERT_AUTHOR_HTML_FOOTER_ALERTID":p("Alert ID: "),"ALERTCONF_ELSEVIER":p("Elsevier respects your privacy and does not disclose, rent or sell your personal information to any non-affiliated third parties without your consent, except as may be stated in the <a href=\"../../https@www.elsevier.com/locate/privacypolicy\">Online Privacy Policy<\/a> . By using the Scopus alerts, you are agreeing to abide by the <a href=\"../../https@www.elsevier.com/locate/termsandconditions\">Terms and Conditions<\/a> ."),"JS_MSG_ALERTS_UNSUBSCRIBE_INVALIS_EMAIL":p("An invalid e-mail address was entered in the E-mail Address field.\r\nPlease check and correct the following email address: {0}"),"ALERT_AUTHOR_HEADING":p("Scopus author citation alert"),"alert_my_list_delete":p("Delete"),"alert_error_delete_js":p("No Search Alerts were selected.\\r\\nPlease check one or more Search Alerts from the list below and click delete."),"ALERTTEXT_AUTHALERT":p("Author citation alert"),"ALERT_DOCUMENT_TEXT_CITE":p("Document Citation Alert for:"),"ALERTUNSUB_RECIPIENTDOC":p("Recipient has declined Document citation alert"),"SETALERT_LOGIN_COLLAPSE_LOGIN_OPT_TOOLTIP":p("Collapse options")})})();;(function(){function r(val,args){for(var x=0;x<args.length;x++){val=val.replace('{'+x+'}',args[x]);}
return val;}
function p(){var val=arguments[0];var ret;if(val.indexOf('{0}')!=-1)
ret=function(){return r(val,arguments);}
else ret=function(){return val;}
for(var x=1;x<arguments.length;x++){for(var a in arguments[x])
ret[a]=arguments[x][a];}
return ret;}
window.error=({"js":{"message":{"search":{"syntax":{"clear":{"icon":p("Clear input field ")},"orcid":{"format":{"message":p("To search using ORCID, please use a 16 digit (alpha) numerical value.")}}},"error":{"invalid":{"syntax":p("<span>The search contains a syntax error.<\/span>")}}}}}})})();function writeXmlHttpRequestCookie()
{document.cookie="xmlHttpRequest=true; path=/";}
jQuery(writeXmlHttpRequestCookie);function internalServerErrorHandler(request){if(request.getResponseHeader("sessionExpired")=="true")
{window.location="../standard/sessionexpired.uri";}}
function selectAllAlerts(form)
{var count=0;var check=form.selectAll.checked;for(var i=0;i<form.elements.length;i++)
{if(form.elements[i].name=="alerts")
{if(check&&form.elements[i].name!="selectAll"&&form.elements[i].type=="checkbox"){form.elements[i].checked=true;count++;}else{form.elements[i].checked=false;}}}
if(check)
{form.deletecount.value=count.toString();}
else
{form.deletecount.value="0";}
return true;}
function updateCheckedCount(form,checkbox)
{var currentCount=parseInt(form.deletecount.value);if(checkbox.checked)
{currentCount++;var totalCount=parseInt(form.totalcount.value);if(totalCount==currentCount){form.selectAll.checked=true;}}
else
{currentCount--;if(form.selectAll.checked){form.selectAll.checked=false;}}
form.deletecount.value=currentCount.toString();}
function setDeleteBtnText(btn,text)
{btn.alt="Delete the "+btn.form.deletecount.value+" selected "+text+" alerts";btn.title="Delete the "+btn.form.deletecount.value+" selected "+text+" alerts";}
function validateDelete(form)
{var checkedCount=0;for(var i=0;i<form.elements.length;i++)
{if(form.elements[i].checked&&form.elements[i].name=="alerts")
{checkedCount++;}}
if(checkedCount==0)
{if(form.elements['type'].value=="document"){alert(messages.alert_cite_error_delete_js());}else if(form.elements['type'].value=="authcite"){alert(messages.alert_author_error_delete_js());}else{alert(messages.alert_error_delete_js());}
return false;}
else if(checkedCount==1)
{return confirm(messages.alert_message_delete_one_js());}
else
{return confirm(messages.alert_message_delete_many_js());}}
function toggleStatus(obj,alertID,status){var closestUL=jQuery(obj).closest('li').parent();var url='../alert/submit/status.uri';var queryString="@alerts="+alertID+"&status="+status+"";url=url+queryString;jQuery.ajax({url:url,type:"get",success:function(){if(status=='SA'){closestUL.addClass('myAlertDisabled');obj.onclick=function(){toggleStatus(this,alertID,'SI');}
jQuery(obj).attr('title',alertProp.alert_my_list_status_inactive_alt());jQuery(obj).attr('aria-label',alertProp.alert_my_list_status_inactive_alt());obj.innerHTML=alertProp.alert_my_list_status_inactive();}else{closestUL.removeClass('myAlertDisabled');obj.onclick=function(){toggleStatus(this,alertID,'SA');}
jQuery(obj).attr('title',alertProp.alert_my_list_status_active_alt());jQuery(obj).attr('aria-label',alertProp.alert_my_list_status_active_alt());obj.innerHTML=alertProp.alert_my_list_status_active();}}});}
jQuery('document').ready(function(){setinitialValuesonTextArea();if(jQuery("#confirmMsgContainer,#errorMsgContainer,#warningMsgContainer,#infoMsgContainer,#orcidErrorMsgContainer,#txtZoneInfoMsgContainer,#confirmMsgContainerDiv,#erroMsgDiv").length){jQuery('.ariaHidden').focus();}
if(jQuery('#showRemoteAccessLnk').length){setRemoteAccessLnk();}});function setinitialValuesonTextArea(){jQuery('#emailAddressTextarea').off('keydown').on('keydown',function(e){var textAr=jQuery('#emailAddressTextarea').val();if(e.which==186||e.which==59){insertAtCaret('emailAddressTextarea',';\n');jQuery('#emailAddressTextarea').val(textAr+';\n');jQuery('#emailAddressTextarea').attr('rows',Number(jQuery('#emailAddressTextarea').attr('rows'))+1);e.preventDefault();setSelectionRange(jQuery('#emailAddressTextarea')[0],jQuery('#emailAddressTextarea').val().length,jQuery('#emailAddressTextarea').val().length);}
if(e.which==13){if(textAr.substr(textAr.length-1,textAr.length)!=';'){jQuery('#emailAddressTextarea').val(jQuery('#emailAddressTextarea').val()+';');jQuery('#emailAddressTextarea').attr('rows',Number(jQuery('#emailAddressTextarea').attr('rows'))+1);}
setSelectionRange(jQuery('#emailAddressTextarea')[0],jQuery('#emailAddressTextarea').val().length,jQuery('#emailAddressTextarea').val().length);}
if(textAr.substr(textAr.length-1,textAr.length)==';'&&e.which==186){e.preventDefault();}});jQuery('#emailAddressTextarea').off('keyup').on('keyup',function(e){resizeTxtArea();});jQuery('#frequency').bind('change',function(){setFrequency('change');});jQuery('#alertfrequencymonth #dayOfUnit').bind('change',function(){if(jQuery('#frequency').parents('.listItemLinkRow').css('visibility')=="visible"){$('#frequency').parents('li.lstRowHover').addClass('listItemHover');$('#frequency').parents('li.lstRowHover').attr('data-hover','true');}});jQuery('#alertfrequency #dayOfUnit').bind('change',function(){if(jQuery('#frequency').parents('.listItemLinkRow').css('visibility')=="visible"){$('#frequency').parents('li.lstRowHover').addClass('listItemHover');$('#frequency').parents('li.lstRowHover').attr('data-hover','true');}});if(jQuery('#emailAddressTextarea')[0]){jQuery('body').append('<div class="hiddenDiv" style="position:absolute;display:none;z-index:-100;top:0;visibility:hidden;"></div>');setFrequency('');resizeTxtArea('load');}}
function setSelectionRange(input,selectionStart,selectionEnd){if(input.setSelectionRange){input.focus();input.setSelectionRange(selectionStart,selectionEnd);}else if(input.createTextRange){var range=input.createTextRange();range.collapse(true);range.moveEnd('character',selectionEnd);range.moveStart('character',selectionStart);range.select();}}
function insertAtCaret(areaId,text){var txtarea=document.getElementById(areaId);var scrollPos=txtarea.scrollTop;var strPos=0;var br=((txtarea.selectionStart||txtarea.selectionStart=='0')?"ff":(document.selection?"ie":false));if(br=="ie"){txtarea.focus();var range=document.selection.createRange();range.moveStart('character',-txtarea.value.length);strPos=range.text.length;}else if(br=="ff")strPos=txtarea.selectionStart;var front=(txtarea.value).substring(0,strPos);var back=(txtarea.value).substring(strPos,txtarea.value.length);txtarea.value=front+text+back;strPos=strPos+text.length;if(br=="ie"){txtarea.focus();var range=txtarea.createTextRange();range.collapse(true);range.moveStart('character',-txtarea.value.length);range.moveStart('character',strPos);range.moveEnd('character',0);range.select();}else if(br=="ff"){txtarea.selectionStart=strPos;txtarea.selectionEnd=strPos;txtarea.focus();}
txtarea.scrollTop=scrollPos;}
function resizeTxtArea(type){content=jQuery('#emailAddressTextarea').val();if(type=='load'){content=content.replace(/;/g,";\n");}
jQuery('#emailAddressTextarea').val(content);content=content.replace(/\n/g,'<br>&nbsp;');jQuery('.hiddenDiv').html(content);jQuery('.hiddenDiv').css({'display':'block'});if(jQuery('.hiddenDiv').height()>=55){jQuery('#emailAddressTextarea').css('height',jQuery('.hiddenDiv').height());jQuery('.hiddenDiv').css({'display':'none'});jQuery('#emailAddressTextarea').height(jQuery('#emailAddressTextarea')[0].scrollHeight);}else{jQuery('#emailAddressTextarea').height(55);}}
function confirmAlertDelete(obj){var msg=alertProp.alert_message_delete_specific_js(jQuery.trim(jQuery(obj).parents('tr.alertListData').find('td.dataCol3 div,td.dataCol11 div').text()));var del=confirm(msg);if(!del){return false;}}
function setFrequency(evtType){var d=new Date();var currentDay=d.getDay();var currentDayofMonth=d.getDate();var currentdayforalerts=currentDay+1;if(evtType=='change'||jQuery("input[name='mode']").val()=='C'){jQuery("#alertfrequency option[value='"+currentdayforalerts+"']").attr('selected','selected');jQuery("#alertfrequencymonth option[value='"+currentDayofMonth+"']").attr('selected','selected');if(jQuery('#frequency').parents('.listItemLinkRow').css('visibility')=="visible"){$('#frequency').parents('li.lstRowHover').addClass('listItemHover');$('#frequency').parents('li.lstRowHover').attr('data-hover','true');}}
var frqVal=jQuery('#frequency').val();if(frqVal=='daily'){jQuery('#alertfrequency').hide();jQuery('#alertfrequencymonth').hide();}else if(frqVal=='weekly'||frqVal=='bi_weekly'){jQuery('#alertfrequency').show();jQuery('#alertfrequencymonth').hide();jQuery('select',jQuery('#alertfrequency')).attr('name','dayOfUnit');jQuery('select',jQuery('#alertfrequencymonth')).attr('name','');}else if(frqVal=='monthly'||frqVal=='ebi_monthly'||frqVal=='tri_monthly'||frqVal=='half_a_year'){jQuery('#alertfrequency').hide();jQuery('#alertfrequencymonth').show();jQuery('select',jQuery('#alertfrequency')).attr('name','');jQuery('select',jQuery('#alertfrequencymonth')).attr('name','dayOfUnit');}}
function validateAction(form,action)
{if(action=='inactivate'){return confirm(alertProp.alert_error_inactivate_js());}else if(action=='delete'){return confirm(alertProp.alert_message_delete_one_js());}else{return false;}}
jQuery('a#searchAnchor').click(function(e){if(jQuery('div#searchAlertsDiv').is(':visible')){e.preventDefault();jQuery('html, body').animate({scrollTop:150},0);}});jQuery('a#authorAnchor').click(function(e){if(jQuery('div#authorAlertsDiv').is(':visible')){e.preventDefault();jQuery('html,body').animate({scrollTop:jQuery('div#authorAlertsDiv').offset().top-150},0);}});jQuery('a#docAnchor').click(function(e){if(jQuery('div#docAlertsDiv').is(':visible')){e.preventDefault();jQuery('html,body').animate({scrollTop:jQuery('div#docAlertsDiv').offset().top-150},0);}});jQuery.fn.outerHTML=function(s){if(this.length==0)return false;var elem=this[0],name=elem.tagName.toLowerCase();if(elem.outerHTML)return elem.outerHTML;var attrs=jQuery.map(elem.attributes,function(i){return i.name+'="'+i.value+'"';});return"<"+name+(attrs.length>0?" "+attrs.join(" "):"")+">"+elem.innerHTML+"</"+name+">";};function setRemoteAccessLnk(){var getRemoteAccessLnk=jQuery('a#logout-remote-access').parent().outerHTML();jQuery('#showRemoteAccessLnk').html(getRemoteAccessLnk);}
var CitOver={currentPage:'',sourceInfoId:'',loadingObj:'<div class="potentialAffilLoad"><span class="loading"></span></div>',addLoadingImage:function(){jQuery('#dialogBigCTO').html('');jQuery('#dialogBigCTO').append(CitOver.loadingObj);jQuery('#dialogBigCTO').dialog({modal:true});jQuery(".ui-dialog-titlebar").css("visibility","hidden");if(isIE8){jQuery("#outerWrapper").addClass('bigCTOOverlay');}},validateYearRange:function(){jQuery('#ctoWarningErrorContainer').remove();var startYear=jQuery('#startYear').val();var endYear=jQuery('#endYear').val();if(parseInt(startYear)>parseInt(endYear))
{CitOver.removeMessages();var yearDiffWaring=jQuery('<div>').attr({'id':'warningMsgContainer','role':'alert','aria-live':'assertive'});yearDiffWaring.html('<span class="ariaHidden">Warning message</span>');yearDiffWaring.append('<span>'+messages.YEAR_RANGE_REVERSE_SELECTION()+'</span>');var yearDiffWaringContainer=jQuery('<div>').attr({'id':'ctoWarningErrorContainer','role':'alert'});yearDiffWaringContainer.html(yearDiffWaring).insertBefore("#ctoMainHeader");jQuery(document).scrollTop('#ctoWarningErrorContainer');return false;}
if((parseInt(endYear)-parseInt(startYear))>maxYearRange)
{CitOver.removeMessages();var yearDiffWaring=jQuery('<div>').attr({'id':'warningMsgContainer','role':'alert','aria-live':'assertive'});yearDiffWaring.html('<span class="ariaHidden">Warning message</span>');yearDiffWaring.append('<span>'+messages.SELECTED_YEAR_MORE(maxYearRange,maxYearRange)+'</span>');var yearDiffWaringContainer=jQuery('<div>').attr({'id':'ctoWarningErrorContainer','role':'alert'});yearDiffWaringContainer.html(yearDiffWaring).insertBefore("#ctoMainHeader");jQuery(document).scrollTop('#ctoWarningErrorContainer');return false;}
return true;},submitForm:function(){jQuery('docsPerPage').val(docs_per_page);},viewCitationOverviewSearchResults:function(){jQuery('form[name=SearchResultsForm] input[name=clickedLink]').val('CTOListButton');CitOver.currentPage='searchResults';CitOver.addLoadingImage();var frm=jQuery('#searchResFormId');jQuery.ajax({url:frm.attr('action'),type:frm.attr('method'),dataType:"text",data:frm.serialize(),success:function(data){CitOver.confirmCTOOrBigCTO(data);}});},viewCitationOverviewAuthorDetails:function(clickedObj){CitOver.currentPage='authorDetails';CitOver.addLoadingImage();var ctoHrefId='#cto2Href';if(clickedObj=='grouped'){ctoHrefId='#groupedCTO2Href';}
var authorCTOURL=jQuery(ctoHrefId).html();authorCTOURL=authorCTOURL.replace(/&amp;/g,'&');jQuery.ajax({url:authorCTOURL,type:'GET',success:function(data){window.location=data.url;}});},ViewCitationOverviewAuthorResults:function(){CitOver.currentPage='authorResults';CitOver.addLoadingImage();var frm=jQuery('#authorResultsFormId');frm.find('input[name=clickedLink]').val('CitationOverviewButton');jQuery.ajax({url:frm.attr('action'),type:frm.attr('method'),dataType:"text",data:frm.serialize(),success:CitOver.confirmCTOOrBigCTO});},ViewCitationOverviewSourceInfo:function(event){CitOver.currentPage='sourceInfo';event.preventDefault();var sourceId=event.target.id;CitOver.sourceInfoId=sourceId;CitOver.addLoadingImage();var sourceURL=jQuery('#'+sourceId).attr('data');jQuery.ajax({url:sourceURL,type:'GET',success:function(data){if(!jQuery.isPlainObject(data)){if(data.indexOf('CTOBatchRequestForm')>-1){CitOver.displayBigCTODialog(data);}else{jQuery("#dialogBigCTO").dialog("close");CitOver.removeMessages();}}else if(data.hasOwnProperty("CTO_EXCEEDED_ACK_LINK")){var proceedToCto=confirm(data.CTO_EXCEEDED_ACK_MESSAGE);if(proceedToCto){CitOver.ViewCitationOverviewSourceInfoAcked(event,data.CTO_EXCEEDED_ACK_LINK);}else{jQuery("#dialogBigCTO").dialog("close");}}else{window.location=data.url;}}});},ViewCitationOverviewSourceInfoAcked:function(event,targetURL){jQuery.ajax({url:targetURL,type:'GET',success:function(data){if(!jQuery.isPlainObject(data)){if(data.indexOf('CTOBatchRequestForm')>-1){CitOver.displayBigCTODialog(data);}else{jQuery("#dialogBigCTO").dialog("close");CitOver.removeMessages();}}}});},displayBigCTODialog:function(data){jQuery("#dialogBigCTO").dialog("close");jQuery('#dialogBigCTO').html('');jQuery('#dialogBigCTO').append(data);jQuery('#dialogBigCTO').dialog({modal:true,position:'center',width:'630',close:CitOver.dialogCloseEvent});if(isIE8){jQuery("#outerWrapper").addClass('bigCTOOverlay');}
jQuery('#dialogBigCTO').closest('div.ui-dialog').removeClass('ui-widget');jQuery(".ui-dialog-titlebar").css("visibility","hidden");var emailMessage=jQuery('#emailDefaultValue').html();jQuery('#emailCTO').searchForPlaceholder({left:{enabled:true,value:emailMessage,type:"simple",classes:"searchForTxt"},right:{enabled:false}});jQuery('#startYearDail-button').remove();jQuery('#endYearDialDiabled-button').remove();if(!isIE7){jQuery('select.selectStartYear').selectmenu({appendTo:jQuery(this).next()});jQuery('select.selectEndYear').selectmenu({appendTo:jQuery(this).next()});}},bigCTORequestSubmit:function(event){if(!jQuery('#batchRequest').hasClass('bigCtoBtnDisable')){var errorOccured=CitOver.bigCTOFormValidation();if(errorOccured){jQuery('form[name=CTOBatchRequestForm] input[name=clickedLink]').val('REQUEST');var emailObj=jQuery("#emailCTO");emailObj.val(emailObj.val().replace(/\s/g,''));var frm=jQuery('#batchRequestForm');jQuery.ajax({url:frm.attr('action'),type:frm.attr('method'),dataType:"text",data:frm.serialize(),success:function(data){var bigCTOConfMess=jQuery('#bigCTOConfirmationMessage').html();bigCTOConfMess=bigCTOConfMess.replace('{0}',emailObj.val());var addTo='';if(CitOver.currentPage=='sourceInfo'){addTo='sciverseCanvasArea';}else if(CitOver.currentPage=='searchResults'){addTo='clusterMessages';}else if(CitOver.currentPage=='authorResults'){addTo='authorResultsFormId';}else{addTo='ctoMainHeader';}
CitOver.buildConfirmationMessage(addTo,bigCTOConfMess);}});CitOver.closeBigCTODialog(event);}
return false;}else{event.preventDefault();}},closeBigCTODialog:function(event){jQuery('form[name=SearchResultsForm] input[name=clickedLink]').val('');var frm=jQuery('#updateOverviewForm');if(frm.length>0){jQuery.ajax({url:frm.attr('action'),type:frm.attr('method'),dataType:"text",data:frm.serialize(),async:false,success:function(response){CitOver.ctoPageReset(jQuery.parseJSON(response).sucess);}});}
jQuery('#dialogBigCTO').dialog('close');if(isIE8){jQuery("#outerWrapper").removeClass('bigCTOOverlay');}
if(event.target.id=='closeBigCTODialog'){event.preventDefault();if(CitOver.currentPage=='searchResults'){jQuery('#ctoDocResultLink').focus();}else if(CitOver.currentPage=='authorResults'){jQuery('#ctoAuthorResultLink').focus();}}},bigCTOFormValidation:function(){var notErrorOccurred=true;CitOver.removeMessages();notErrorOccurred=CitOver.emailValidation('bigCTOErrorDiv');var startYear=jQuery('#startYearDial').val();var endYear=jQuery('#endYearDial').val();var maxYearRange=parseInt(jQuery('#maxYearRange').html());var isYearNotValid=false;var yearErrorMessage;if(startYear>endYear){yearErrorMessage=jQuery('#yearRangeReverseSelection').html();notErrorOccurred=false;isYearNotValid=true;}else if(endYear-startYear>maxYearRange){yearErrorMessage=jQuery('#yearRangeSelectedMore').html();notErrorOccurred=false;isYearNotValid=true;}
if(isYearNotValid){var yearWarningMessage=jQuery('<div>').attr({'id':'warningMsgContainer','role':'alert','aria-live':'assertive'});yearWarningMessage.html('<span class="ariaHidden">Warning message</span>');yearWarningMessage.append('<span>'+yearErrorMessage+'</span>');jQuery('#bigCTOErrorDiv').append(yearWarningMessage);}
return notErrorOccurred;},ctoPageReset:function(data){var params=CitOver.getLongLoadingParams();scopusTab.showHideLoading(params);data.isPageReset=true;jQuery("#startYear option[value="+start_year+"]").attr("selected","selected");jQuery('span#startYear-button ui-selectmenu-text').attr('data-val',start_year).html(start_year);jQuery("#endYear option[value="+end_year+"]").attr("selected","selected");jQuery('span#endYear-button ui-selectmenu-text').attr('data-val',end_year).html(end_year);jQuery("#updateOverviewBox input:checkbox:checked").click();CitOver.ctoPageLoading(data);if(data.excludeAuthors){jQuery("#excludeAuthorsBox").prop("checked",true);selectSelfBox();}
else if(data.excludeArticleAuthors){jQuery("#excludeArticleAuthorsBox").prop("checked",true);selectAllBox();}
else if(data.excludeBooks){jQuery("#excludeBooksBox").prop("checked",true);selectBooksBox();}},emailValidation:function(){var isValid=true;var emailAddress=jQuery("#emailCTO").val();emailAddress=emailAddress.replace(/;/g,',');var multipleMailAddress=emailAddress.split(',');var mailformat=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;var msg=jQuery('#emailValidationError').html();jQuery.each(multipleMailAddress,function(index,mail){var mailId=mail.trim();var noOfAt=(mailId.match(/@/g)||[]).length;if(!assertNotEmptyString(mailId)||noOfAt!==1||!mailformat.test(mailId)){isValid=false;return false;}});if(isValid){return true;}else{CitOver.removeMessages();var emailMessage=jQuery('<div>').attr({'id':'errorMsgContainer','role':'alert'});emailMessage.html('<span class="ariaHidden hidden-label">Error message.</span>');emailMessage.append('<span>'+msg+'</span>');jQuery('#bigCTOErrorDiv').append(emailMessage);return false;}},removeMessages:function(){var errorMessage=jQuery('#errorMsgContainer');if(errorMessage.length>0){jQuery(errorMessage).remove();}
var warningMessageObj=jQuery('#warningMsgContainer');if(warningMessageObj.length>0){jQuery(warningMessageObj).remove();}
var confirmationMessage=jQuery('#confirmMsgContainer');if(confirmationMessage.length>0){jQuery(confirmationMessage).remove();}
var errorContainerSer=jQuery('#cto_server_messages');if(errorContainerSer.length>0){jQuery(errorContainerSer).remove();}
var errorContainerBigCTO=jQuery('#bigCTORequestExceeded');if(errorContainerBigCTO.length>0){jQuery(errorContainerBigCTO).remove();}},confirmCTOOrBigCTO:function(data){if(data.indexOf('CTOBatchRequestForm')>-1){jQuery('#dialogBigCTO').html('');jQuery('#dialogBigCTO').append('<span class="hidden-label">dialog</span>');jQuery('#dialogBigCTO').append(data);jQuery('#dialogBigCTO').dialog({modal:true,position:'center',width:'630',close:CitOver.dialogCloseEvent});if(isIE8){jQuery("#outerWrapper").addClass('bigCTOOverlay');}
jQuery('#dialogBigCTO').closest('div.ui-dialog').removeClass('ui-widget');jQuery('#dialogBigCTO').closest('div.ui-dialog').attr('role','');jQuery(".ui-dialog-titlebar").css("visibility","hidden");var emailMessage=jQuery('#emailDefaultValue').html();jQuery('#emailCTO').searchForPlaceholder({left:{enabled:true,value:emailMessage,type:"simple",classes:"searchForTxt"},right:{enabled:false}});jQuery('#startYearDial-button').remove();jQuery('#endYearDialDiabled-button').remove();if(!isIE7){jQuery('select.selectStartYear, select.selectEndYear').selectmenu({appendTo:jQuery(this).next()});}}else if(data.indexOf('bigCTORequestExceeded')>-1){CitOver.removeMessages();var addTo='';if(CitOver.currentPage=='sourceInfo'){addTo='sciverseCanvasArea';}else if(CitOver.currentPage=='searchResults'){addTo='clusterMessages';}else if(CitOver.currentPage=='authorResults'){addTo='authorResultsFormId';}else{addTo='ctoMainHeader';}
jQuery('#'+addTo).before(data);}
else{var jsonObject=jQuery.parseJSON(data);window.location=jsonObject.url;}},dialogCloseEvent:function(){if(isIE8){jQuery("#outerWrapper").removeClass('bigCTOOverlay');}},drawHighChart:function(chartResponse){var chartArray=[];for(var x=0;x<chartResponse.length;x++){chartArray.push(jQuery.parseJSON(chartResponse[x]));}
jQuery('#highChart').highcharts({title:{text:'',style:{'display':'none'}},yAxis:{min:0,title:{text:messages.JS_MSG_HIGHCHART_Y_TITLE(),style:{"fontWeight":"bold"}},labels:{formatter:function(){return this.value;}}},xAxis:{categories:['abc'],title:{text:messages.JS_MSG_HIGHCHART_X_TITLE(),style:{"fontWeight":"bold"}},tickInterval:1,labels:{formatter:function(){return this.value;}}},chart:{type:'line'},tooltip:{formatter:function(){var s=this.x;var bgColor=this.points[0].series.color;jQuery.each(this.points,function(i,point){s='<div style="border-color:'+bgColor+';" class="chartTooltipWraper"><div class="primInfoToolTip">'+s+'</div><div class="secInfoToolTip">'+point.y+' '+messages.JS_MSG_HIGHCHART_Y_TITLE()+'</div>'+'<div class="clktoViewTooltip">'+messages.JS_CTO_CHART_DATA_INS_TOOLTIP()+'</div></div>';});return s;},shared:true,shadow:false,useHTML:true,borderWidth:0,backgroundColor:null,style:{padding:0}},exporting:{enabled:false},series:[{data:chartArray,point:{events:{click:function(){var someURL=this.options.url;if(someURL&&this.y!=0){window.open(someURL,"_self");}}}},color:'#496C92'}],credits:{enabled:false},legend:{enabled:false}});},exportConfirmation:function(){CitOver.removeMessages();var exportConfirmationMess=messages.EXPORT_SUCESS_MSG();CitOver.buildConfirmationMessage('cto_messages',exportConfirmationMess);},buildConfirmationMessage:function(appendTo,message){var bigCTOConfirmation=jQuery('<div>').attr({'id':'confirmMsgContainer','role':'alert','aria-live':'assertive'});bigCTOConfirmation.html('<span class="ariaHidden">Confirmation message.</span>');bigCTOConfirmation.append('<span>'+message+'</span>');jQuery('#'+appendTo).before(bigCTOConfirmation);if(typeof CitOver.currentPage!=='undefined'&&CitOver.currentPage==='sourceInfo'){var confObj=jQuery('#confirmMsgContainer');confObj.append("<a title='close' aria-label='close' data-dismiss='alert' class='iconSmall close' href='#'><span class='hidden-label'>Close</span>&nbsp;</a>");confObj.addClass('alert');}},jumpToPageNumericValidation:function(e){var isNS=(navigator.appName=="Netscape")?1:0;var key;if(!isNS){key=e.keyCode;}else{key=e.which;}
if(key==8||key==0||key==9){return true;}else if(key>47&&key<58){return true;}else if(key==13){var pageVal=jQuery('#pageStatus').val();if(pageVal==''){return false;}
pageVal=parseInt(pageVal);var totalPageNumber=Math.ceil(number_of_docs/docs_per_page);if(totalPageNumber<=1){return false;}
var currPage=jQuery('#pageStatus').attr('data-value');if(currPage==pageVal){return false;}
if(pageVal>=totalPageNumber){pageVal=totalPageNumber-1;}
else{pageVal=pageVal-1;}
if(pageVal<=0){pageVal=0;}
var newOffset=pageVal*docs_per_page;updateDetails(newOffset,docs_per_page);var maxNumberInpage=newOffset+docs_per_page;if(maxNumberInpage>999){jQuery('#detailsHeaderLeftColumn').css('width','478px');}else if(maxNumberInpage>99){jQuery('#detailsHeaderLeftColumn').css('width','471px');}else{if(docs_per_page>99&&number_of_docs>99){jQuery('#detailsHeaderLeftColumn').css('width','471px');}else{jQuery('#detailsHeaderLeftColumn').css('width','464px');}}}
return false;},updatePagination:function(offset,docs_per_page,number_of_docs){var calPageNumber=Math.round(offset/docs_per_page)+1;jQuery('#pageStatus').attr('data-value',calPageNumber);jQuery('#pageStatus').val(calPageNumber);jQuery('#totalPages').html('../ '+Math.ceil(number_of_docs/docs_per_page));},sortNavItemClick:function(event){event.preventDefault();var selectedNav=event.target.id;CitOver.sortFieldSub(selectedNav,'sort',document.CTOForm);Bubble.forceHideAll(event);return false;},sortFieldSub:function(sortValue,sortFieldName,form){jQuery("#sortType").val(sortValue);jQuery('#startYear').val(start_year);jQuery('#endYear').val(end_year);jQuery("form[name='CTOForm'] input[name='excludeArticleAuthors']").val(all_author_exclusion?'on':'off');jQuery("form[name='CTOForm'] input[name='excludeBooks']").val(books_exclusion?'on':'off');jQuery("form[name='CTOForm'] input[name='excludeAuthors']").val(author_self_citation?'on':'off');jQuery('#sortMainNav').remove();jQuery('#showSortBubble-data').remove();CitOver.ctoUpdateEvent(false);CitOver.docSortInit();},docSortInit:function(){var plf_f_Value=ctoDocSort?ctoDocSort.CTOSORT_FIELD_DATENEW():"";var plf_f_title=ctoDocSort?ctoDocSort.CTOSORT_FIELD_DATENEW_TITLE():"";var cp_f_Value=ctoDocSort?ctoDocSort.CTOSORT_FIELD_CITEDBYDES():"";var cp_f_title=ctoDocSort?ctoDocSort.CTOSORT_FIELD_CITEDBYDES_TITLE():"";var plf_t_Value=ctoDocSort?ctoDocSort.CTOSORT_FIELD_DATEOLD():"";var plf_t_title=ctoDocSort?ctoDocSort.CTOSORT_FIELD_DATEOLD_TITLE():"";var lfp_t_Value=ctoDocSort?ctoDocSort.CTOSORT_FIELD_CITEDBYASC():"";var lfp_t_title=ctoDocSort?ctoDocSort.CTOSORT_FIELD_CITEDBYASC_TITLE():"";SortData.NavItems={primaryNav:[{key:"pubyearDescend",value:plf_f_Value,title:plf_f_title},{key:"citationDescend",value:cp_f_Value,title:cp_f_title}],secondaryNav:[{key:"pubyearAscend",value:plf_t_Value,title:plf_t_title},{key:"citationAscend",value:lfp_t_Value,title:lfp_t_title}],otherTitle:ctoDocSort?ctoDocSort.CTOSORT_FIELD_OTHER_TITLE():""};SortData.sortNavClick=CitOver.sortNavItemClick;SortData.selectedNav=jQuery("#sortType").val();SortData.buildNav(false);},totalLoadingImageAndTable:function(){var getDetailsTableTopPos=jQuery('#deleteTotal').offset().top;var getDeleteTotalPos=jQuery('#deleteTotal').offset().left;var startYear=jQuery('#startYear').val();var endYear=jQuery('#endYear').val();jQuery("#detailsTableWrapper").css({'width':820+(endYear-startYear+1)*55+'px'});var loadingWidth;if(latest_year!=end_year){loadingWidth=218+(endYear-startYear+1)*47;}else{loadingWidth=167+(endYear-startYear+1)*47;}
jQuery('#loading').css({'position':'absolute','top':getDetailsTableTopPos,'left':getDeleteTotalPos+30,'display':'none','width':loadingWidth+'px'});if(jQuery("#cto_loading_status").length!=0){jQuery("#cto_loading_status").css({'left':((706+(endYear-startYear+1)*55)-100)/2+'px'});}},init:function(){if(jQuery("#detailsTableWrapper").length!=0){CitOver.totalLoadingImageAndTable();}
jQuery('#batchRequest').live('click',CitOver.bigCTORequestSubmit);jQuery('#closeBigCTODialog').live('click',CitOver.closeBigCTODialog);if(typeof originVal!="undefined"&&originVal!=''&&originVal!='null'){if(originVal==='sourceinfo'){jQuery('.sourceInfoDataCol3 a').live('click',function(event){if(!jQuery(this).hasClass('previewLink')){CitOver.ViewCitationOverviewSourceInfo(event);}});}
if(originVal==='cto'){jQuery('#CTOExport').live('click',CitOver.exportConfirmation);jQuery('input.paginationNum').live('focus',function(){jQuery('span.paginationTxt').css({'visibility':'hidden'});jQuery('input.paginationNum').val('');}).bind('blur',function(){jQuery('span.paginationTxt').css({'visibility':'visible'});jQuery('input.paginationNum').val(jQuery(this).attr('data-value'));});CitOver.docSortInit(false);if(docs_per_page>99&&number_of_docs>99){jQuery('#detailsHeaderLeftColumn').css('width','471px');}}}
jQuery('#pageStatus').keypress(CitOver.jumpToPageNumericValidation);jQuery('select.selectMenu').selectmenu({appendTo:jQuery(this).next()});jQuery('body #CTOWrapper').die("click").on('click',function(e){Bubble.hideAll(e);});jQuery('#cto_details_table tr.columnCTO a').live('focus',function(e){jQuery(e.currentTarget).closest('tbody').find('tr').removeClass('columnCTOFocus');jQuery(e.currentTarget).closest('tr').addClass('columnCTOFocus');});jQuery('#cto_details_table tr.columnCTO').live('hover',function(e){jQuery(e.currentTarget).closest('tbody').find('tr').removeClass('columnCTOFocus');});if(isIE8||isIE9){jQuery('input[name="emailAddress"]').die('keyup.emailCTO').live('keyup.emailCTO',function(){if(jQuery('input[name="emailAddress"]').val()==""){jQuery('input[name="sendBatchCTOButton"]').attr('aria-disabled','true');jQuery('input[name="sendBatchCTOButton"]').addClass('bigCtoBtnDisable');jQuery('input[name="sendBatchCTOButton"]').removeClass('bigCtoBtnEnable');}
else{jQuery('input[name="sendBatchCTOButton"]').attr('aria-disabled','false');jQuery('input[name="sendBatchCTOButton"]').addClass('bigCtoBtnEnable');jQuery('input[name="sendBatchCTOButton"]').removeClass('bigCtoBtnDisable');}});}else
{jQuery('body').off("input.emailCTO").on('input.emailCTO','input[name="emailAddress"]',function(){if(jQuery('input[name="emailAddress"]').val()==""){jQuery('input[name="sendBatchCTOButton"]').attr('aria-disabled','true');jQuery('input[name="sendBatchCTOButton"]').addClass('bigCtoBtnDisable');jQuery('input[name="sendBatchCTOButton"]').removeClass('bigCtoBtnEnable');}
else{jQuery('input[name="sendBatchCTOButton"]').attr('aria-disabled','false');jQuery('input[name="sendBatchCTOButton"]').addClass('bigCtoBtnEnable');jQuery('input[name="sendBatchCTOButton"]').removeClass('bigCtoBtnDisable');}});}},ctoUpdateEvent:function(isUpdate){var isYearValid=false;CitOver.totalLoadingImageAndTable();if(isUpdate){if(jQuery('#exportButtonOn').is(':visible')){jQuery('#exportButtonOn').hide();jQuery('#exportButtonOff').show();}
isYearValid=CitOver.validateYearRange();}
if((isYearValid&&isUpdate)||!isUpdate){totalRowChart=false;drawTableContent=false;isAjaxUpdateBtn=true;toggleButton('updateOverviewButton',false);var params=CitOver.getLongLoadingParams();scopusTab.showHideLoading(params);var frm=jQuery('#updateOverviewForm');jQuery.ajax({url:frm.attr('action'),type:frm.attr('method'),data:frm.serialize(),success:function(response){if(!jQuery.isPlainObject(response)){CitOver.confirmCTOOrBigCTO(response);toggleButton('updateOverviewButton',true);scopusTab.showHideLoading();}else{if(response.hasOwnProperty("sucess")){if(jQuery('#ctoWarningErrorContainer').length>0){jQuery('#ctoWarningErrorContainer').remove();}
if(jQuery('#bigCTORequestExceeded').length>0){jQuery('#bigCTORequestExceeded').remove();}
if(jQuery('#confirmMsgContainer').length>0){jQuery('#confirmMsgContainer').remove();}
var data=response.sucess;CitOver.ctoPageLoading(data);}else{if(jQuery('#ctoWarningErrorContainer').length>0){jQuery('#ctoWarningErrorContainer').remove();}
var data=response.failure;jQuery('#sortMainNav,#showSortBubble-data').remove();jQuery("#sortType").val(data.sortOption);CitOver.docSortInit();CitOver.ctoPageLoading(data);var errMsgKey=data.errorMessage;var errMsg=ctoDoc[errMsgKey]();var errorMsgDivObj=jQuery('<div>').attr({'id':'warningMsgContainer','role':'alert','aria-live':'assertive'});errorMsgDivObj.html('<span class="ariaHidden">Warning message</span>');errorMsgDivObj.append('<span>'+errMsg+'</span>');var errorWarningContainer=jQuery('<div>').attr({'id':'ctoWarningErrorContainer','role':'alert','aria-live':'assertive'});errorWarningContainer.html(errorMsgDivObj).insertBefore("#ctoMainHeader");jQuery(document).scrollTop('#ctoWarningErrorContainer');}}},failure:function(){if(typeof console!="undefined"){console.log('Some problem occured while making ajax');}}});}},ctoDeleteEvent:function(eid,stateKey,origin,authProfileOrgStatus){addEidToCookie(state_key+"checked",eid);var action="/cto2/delete.uri?stateKey="+stateKey+"&origin="+origin;if(authProfileOrgStatus=="true"){action=action+"&authorProfileOrigin=true"}
var params=CitOver.getLongLoadingParams();scopusTab.showHideLoading(params);jQuery.ajax({url:action,type:"GET",success:function(response){if(response.hasOwnProperty("sucess")){if(jQuery('#ctoWarningErrorContainer').length>0){jQuery('#ctoWarningErrorContainer').remove();}
if(jQuery('#bigCTORequestExceeded').length>0){jQuery('#bigCTORequestExceeded').remove();}
if(jQuery('#confirmMsgContainer').length>0){jQuery('#confirmMsgContainer').remove();}
var data=response.sucess;CitOver.updateCitedCount(data.numberOfDocs,data.stateKey);CitOver.ctoPageLoading(data);}else{if(jQuery('#ctoWarningErrorContainer').length>0){jQuery('#ctoWarningErrorContainer').remove();}
var data=response.failure;jQuery('#sortMainNav, #showSortBubble-data').remove();jQuery("#sortType").val(data.sortOption);CitOver.docSortInit();CitOver.ctoPageLoading(data);var errMsgKey=data.errorMessage;var errMsg=ctoDoc[errMsgKey]();var errorMsgDivObj=jQuery('<div>').attr({'id':'warningMsgContainer','role':'alert'});errorMsgDivObj.html('<span class="ariaHidden">Warning message</span>');errorMsgDivObj.append('<span>'+errMsg+'</span>');var errorWarningContainer=jQuery('<div>').attr({'id':'ctoWarningErrorContainer','role':'alert'});errorWarningContainer.html(errorMsgDivObj).insertBefore("#ctoMainHeader");jQuery(document).scrollTop('#ctoWarningErrorContainer');}},failure:function(){if(typeof console!="undefined"){console.log('Some problem occured while making ajax');}}});},updateCitedCount:function(updatedCiteDocs,stateKeyData){var fromPage=jQuery('.citedCountCTO').attr("data-fromPage");switch(fromPage){case'browseSource':jQuery('.citedCountCTO').text(messages.HEAD_THIS_IS_A_46(updatedCiteDocs));break;case'docResults':jQuery('.citedCountCTO').text(messages.HEAD_THISISA_46(updatedCiteDocs));break;case'authResAnalyzeRes':jQuery('.citedCountCTO').text(updatedCiteDocs+' '+messages.MAIN_CITEDDO_68());break;case'authorProfile':jQuery('.citedCountCTO').text(updatedCiteDocs+' '+messages.MAIN_CITEDDO_68());break;default:if(typeof console!='undefined'){console.log('CTO from page undefined');}}
if(jQuery('#hirschButton').length){var hGraphUrl='/cto2/hirsch.uri?stateKey='+stateKeyData+'&amp;documentCount='+updatedCiteDocs;jQuery('#hirschButton').attr('href',hGraphUrl);}},ctoPageLoading:function(data){ctoId=data.ctoId;state_key=data.stateKey;start_year=data.startYear;end_year=data.endYear;latest_year=data.latestYear;all_author_exclusion=data.excludeArticleAuthors;author_self_citation=data.excludeAuthors;books_exclusion=data.excludeBooks;offset=data.offset;number_of_docs=data.numberOfDocs;maxDocNumberForClickableTotals=data.maxNumberForClickableTotals;CitOver.ctoUpdateFormRefresh(data);var ctoDetails=jQuery.get('../cto2/getdetails.uri',{'ctoId':ctoId,'stateKey':state_key,'startYear':start_year,'endYear':end_year,'docsPerPage':docs_per_page,'offset':offset,'usageKELogging':false,'authorProfileOrigin':isAuthorProfileOrigin});ctoDetails.done(function(response){jQuery("#cto_details").html(response);onSuccessDetails(response);}).always(function(response,status,jqXHR){onCompleteDetails(response,status);scopusTab.showHideLoading();});retrieveSummary(freq);if(!data.hasOwnProperty("isPageReset")){CitOver.updateCitationYearHdr();}
CitOver.confirmMsgForExclusion(data);},ctoUpdateFormRefresh:function(data){jQuery("#startYear option[value="+start_year+"]").attr("selected","selected");jQuery('span#startYear-button ui-selectmenu-text').attr('data-val',start_year).html(start_year);jQuery("#endYear option[value="+end_year+"]").attr("selected","selected");jQuery('span#endYear-button ui-selectmenu-text').attr('data-val',end_year).html(end_year);jQuery("#excludeAuthorsBox").prop("checked",author_self_citation);selectSelfBox();jQuery("#excludeArticleAuthorsBox").prop("checked",all_author_exclusion);selectAllBox();jQuery("#excludeBooksBox").prop("checked",books_exclusion);selectBooksBox();},confirmMsgForExclusion:function(data){var confirmMsgContainer=jQuery('<div>').attr({'id':'confirmMsgContainer','class':'confirmMsgContainer','role':'alert','aria-live':'assertive'});var confirmMessage='<span class="ariaHidden">Confirmation message</span>';jQuery('#messagePH').html(confirmMsgContainer);if(data.excludeArticleAuthors==true){var errMsgExcludeArticleAuthors=ctoDoc['JS_MSG_HEAD_SELFCIT_49']();confirmMsgContainer.html(confirmMessage+'<span>'+errMsgExcludeArticleAuthors+'</span>');}
else if(data.excludeBooks==true){var errMsgExcExcludeBooks=ctoDoc['JS_MSG_BOOKS_SELECT_MESSAGE']();confirmMsgContainer.html(confirmMessage+'<span>'+errMsgExcExcludeBooks+'</span>');}
else if(data.excludeAuthors==true){var errMsgExcExcludeAuthors=ctoDoc['JS_MSG_HEAD_AREEXCL_51']();confirmMsgContainer.html(confirmMessage+'<span>'+errMsgExcExcludeAuthors+'</span>');}
else{if(jQuery('#confirmMsgContainer').length>0){jQuery('.confirmMsgContainer').remove();}}},updateCitationYearHdr:function(){var ltYear=jQuery('.setSelectedYear');var gtYear=jQuery('.subtotalCellCto');if(latest_year==start_year){var selectedYear=start_year-1;jQuery('.previousYearsHeader').html('&le;'+selectedYear);}
else{jQuery('.previousYearsHeader').html('&lt;'+start_year);}
jQuery('.ctoHdrYrRange').remove();var objDiv=jQuery('<div>');var objTd=jQuery('<td>',{'class':'ctoColheadDbMb-LTB yearTotalCellCto ctoHdrYrRange','vAlign':'middle','align':'right'});for(var i=start_year;i<=end_year;i++){var objSpan='';if(latest_year==end_year&end_year==i){var yr=latest_year-1;var grtYr='>'+yr;objSpan=jQuery('<span>',{'class':'yearTotal','html':grtYr});}else{objSpan=jQuery('<span>',{'class':'yearTotal','html':i});}
objDiv.append(objTd.clone().append(objSpan));}
jQuery(objDiv.html()).insertAfter(ltYear);jQuery('.selectedEndYear').remove();if(latest_year!=end_year){var objDivOuter=jQuery('<div>');var objTotalOuterTD=jQuery('<td>',{'class':'tableDbLb selectedEndYear','valign':'middle','style':'white-space:nowrap'});var objTable=jQuery('<table>',{'border':'0','cellpadding':'2','cellspacing':'0','width':'100%'});var objTBody=jQuery('<tbody>');var objTR=jQuery('<tr>');var objTotalTD=jQuery('<td>',{'class':'ctoTableDbMb-TRB laterYearsTotalCellData','valign':'middle','style':'white-space:nowrap','align':'right'});var objTotalSpan=jQuery('<span>',{'class':'laterYearsHeader','html':'&gt;'+end_year});objDivOuter.append(objTotalOuterTD.append(objTable.append(objTBody.append(objTR.append(objTotalTD.append(objTotalSpan))))));jQuery(objDivOuter.html()).insertAfter(gtYear);}},getLongLoadingParams:function(){return{"loadingText1":ctoDoc.JS_MSG_CTO_UPDATING(),"loadingText2":ctoDoc.JS_MSG_CTO_LONGLOADING(),"loadDivContainer":"ctoDateSec"};}};jQuery(document).ready(function(){CitOver.init();if(jQuery("#confirmMsgContainer,#errorMsgContainer,#warningMsgContainer,#infoMsgContainer,#orcidErrorMsgContainer,#txtZoneInfoMsgContainer,#confirmMsgContainer").length){jQuery('.ariaHidden').focus();}
jQuery('#docs_per_page').on('selectmenuchange',function(){updateDocsPerPage();});if(typeof saveDocumentsToList!='undefined'){jQuery('#saveListResults').on('click',saveDocumentsToList);}});jQuery(document).ready(function(){var dummmyid=new Array();var dummyStat=new Array();jQuery($('body')).css('overflow','inherit');jQuery("#navigators").sortable({containment:'parent',handle:'div.dragDropBox',start:function(event,ui){jQuery("#cib_Overlay").hide();document.getElementById("navigators").style.zoom='1';document.getElementById("RefineResults").style.zoom='1';dummmyid=new Array();dummyStat=new Array();var bodyDiv=jQuery(".dummyNav .dummyBody");var placeholder=jQuery("#clusterData .ui-sortable-placeholder");placeholder.css({'border':'1px dashed red','margin':'2px','visibility':'visible'});for(var i=0;i<bodyDiv.length;i++){dummmyid.push(jQuery(bodyDiv[i]).attr('id'));dummyStat.push(jQuery(bodyDiv[i]).css('display'));}},update:function(event,ui){for(var i=0;i<dummmyid.length;i++){jQuery("#"+dummmyid[i]).css('display',dummyStat[i]);}
var childrenArray=jQuery(this).children();var sortableString="";for(var k=0;k<childrenArray.length;k++){sortableString+=childrenArray[k].id+",";}
sortableString=sortableString.substring(0,sortableString.length-1);reArrangeClusters(sortableString);document.getElementById("navigators").style.zoom='1';document.getElementById("RefineResults").style.zoom='1';}});jQuery("#leftDragCluster").sortable({containment:'parent',handle:'.scopusDragHandle',beforeStop:function(event,ui){document.getElementById("RefineResults").style.zoom='1';document.getElementById("RefineResults").style.position='relative';document.getElementById("navigators").style.zoom='1';},stop:function(event,ui){document.getElementById("RefineResults").style.zoom='1';document.getElementById("sSearchWithin").style.zoom='1';},start:function(event,ui){document.getElementById("sSearchWithin").style.zoom='1';var placeholder=jQuery("#clusterData .ui-sortable-placeholder");placeholder.css({'border':'1px dashed red','margin':'2px','visibility':'visible'});jQuery("#cib_Overlay").hide();},update:function(event,ui){document.getElementById("RefineResults").style.zoom='1';document.getElementById("RefineResults").style.position='static';document.getElementById("navigators").style.zoom='1';document.getElementById("sSearchWithin").style.zoom='1';var childrenArray=jQuery(this).children();var sortString="";for(var k=0;k<childrenArray.length;k++){sortString+=childrenArray[k].lang+":";}
sortString=sortString.substring(0,sortString.length-1);reArrangeWidgets(sortString);}});var cibObject=jQuery("#navigators .cib_Span");cibObject.each(function(i){this.style.background="#fff";});cibObject.live("mouseover",function(ev){var thisObj=jQuery(this);thisObj.css("background","#e8e8e8");thisObj.find("span").css("background-position","0 -102px");});cibObject.live("mouseout",function(ev){var thisObj=jQuery(this);thisObj.css("background","#fff");thisObj.find("span").css("background-position","0 -123px");});cibObject.live("click",function(ev){var thisObj=jQuery(this);var superparId=thisObj.parents(".body").attr('id');var liClusterTypeId=thisObj.parents("li").attr("id");var cibObj=jQuery("#"+liClusterTypeId+" #cib_Overlay");if(cibObj.is(":visible")){jQuery("#"+liClusterTypeId+" a.greyArrow").show();jQuery("#"+liClusterTypeId+" a.greyArrow").focus();cibObj.hide();}
else{var clusterid="cib_Div_Overlay_"+liClusterTypeId.substring(liClusterTypeId.indexOf("_")+1,liClusterTypeId.length);var cib_Div_Overlay_Obj=jQuery("#"+clusterid);cib_Div_Overlay_Obj.html(jQuery("#cib_Div_Overlay").html());cibObj=jQuery("#"+liClusterTypeId+" #cib_Overlay");jQuery("#navigators #cib_Overlay").each(function(){jQuery(this).hide();});superparId=superparId.substring(superparId.indexOf("_")+1,superparId.length);jQuery("div.navigatorOverlay").each(function(i){if((jQuery(this).css('display')!="none")&&(("navigatorOverlay_"+superparId)!=this.id)){jQuery(this).hide();document.getElementById("overlay_screen").style.display="none";document.getElementById("overlay_screen_lefttop").style.display="none";document.getElementById("overlay_screen_leftbot").style.display="none";}});var clusterTypeId=thisObj.parents("ul").attr("id");var fistIndex=clusterTypeId.indexOf("_");var clusterType=clusterTypeId.substring(fistIndex+1,clusterTypeId.length);var clusterOverLay=clusterTypeId.substring(0,fistIndex);var typeOfAttr=clusterType;var lastChar=typeOfAttr.charAt((typeOfAttr.length)-1);if(lastChar=='1'||lastChar=='2'||lastChar=='3'||lastChar=='4'){typeOfAttr=clusterType.substring(0,(clusterType.length)-1);}
var displayText=thisObj.parent().find("label.leftCol").text();var clusterAttrVal=typeOfAttr+","+displayText.replace(/^\s\s*/,'').replace(/\s\s*$/,'');var hiddenArray=thisObj.find("input");var categoryText=jQuery(hiddenArray[0]).val();var relatedText=jQuery(hiddenArray[1]).val();var relatedId=thisObj.parent().find(".leftCol").attr("for");var thisPos=thisObj.offset();var winWidth=jQuery("#outerWrapper").width();var cibTop=thisPos.top-24;var cibLeft=thisPos.left+thisObj.width()+17;var cibLeftBuf=cibLeft;if(winWidth<(cibLeft+cibObj.width())){cibLeft=thisPos.left-(cibObj.width()+28);}
if(clusterOverLay=="overlayul"){var ulPos=jQuery("#"+clusterTypeId).first().offset();cibTop=cibTop-ulPos.top+24;}
cibObj.css({'top':cibTop+'px','left':cibLeft+'px'});jQuery('#'+liClusterTypeId+' #'+clusterid+' div.cib_Container').find("div.cib_List").html('<img src="../static/images/loading_3.gif" alt="Loading" title="Loading" class="loadImage"/>');jQuery('#'+liClusterTypeId+' #'+clusterid+' div.cib_Container').find("div.cib_Header").html('');jQuery('#'+liClusterTypeId+' #'+clusterid+' div.cib_Container').find("div.cib_Footer").html('');jQuery('#'+liClusterTypeId+' #'+clusterid+' div.cib_Container').find("div.variableRow").html('');cibObj.show();if(winWidth<(cibLeftBuf+cibObj.width())){jQuery("#"+liClusterTypeId+" #"+clusterid+" #cib_rightImg").show();jQuery("#"+liClusterTypeId+" #"+clusterid+" #cib_leftImg").hide();}else{jQuery("#"+liClusterTypeId+" #"+clusterid+" #cib_leftImg").show();jQuery("#"+liClusterTypeId+" #"+clusterid+" #cib_rightImg").hide();}
displayContextInfoBox(categoryText,relatedText,relatedId,'limit to',thisObj,'resultslist',clusterAttrVal);ev.preventDefault();}});jQuery("#cibClose").live("click",function(ev){var thisObj=jQuery(this);var liClusterTypeId=thisObj.parents("li").attr("id");jQuery("#"+liClusterTypeId+" input.overlaycloseCheck").focus();jQuery("#"+liClusterTypeId+" a.greyArrow").focus();jQuery("#"+liClusterTypeId+" #cib_Overlay").hide();ev.preventDefault();});jQuery("#navigators .overlaycloseCheck").bind("click",function(ev){if(document.getElementById("overlayBuffer")!=null){var clusterType=document.getElementById("overlayBuffer").innerHTML;overlayHide(clusterType);}});jQuery("div.dummyBody").find("#navigators .overlaycloseCheck").live("click",function(ev){var thisObj=jQuery(this);var liClusterTypeId=thisObj.parents("li").attr("id");jQuery("#"+liClusterTypeId+" input.overlaycloseCheck").focus();jQuery("#"+liClusterTypeId+" a.greyArrow").focus();jQuery("#"+liClusterTypeId+" #cib_Overlay").hide();});jQuery("div.navigatorOverlay").find("#navigators .overlaycloseCheck").live("click",function(ev){var thisObj=jQuery(this);var liClusterTypeId=thisObj.parents("li").attr("id");jQuery("#"+liClusterTypeId+" input.overlaycloseCheck").focus();jQuery("#"+liClusterTypeId+" a.greyArrow").focus();jQuery("#"+liClusterTypeId+" #cib_Overlay").hide();});});function getElementsByType(element,type){var ele=Form.getElements(element);var returnArr=new Array();ele.each(function(e){if(e.type==type)returnArr.push(e);});return returnArr;}
var saveSettingsOpts={on401:unAuthorized,onFailure:saveSettingsFailure,onSuccess:saveSettingsSuccess};var saveSettingsFailureOpts={onFailure:saveSettingsToSessionFailure,onSuccess:saveSettingsToSessionSuccess};var restoreSettingsOpts={onSuccess:restoreSettingsSuccess,onFailure:restoreSettingsFailure};var updateSessionOpts={onSuccess:updateSessionSuccess,onFailure:updateSessionFailure};var addCategoriesOptsForUpdate={onSuccess:addCategoriesSuccessForUpdate,onFailure:addCategoriesFailure};var saveClusterOpts={onFailure:saveSelectedClusterFailure,onSuccess:saveSelectedClusterSuccess};var fastCallDone=new Array();fastCallDone['EXACTSRCTITLE']=new Array('40','false','160','false');fastCallDone['PUBYEAR']=new Array('40','false','160','false');fastCallDone['DOCTYPE']=new Array('40','false','160','false');fastCallDone['SUBJAREA']=new Array('40','false','160','false');fastCallDone['AUTHOR_NAME_AND_ID']=new Array('40','false','160','false');fastCallDone['LANGUAGE']=new Array('40','false','160','false');fastCallDone['COUNTRY_NAME']=new Array('40','false','160','false');fastCallDone['AFFIL']=new Array('40','false','160','false');fastCallDone['SCOPUSSRCTYPE']=new Array('40','false','160','false');fastCallDone['EXACTKEYWORD']=new Array('40','false','160','false');fastCallDone['STATUSTYPE']=new Array('40','false','160','false');fastCallDone['AUCITE']=new Array('40','false','160','false');fastCallDone['affilcity']=new Array('40','false','160','false');fastCallDone['affilctry']=new Array('40','false','160','false');fastCallDone['subjclus']=new Array('40','false','160','false');fastCallDone['afnameid']=new Array('40','false','160','false');fastCallDone['srctitle']=new Array('40','false','160','false');fastCallDone['srctype']=new Array('40','false','160','false');fastCallDone['subtype']=new Array('40','false','160','false');fastCallDone['txt14']=new Array('40','false','160','false');var keywordArray=new Array();var contentSrcArray=new Array();var infoTypeArray=new Array();var clusterSubAreaArray=new Array();var clusterSourceTitleArray=new Array();var clusterAuthorNameArray=new Array();var clusterCountryNameArray=new Array();var clusterPubYearArray=new Array();var clusterAffilArray=new Array();var clusterLanguageArray=new Array();var clusterDocTypeArray=new Array();var clusterKeyWordArray=new Array();var clusterSourceTypeArray=new Array();var clusterStatusTypeArray=new Array();var clusterAuthCiteArray=new Array();var affilCityArray=new Array();var affilCntryArray=new Array();var affilNameArray=new Array();var affilSubAreaArray=new Array();var affilSourceTitleArray=new Array();var affilMatchLevelArray=new Array();var clusterBaseUrl="../standard/viewMore.uri";function sortField(sortValue,sortFieldName,form){form.elements[sortFieldName].value=sortValue;form.target="_self";form.submit();}
function collapseSection(clusterType,clusterstate){if(document.getElementById("overlayBuffer")!=null&&document.getElementById("overlayBuffer").innerHTML!=""){var cluster=document.getElementById("overlayBuffer").innerHTML;if(cluster!=clusterType){overlayHide(cluster);}}
if(document.getElementById("heading_"+clusterType)!=null){document.getElementById("heading_"+clusterType).style.borderBottom="none";}
var clusterCount=Number(document.getElementById("viewMoreCount_"+clusterType).innerHTML);var session=1;setClusterResultsCount(clusterType,0,session);setSelectedCluster(clusterType,clusterstate,clusterCount);clusterstate='open';document.getElementById("body_"+clusterType).style.display="none";document.getElementById("collapse_"+clusterType).innerHTML="<div class='clickBox' onclick=\"expandSection('"+clusterType+"','"+clusterstate+"')\"><div class='floatR'><span id=\"checkCount_"+clusterType+"\"  class='displayNone selectedText floatL'></span> <span style='visibility:visible' class='btn_expand floatL' alt='"+toggleOpenCluster+"' title='"+toggleOpenCluster+"' >&nbsp;</span></div><div class='clearBoth'></div></div>";document.getElementById("collapse_"+clusterType+"_hidden").innerHTML='<a id=\'collapse_'+clusterType+'_link\' class=\'btn_expand\' title=\''+toggleOpenCluster+'\' onclick=\'expandSection("'+clusterType+'","'+clusterstate+'")\' href=\'#\' aria-expanded="false">&nbsp;</a>';document.getElementById("collapse_"+clusterType+"_link").focus();var checkString=document.getElementById("checkArray_"+clusterType).innerHTML;var checkCounter=0;var checkArray="";if(checkString!=""){checkArray=checkString.split(",");checkCounter=checkArray.length;}
if(document.getElementById("body_"+clusterType)!=null){var navClusterCheck=jQuery("#body_"+clusterType).find("input");for(var i=0;i<navClusterCheck.length;i++){if(navClusterCheck[i].checked){checkCounter+=1;}}}
if(checkCounter>0){var tempValue="JS_MSG_AFFIL_CHECK_BOX_SELECTED"+"("+checkCounter+")";var selectedValue=eval('affiliation.'+tempValue);jQuery('#checkCount_'+clusterType).html(selectedValue);jQuery('#checkCount_'+clusterType).css({'display':'block'});}else{document.getElementById("checkCount_"+clusterType).style.display="none";}
botScreenPositioning();document.getElementById("cib_Overlay").style.display="none";}
function expandSection(clusterType,clusterstate){if(document.getElementById("overlayBuffer")!=null&&document.getElementById("overlayBuffer").innerHTML!=""){var cluster=document.getElementById("overlayBuffer").innerHTML;if(cluster!=clusterType){overlayHide(cluster);}}
if(clusterType=='AFFIL'){if(fastAffilCallDone[clusterType][0]=='false'){retrieveClusterAttributesFromFAST(0,numClusterCat,searchType,clusterType,'selectedAffiliationClusterCategories');}
if(clusterState!=null&&clusterState.length>0){var clusterStateString=clusterState.substring(1,clusterState.length-1);clusterStateString=clusterStateString.replace(/^\s\s*/,'').replace(/\s\s*$/,'');var clusterStateArray=clusterStateString.split(",");for(var i=0;i<clusterStateArray.length;i++){if(clusterStateArray[i].replace()!=''){var clusterNameState=clusterStateArray[i].split("=");var countState=clusterNameState[1].split("-");var clusterType=clusterNameState[0].replace(/^\s\s*/,'').replace(/\s\s*$/,'');if(clusterType=='AFFIL'&&countState[0]=="10"&&countState[1]=="collapse"){displayCluster(clusterType);}}}}
if(clusterState!=null){clusterState=null;}}
if(document.getElementById("heading_"+clusterType)!=null){document.getElementById("heading_"+clusterType).style.borderBottom="1px solid #9B9B9B";}
var clusterCount=Number(document.getElementById("viewMoreCount_"+clusterType).innerHTML);var session=0;setClusterResultsCount(clusterType,clusterCount,session);setSelectedCluster(clusterType,clusterstate,clusterCount);clusterstate='collapse';document.getElementById("body_"+clusterType).style.display="block";document.getElementById("collapse_"+clusterType).innerHTML="<div class='clickBox' onclick=\"collapseSection('"+clusterType+"','"+clusterstate+"') \"><div class='floatR'><span id=\"checkCount_"+clusterType+"\"  class='displayNone selectedText floatL'></span> <span style='visibility:visible' class='btn_collapse floatL' alt='"+toggleCloseCluster+"' title='"+toggleCloseCluster+"' >&nbsp;</span></div><div class='clearBoth'></div></div>";document.getElementById("collapse_"+clusterType+"_hidden").innerHTML='<a id=\'collapse_'+clusterType+'_link\' class=\'btn_collapse\' title=\''+toggleCloseCluster+'\' onclick=\'collapseSection("'+clusterType+'","'+clusterstate+'") \' href=\'#\'  aria-describedby="navHeader" aria-expanded="true">&nbsp;</a>';document.getElementById("collapse_"+clusterType+"_link").focus();if(document.getElementById("checkCount_"+clusterType)!=null){document.getElementById("checkCount_"+clusterType).style.display="none";}
botScreenPositioning();document.getElementById("cib_Overlay").style.display="none";}
function setSelectedCluster(clusterType,clusterstate,count){var url='../standard/saveClusterToSession.uri';var pageName="";if(document.getElementById("hidden_src")!=null){pageName=document.getElementById("hidden_src").innerHTML;pageName=pageName+":";}
var clusterTypePage=pageName+clusterType;var queryString="@clusterCategory="+clusterTypePage+"&clusterDisplayCount="+count+"&clusterState="+clusterstate;url=url+queryString;jQuery.ajax({url:url,type:"get",success:saveSelectedClusterSuccess,error:saveSelectedClusterFailure});}
function openCollapseLeftSideBar(state)
{if(state=='open'){document.getElementById("sRefineResults").style.display="block";if(document.getElementById("SC_DLS1")!=null){document.getElementById("SC_DLS1").style.display="block";}
document.getElementById("leftSideBarImg").style.display="none";document.getElementById("leftColumn").style.width="220px";document.getElementById("rightColumn").style.marginLeft="234px";if(document.getElementById("dropShadow")!=null){document.getElementById("dropShadow").style.display="block";jQuery("#dropShadow").css({'width':Number(jQuery("#sRefineResults").outerWidth()+2)+'px','height':Number(jQuery("#sRefineResults").outerHeight()+2)+'px','position':'absolute','zIndex':'-1','top':jQuery("#sRefineResults").offset().top+'px','background':'#E1E1E1'});}
if(jQuery("#bottomShadow")!=null){jQuery("#bottomShadow").removeClass('displayNone');}}
else{document.getElementById("sRefineResults").style.display="none";if(document.getElementById("SC_DLS1")!=null){document.getElementById("SC_DLS1").style.display="none";}
if(document.getElementById("dropShadow")!=null){document.getElementById("dropShadow").style.display="none";}
document.getElementById("leftColumn").style.width="32px";document.getElementById("rightColumn").style.marginLeft="50px";document.getElementById("leftSideBarImg").style.display="block";if(jQuery("#bottomShadow")!=null){jQuery("#bottomShadow").addClass('displayNone');}
leftBarCollapsedText();}
if(document.getElementById("cib_Overlay")!=null){document.getElementById("cib_Overlay").style.display="none";}
var url='../standard/saveClusterToSession.uri';var pageName=document.getElementById("hidden_src").innerHTML;var queryString="@leftSideBarPageName="+pageName+"&leftSideBarState="+state;url=url+queryString;jQuery.ajax({url:url,type:"get",success:saveSelectedClusterSuccess,error:saveSelectedClusterFailure});showHideLastDocHeaderLnk();}
function saveSelectedClusterFailure(){}
function saveSelectedClusterSuccess(){}
function unAuthorized(){var url=saveToSessionURL;var queryString="?key="+sessionSaveNavigatorsToProfileKey+"&value=true";url=url+queryString;jQuery.ajax({url:url,type:"get",success:saveSettingsToSessionSuccess,error:saveSettingsToSessionFailure});}
function showLoadingState(clusterType){var docDimension=jQuery("#outerWrapper").attr('offsetHeight');jQuery("#overlay_screen").css({'height':docDimension+'px'});var rightWidth=jQuery("#outerWrapper").width()-jQuery("#leftColumn").width();var leftPos=jQuery("#leftColumn").width();jQuery("#overlay_screen").css({'width':rightWidth+'px','left':leftPos+'px'});var posNav=jQuery("#RefineResults").offset();if(posNav!=null)
{jQuery("#overlay_screen_lefttop").css('height',posNav.top+'px');}
var navParent=jQuery("#navigatorOverlay_"+clusterType).parent();navParent.css("position","static");var navTop=jQuery("#body_"+clusterType).offset().top-24;jQuery("#navigatorOverlay_"+clusterType).css({'top':navTop+'px'});jQuery("#overlayLoading_"+clusterType).css('display','block');jQuery("#navigatorOverlay_"+clusterType).css('display','block');var navHeight=jQuery('#'+jQuery("#navigatorOverlay_"+clusterType).parent().attr('id')).height();if(navHeight<jQuery("#navigatorOverlay_"+clusterType).height()){navHeight=jQuery("#navigatorOverlay_"+clusterType).height();}
jQuery("#overlayLoading_"+clusterType).css({'minHeight':navHeight-17+'px'});}
function overlayShow(clusterType){jQuery("#overlayLoading_"+clusterType).css('display','none');if(document.SearchResultsForm!=null&&document.SearchResultsForm.src.value=='s'){jQuery("#navigators").sortable("disable");}
var docDimension=document.getElementById("outerWrapper").offsetHeight;document.getElementById("overlay_screen").style.height=docDimension+"px";var rightWidth=jQuery("#outerWrapper").width()-jQuery("#leftColumn").width();var leftPos=jQuery("#leftColumn").width();jQuery("#overlay_screen").css({'width':rightWidth+'px','left':leftPos+'px'});var posNav=jQuery("#RefineResults").offset();if(posNav!=null)
{jQuery("#overlay_screen_lefttop").css('height',posNav.top+'px');}
var checkString=document.getElementById("checkArray_"+clusterType).innerHTML;var checkArray="";if(checkString!=""){checkArray=checkString.split(",");}
var navParent=document.getElementById("navigatorOverlay_"+clusterType).parentNode;navParent.style.position="static";var navTop=jQuery("#body_"+clusterType).offset().top-24;if(document.getElementById("body_"+clusterType)!=null){var navClusterCheck=jQuery("#body_"+clusterType).find("input:checkbox");if(document.getElementById("overlayul_"+clusterType+"1")!=null){var checkBoxes1=jQuery("#overlayul_"+clusterType+"1").find("input:checkbox");if(checkBoxes1.length==0){var clusterBodyli=jQuery("#body_"+clusterType).find("li");if(clusterBodyli[0]!=null){document.getElementById("overlayul_"+clusterType+"1").innerHTML=clusterBodyli[0].innerHTML;}}
for(i=0;i<checkBoxes1.length;i++){if(i<navClusterCheck.length){if(navClusterCheck[i].checked){checkBoxes1[i].checked=true;}else{checkBoxes1[i].checked=false;}}}}}
var i=0;var checkBoxobj;for(i=0;i<checkArray.length;i++){if(document.getElementById(checkArray[i])!=null){checkBoxobj=jQuery("#navigatorOverlay_"+clusterType).find("#"+checkArray[i]);jQuery(checkBoxobj).attr('checked',true);}}
jQuery("#navigatorOverlay_"+clusterType).css({'display':'block','top':navTop});document.getElementById("overlayBuffer").innerHTML=clusterType;document.getElementById("overlay_screen").style.display="block";document.getElementById("overlay_screen_lefttop").style.display="block";document.getElementById("overlay_screen_leftbot").style.display="block";jQuery("#overlayFooter_"+clusterType).removeClass("displayNone");}
function findPosY(obj){var curtop=0;if(obj.offsetParent){while(1){curtop+=obj.offsetTop;if(!obj.offsetParent){break;}
obj=obj.offsetParent;}}
else if(obj.y){curtop+=obj.y;}
return curtop;}
function saveSettingsToSessionFailure(){}
function saveSettingsFailure(){}
function saveSettingsToSessionSuccess(){if(featureInaccessible=='true'){window.location=featureInaccessibleURL;}
else if(activationRequired=='true'){window.location=activationRequiredURL;}
else{window.location=loginURL;}}
function saveSettingsSuccess(){var profileSuccessMessage=messages.result.search.restore.success();if(jQuery("#clusterMessages").length){jQuery("#clusterMessages").html('<div id="confirmMsgContainer" role="alert"><span class="ariaHidden">Confirmation message</span><span>'+profileSuccessMessage+'<\/span></div>');}}
function restoreSettingsSuccess(){var str=window.location;window.location=str;}
function addCategoriesSuccessForUpdate(){var str=window.location;window.location=str;}
function addCategoriesFailure(){}
function restoreSettingsFailure(){}
function updateSessionFailure(){}
function updateSessionSuccess(){}
function addCategories(type){Element.hide("cat_"+type);if(currentClusterOrder.length==0){Element.hide('no_navigators');}
var url=saveToSessionURL;var queryString="?key="+sessionSortOrderKey;var str1=currentClusterOrder;if(str1.length>0){str1=str1+":";}
currentClusterOrder=str1+type;url=url+queryString+"&value="+currentClusterOrder;jQuery.ajax({url:url,type:"get",success:addCategoriesSuccessForUpdate,error:addCategoriesFailure});}
function getNavigatorIdByName(lang){var element;var count=1;while((element=document.getElementById('navigator_'+count))!=null){var elementName=element.getAttribute("lang");if(elementName==lang){return element.getAttribute("id");}
count++;}
return null;}
function updateSession(type)
{var url=saveToSessionURL;var queryString="?key="+sessionSortOrderKey;var index=currentClusterOrder.indexOf(type);var str1="";var str2="";if(index!=0){str1=currentClusterOrder.substring(0,index-1);str2=currentClusterOrder.substring(index+type.length);}else{if(currentClusterOrder.length>(type.length+1)){str2=currentClusterOrder.substring(type.length+1);}}
currentClusterOrder=str1+str2;url=url+queryString+"&value="+str1+str2;jQuery.ajax({url:url,type:"get",success:updateSessionSuccess,error:updateSessionFailure});}
function restoreSettings(){var str=restoreOriginalSettings+"\n\n"
+restoreOriginalSettings2;var flag=confirm(str);if(flag){if(isShowSaveSettings=="true"){saveDefaultSettingsToSession();}else{var url=saveToSessionURL;var queryString="?key="+sessionSortOrderKey;url=url+queryString+"&value="+defaultClusterOrder;jQuery.ajax({url:url,type:"get",success:saveSettingsSuccess,error:function(request,e){if(request.status==401){unAuthorized();}
else{saveSettingsFailure();}}});url=saveToSessionURL;saveDefaultSettingsToMyProfile();}
testFooterLinks();}}
function saveDefaultSettingsToSession()
{var url=saveToSessionURL;var queryString="?key="+sessionSortOrderKey+"&value="+defaultClusterOrder;var origin=document.SearchResultsForm.origin.value;queryString=queryString+"&origin="+origin;url=url+queryString;jQuery.ajax({url:url,type:"get",success:restoreSettingsSuccess,error:restoreSettingsFailure});}
function saveDefaultSettingsToMyProfile()
{var url=saveToOpaqueURL;var queryString="?key="+sessionSortOrderKey+"&value="+defaultClusterOrder;var origin=document.SearchResultsForm.origin.value;queryString=queryString+"&origin="+origin;url=url+queryString;jQuery.ajax({url:url,type:"get",success:restoreSettingsSuccess,error:restoreSettingsFailure});}
function saveSettingsToMyProfile(key,order)
{var url=saveToOpaqueURL;var queryString="?key="+key+"&value="+order;var origin=document.SearchResultsForm.origin.value;queryString=queryString+"&origin="+origin;url=url+queryString;jQuery.ajax({url:url,type:"get",success:saveSettingsSuccess,error:function(request,e){if(request.status==401){unAuthorized();}
else{saveSettingsFailure();}}});}
function hideDimension(dimension,type){var temp=currentClusterOrder.split(':');if(temp.length==1){Element.show('no_navigators');}
updateSession(type);Element.hide(dimension);Element.show('cat_'+type);updateBorders();updateNavigatorSizes();testFooterLinks();}
function displayCat(){var element;var count=1;while((element=document.getElementById('navigator_'+count))!=null){var elementName=element.getAttribute("lang");var catElement=document.getElementById(elementName);if(catElement!=null){catElement.style.display='none';}
count++;}}
function testFooterLinks(){testRestoreOriginalSettingsLink();testSaveSettingToProfileLink(false);}
function testAddCategoriesLink(){var addCategoriesLIs=jQuery("#addCategoriesList").find('li');var flag=false;for(var i=0;i<addCategoriesLIs.length;i++){if(addCategoriesLIs[i].style.display!='none'){flag=true;}}
if(flag){document.getElementById("addCategories").style.display='inline';document.getElementById("activator").style.display='inline';}else{document.getElementById("addCategories").style.display='none';document.getElementById("activator").style.display='none';}}
function testRestoreOriginalSettingsLink(){if(currentClusterOrder==defaultClusterOrder){jQuery("div.restoreDiv").css('display','none');}else{jQuery("div.restoreDiv").css('display','block');}}
function testSaveSettingToProfileLink(isReArrange,key,order){if(isReArrange&&isShowSaveSettings=="false"){saveSettingsToMyProfile(key,order);}else if(currentClusterOrder.length>0&&profileClusterOrder==currentClusterOrder){jQuery("#saveSettingsDivider").css('display','none');jQuery("#saveNavigatorSettings").css('display','none');}else{if(profileClusterOrder==""&&currentClusterOrder==defaultClusterOrder){jQuery("#saveSettingsDivider").css('display','none');jQuery("#saveNavigatorSettings").css('display','none');}else if((profileClusterOrder==""&&currentClusterOrder!=defaultClusterOrder)&&isShowSaveSettings=="true"){jQuery("#saveSettingsDivider").css({'display':'inline-block','color':'#B7B7B7'});jQuery("#saveNavigatorSettings").css('display','inline-block');jQuery("div.restoreDiv").css('display','block');}}}
function reArrangeClusters(order1){var order=order1+"";var temp=new Array();var orderArray=new Array();temp=loadedCluserorder.split(':');orderArray=order.split(',');currentOrder=currentClusterOrder.split(':');var str="";for(var i=0;i<temp.length;i++){var navigatorTitle=jQuery("#"+orderArray[i]).attr('lang');navigatorTitle=navigatorTitle.substring(4,navigatorTitle.length);if(currentClusterOrder.indexOf(navigatorTitle)!=-1){str=str+navigatorTitle+":";}}
str=str.substring(0,str.length-1);currentClusterOrder=str;var url=saveToSessionURL;var queryString="?key="+sessionSortOrderKey;url=url+queryString+"&value="+str;jQuery.ajax({url:url,type:"get",success:updateSessionSuccess,error:updateSessionFailure});testRestoreOriginalSettingsLink();testSaveSettingToProfileLink(true,sessionSortOrderKey,currentClusterOrder);}
var ajaxReq="";function displayContextInfoBox(property,value,selectedId,linkname,currObj,origin,clusterAttrVal){var arrayBuf=jQuery.trim(currObj.parent().parent().find(".displayNone").text());var htmBuf=currObj.parent().parent().find(".displayNone").html();var dispHTML="";var currentUrl=location.href;var limitToUrl="javascript:refineCIB('limit to','"+origin+"','"+property+"','"+value+"','"+selectedId+"')";var excludeUrl="javascript:refineCIB('exclude','"+origin+"','"+property+"','"+value+"','"+selectedId+"')";if(origin!=""&&origin=='AuthorNamesList'){currentUrl=currentUrl.replace('authorNamesList','authorLookup');currentUrl=currentUrl.replace('coAuthorResults','coAuthorLookup');}else if(origin!=""&&origin=='AffiliationNamesList'){currentUrl=currentUrl.replace('affiliationResults','affiliationLookup');}else if(origin!=""&&origin=='resultslist'){currentUrl=currentUrl.replace('results','handle');if(currentUrl.indexOf('/results/results')<0){currentUrl=currentUrl.replace('references','handle');currentUrl=currentUrl.replace('citedbyresults','handle');currentUrl=currentUrl.replace('savedList','handle');}}
if(origin!='resultslist'){var startPrevCount=currentUrl.indexOf("&previousResultCount");if(startPrevCount>-1){var endPrevCount=currentUrl.indexOf("&",startPrevCount+1);var prevCountVal=currentUrl.substring(startPrevCount,endPrevCount);currentUrl=currentUrl.replace(prevCountVal,'&previousResultCount='+eval(resultsCount));}else{currentUrl=currentUrl+'&previousResultCount='+eval(resultsCount);}}else{if(document.SearchResultsForm.count!=null){currentUrl=currentUrl+'&count='+eval(document.SearchResultsForm.count.value);}}
var startZonePos=currentUrl.indexOf("&zone");if(startZonePos>-1){var zoneEndPos=currentUrl.indexOf("&",startZonePos+1);var zoneVal=currentUrl.substring(startZonePos,zoneEndPos);currentUrl=currentUrl.replace(zoneVal,'&zone=contextBox');}else{currentUrl=currentUrl+'&zone=contextBox';}
if(currentUrl.indexOf('#')>-1){var hashIndexVal=currentUrl.charAt(currentUrl.indexOf('#'));currentUrl=currentUrl.replace(hashIndexVal,'');}
var navValueSelected=clusterAttrVal.substring((clusterAttrVal.indexOf(",")+1),clusterAttrVal.length);var queryString=null;if(currentUrl.indexOf('clickedLink')>-1){currentUrl=currentUrl.replace("clickedLink=","clickedLink="
+linkname);queryString="&"+property+"="+value
+"&clusterAttributeValue="+clusterAttrVal;}else{queryString="&clickedLink="+linkname+"&"+property+"="
+value+"&clusterAttributeValue="+clusterAttrVal;}
currentUrl=currentUrl+queryString;if(arrayBuf==""){ajaxReq=value;jQuery.ajax({url:currentUrl,dataType:"html",async:true,success:function(data){var dispObj=currObj.parent().parent().find(".displayNone");if(ajaxReq==value){jQuery("div.cib_Container").html(data);jQuery("div.cib_Container").find('#documentNum').click(function(){refineCIB('resultsCount',origin,property,value,selectedId);});jQuery("div.cib_Container").find("#cibLimit").attr('href',limitToUrl);jQuery("div.cib_Container").find("#cibExclude").attr('href',excludeUrl);jQuery("div.cib_Container").find("#cibNavValue").html(navValueSelected);jQuery("div.cib_Container").find(".propName").html(navValueSelected);jQuery("div.cib_Container").find("#cibDocTypeValue").html(navValueSelected.toLowerCase());}
dispHTML=data;dispObj.html(dispHTML);},error:function(){jQuery(".cib_Container .cib_List").html("<div class='alignTextCenter'><span class='txtRedBold'>The system is currently unable to retrieve the contextual information.</span><br/>Please try again later.</div>");}});}else{jQuery("div.cib_Container").html(htmBuf);jQuery("div.cib_Container").find('#documentNum').click(function(){refineCIB('resultsCount',origin,property,value,selectedId);});jQuery("div.cib_Container").find("#cibLimit").attr('href',limitToUrl);jQuery("div.cib_Container").find("#cibExclude").attr('href',excludeUrl);jQuery("div.cib_Container").find("#cibNavValue").html(navValueSelected);jQuery("div.cib_Container").find(".propName").html(navValueSelected);jQuery("div.cib_Container").find("#cibDocTypeValue").html(navValueSelected.toLowerCase());}}
function updateBorders(){var clusterOrderArray=currentClusterOrder.split(':');var str="";for(var i=0;i<clusterOrderArray.length;i++){if(clusterOrderArray[i].length>0){var navById=getNavigatorIdByName('cat_'+clusterOrderArray[i]);if(navById){var temp=navById.split('_');var size=document.getElementById('navigator_size_'+temp[temp.length-1]);if(i!=(clusterOrderArray.length-1)){size.style.borderRight='1px solid #9b9b9b';}else{size.style.borderRight='0px solid #9b9b9b';}}}}}
function isMSIE(){var agent=navigator.userAgent;var index=agent.indexOf("MSIE");if(index>0){return true;}
return false;}
function updateNavigatorSizes(){var element;var padding;var elements=[];var weights=[];var size;var sizes=[];var minimums=[];var agreedOnWidths=[];var paddingElements=[];var totalMinimums=0;var totalWeights=0;var elementWeight;var count=1;while((element=document.getElementById('navigator_'+count))!=null){if(element.style.display!='none'){elements.push(element);size=document.getElementById('navigator_size_'+count);sizes.push(size);paddingElements.push(document.getElementById('navigator_padding_'+count));var weightVal=element.className.split(" ");elementWeight=parseInt(weightVal[1]);weights.push(elementWeight);totalWeights+=elementWeight;element.style.width="0px";minimums.push(size.offsetWidth);totalMinimums+=size.offsetWidth;agreedOnWidths.push(-1);}
count++;}
totalMinimums+=2;var screenWidth=document.getElementById('clusterMessages').offsetWidth;var newWidth;if(totalMinimums>screenWidth){newWidth=totalMinimums;}else{newWidth=screenWidth;}
document.getElementById('NAVIGATOR_HEADER').style.width=newWidth+"px";if(isMSIE()){document.getElementById('NAVIGATOR_MIDDLE').style.width=(newWidth+4)+"px";document.getElementById('NAVIGATOR_FOOTER').style.width=newWidth+"px";}else{document.getElementById('NAVIGATOR_MIDDLE').style.width=(newWidth-1)+"px";document.getElementById('NAVIGATOR_FOOTER').style.width=(newWidth-2)+"px";}
var widths=calculateWidthsRecursively(elements,screenWidth-2,minimums,agreedOnWidths,totalWeights,weights,false);var bufWidth=0;var finalCount=0;for(count=0;count<sizes.length;count++){elements[count].style.width=widths[count]-1+"px";bufWidth+=widths[count]-1;finalCount=count;}
if(finalCount!=0){elements[finalCount].style.width=(widths[finalCount]+newWidth-bufWidth-2)+"px";}
updateHeights(paddingElements,sizes);}
function calculateWidthsRecursively(elements,total,minimums,agreedOnWidths,totalWeight,weights,usePercents){var count,id,percent;var widths=[];var accumulatedPercents=0;var weightsOfMinimums=0;var whatsLeftPercent=total;var whatsLeftWeight=totalWeight;var weStillNeedMoreWork=false;var lastElementStillInQuestion=-1;for(count=elements.length-1;count>=0&&lastElementStillInQuestion<0;count--){if(agreedOnWidths[count]<0){lastElementStillInQuestion=count;}}
for(count=0;count<elements.length;count++){id=elements[count].id;if(agreedOnWidths[count]>0){widths[count]=agreedOnWidths[count];}else{if(count==lastElementStillInQuestion){percent=total-accumulatedPercents;}else{percent=Math.round(weights[count]*total/totalWeight);}
if(percent<minimums[count]){agreedOnWidths[count]=minimums[count];whatsLeftPercent-=minimums[count];whatsLeftWeight-=weights[count];weStillNeedMoreWork=true;}else{widths[count]=percent;}
accumulatedPercents+=percent;}}
if(weStillNeedMoreWork){return calculateWidthsRecursively(elements,whatsLeftPercent,minimums,agreedOnWidths,whatsLeftWeight,weights,usePercents);}else{return widths;}}
function updateHeights(paddingElements,sizes){for(count=0;count<paddingElements.length;count++){var paddingElement=paddingElements[count];paddingElement.style.height=Number(0)+"px";}
var maxHeight=0;var expectedHeight,count;for(count=0;count<sizes.length;count++){expectedHeight=sizes[count].offsetHeight;if(expectedHeight>maxHeight){maxHeight=expectedHeight;}}
for(count=0;count<paddingElements.length;count++){var paddingElement=paddingElements[count];if(sizes[count].offsetHeight<maxHeight){paddingElement.style.height=Number(maxHeight-sizes[count].offsetHeight+paddingElement.offsetHeight+1)+"px";}}
document.getElementById('NAVIGATOR_LEFT').style.height=Number(maxHeight)+"px";}
function closeOverlay(clusterType){if(document.getElementById("overlayBuffer")!=null&&document.getElementById("overlayBuffer").innerHTML!=""){var cluster=document.getElementById("overlayBuffer").innerHTML;overlayHide(cluster);if(jQuery('div.cib_Container').is(':visible')){jQuery('div.cib_Container:visible').closest('#cib_Overlay').css({'display':'none'});}}
handleViewFewerClusterData(clusterType,10,5);botScreenPositioning();setOverlayStyle(clusterType);document.getElementById("cib_Overlay").style.display="none";return;}
function overlayHide(clusterType)
{if(document.getElementById("navigatorOverlay_"+clusterType)!=null){if(document.getElementById("navigatorOverlay_"+clusterType).style.display=="block"){overlayHidepass(clusterType);}}}
function overlayHidepass(clusterType){if(document.SearchResultsForm!=null&&document.SearchResultsForm.src.value=='s'){jQuery("#navigators").sortable("enable");}
if(document.getElementById("navigatorOverlay_"+clusterType)!=null){document.getElementById("navigatorOverlay_"+clusterType).style.display="none";}
var i=0;var checkCounter=0;if(document.getElementById("checkArray_"+clusterType)!=null){var checkbuff=document.getElementById("checkArray_"+clusterType).innerHTML;var checkBuffCnt=0;if(checkbuff!=""){var checkArray=checkbuff.split(",");}
checkbuff="";if(checkArray!=null&&checkArray.length>0){for(var x=0;x<checkArray.length;x++){if(document.getElementById(checkArray[x])==null){checkbuff+=","+checkArray[x];checkBuffCnt+=1;}}}
document.getElementById("checkArray_"+clusterType).innerHTML=checkbuff;}
var checkBoxes1=null;var checkBoxes2=null;var checkBoxes3=null;var checkBoxes4=null;var checkString="";var liArray="";if(document.getElementById("overlayul_"+clusterType+"1")!=null){checkBoxes1=jQuery("#overlayul_"+clusterType+"1").find("input.overlaycloseCheck");liArray=jQuery('#overlayul_'+clusterType+"1").find("li");}
if(document.getElementById("overlayul_"+clusterType+"2")!=null){checkBoxes2=jQuery("#overlayul_"+clusterType+"2").find("input.overlaycloseCheck");}
if(document.getElementById("overlayul_"+clusterType+"3")!=null){checkBoxes3=jQuery("#overlayul_"+clusterType+"3").find("input.overlaycloseCheck");}
if(document.getElementById("overlayul_"+clusterType+"4")!=null){checkBoxes4=jQuery("#overlayul_"+clusterType+"4").find("input.overlaycloseCheck");}
if(checkBoxes2!=null&&checkBoxes2.length>0){for(i=0;i<checkBoxes2.length;i++){if(checkBoxes2[i].checked){checkString+=checkBoxes2[i].id+",";checkCounter+=1;}}}
if(checkBoxes3!=null&&checkBoxes3.length>0){for(i=0;i<checkBoxes3.length;i++){if(checkBoxes3[i].checked){checkString+=checkBoxes3[i].id+",";checkCounter+=1;}}}
if(checkBoxes4!=null&&checkBoxes4.length>0){for(i=0;i<checkBoxes4.length;i++){if(checkBoxes4[i].checked){checkString+=checkBoxes4[i].id+",";checkCounter+=1;}}}
var navClusterli;if(document.getElementById("body_"+clusterType)!=null){navClusterli=jQuery('#body_'+clusterType).find('li');}
var testHTML="";if(liArray!=""){for(i=0;i<navClusterli.length;i++){if(i<10){if(liArray.length==0&&i==0){testHTML=jQuery("#overlayul_"+clusterType+"1").html();jQuery(navClusterli[0]).html(testHTML);}else{if(i<liArray.length){testHTML=jQuery(liArray[i]).html();jQuery(navClusterli[i]).html(testHTML);var newLi=jQuery(liArray[i]);var oldLi=jQuery(navClusterli[i]);var authorId=newLi.attr("data-auid");oldLi.find("#cib_Div_Overlay_").remove();var overLayDiv=jQuery("<div>",{'id':'cib_Div_Overlay_'+authorId});oldLi.append(overLayDiv);}else{navClusterli[i].innerHTML="";}}}else{break;}}}
var navClusterCheck;if(document.getElementById("body_"+clusterType)!=null){navClusterCheck=jQuery("#body_"+clusterType).find("input.overlaycloseCheck");}
if(checkBoxes1!=null&&checkBoxes1.length>0){for(i=0;i<checkBoxes1.length;i++){if(checkBoxes1[i].checked){if(i<10){navClusterCheck[i].checked=true;}else{checkString+=checkBoxes1[i].id+",";}
checkCounter+=1;}else{if(i<10){navClusterCheck[i].checked=false;}}}}
if(checkCounter>0){var tempValue="JS_MSG_AFFIL_CHECK_BOX_SELECTED"+"("+checkCounter+")";var selectedValue=eval('affiliation.'+tempValue);jQuery('#checkCount_'+clusterType).html(selectedValue);jQuery('#checkCount_'+clusterType).css({'display':'block'});}else if(document.getElementById("checkCount_"+clusterType)!=null){document.getElementById("checkCount_"+clusterType).style.display="none";}
if(checkString!=""){checkString=checkString.substring(0,checkString.length-1);}
if(document.getElementById("checkArray_"+clusterType)!=null){document.getElementById("checkArray_"+clusterType).innerHTML=checkString+checkbuff;}
document.getElementById("overlay_screen").style.display="none";document.getElementById("overlay_screen_lefttop").style.display="none";document.getElementById("overlay_screen_leftbot").style.display="none";if(liArray!=""&&liArray.length>0){if(liArray.length<=5){if(document.getElementById("viewMoreCount_"+clusterType)!=null){var morecount=Number(document.getElementById("viewMoreCount_"+clusterType).innerHTML);if(morecount>10){document.getElementById("viewMoreCount_"+clusterType).innerHTML=10;}}
if(document.getElementById("viewLessCount_"+clusterType)!=null){document.getElementById("viewLessCount_"+clusterType).innerHTML=0;}}else if(liArray.length>5){if(document.getElementById("viewMoreCount_"+clusterType)!=null){if(document.getElementById("hidden_"+clusterType)!=null){document.getElementById("hidden_"+clusterType).style.display="block";}
var morecount=Number(document.getElementById("viewMoreCount_"+clusterType).innerHTML);if(morecount>10){document.getElementById("viewMoreCount_"+clusterType).innerHTML=10;}}
if(document.getElementById("viewLessCount_"+clusterType)!=null){document.getElementById("viewLessCount_"+clusterType).innerHTML=5;}}}else if(liArray.length==0){if(document.getElementById("viewMoreCount_"+clusterType)!=null){var morecount=Number(document.getElementById("viewMoreCount_"+clusterType).innerHTML);if(morecount>10){document.getElementById("viewMoreCount_"+clusterType).innerHTML=10;}}
if(document.getElementById("viewLessCount_"+clusterType)!=null){document.getElementById("viewLessCount_"+clusterType).innerHTML=0;}}
botScreenPositioning();var cibObject=jQuery("#navigators .cib_Span");cibObject.each(function(i){this.style.background="#fff";});document.getElementById("cib_Overlay").style.display="none";}
function viewMoreClusters(origin,originationType,clusterType,clusterCategory,actualClusterCount){if(clusterType=='affilcity'){handleViewMorForAllClusterData(origin,affilCityArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='affilctry'){handleViewMorForAllClusterData(origin,affilCntryArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='afnameid'){handleViewMorForAllClusterData(origin,affilNameArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='subjclus'){handleViewMorForAllClusterData(origin,affilSubAreaArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='srctitle'){handleViewMorForAllClusterData(origin,affilSourceTitleArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='txt14'){handleViewMorForAllClusterData(origin,keywordArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='subtype'){handleViewMorForAllClusterData(origin,infoTypeArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='srctype'){handleViewMorForAllClusterData(origin,contentSrcArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='EXACTSRCTITLE'){handleViewMorForAllClusterData(origin,clusterSourceTitleArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='PUBYEAR'){handleViewMorForAllClusterData(origin,clusterPubYearArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='DOCTYPE'){handleViewMorForAllClusterData(origin,clusterDocTypeArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='SUBJAREA'){handleViewMorForAllClusterData(origin,clusterSubAreaArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='AUTHOR_NAME_AND_ID'){handleViewMorForAllClusterData(origin,clusterAuthorNameArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='COUNTRY_NAME'){handleViewMorForAllClusterData(origin,clusterCountryNameArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='LANGUAGE'){handleViewMorForAllClusterData(origin,clusterLanguageArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='AFFIL'){handleViewMorForAllClusterData(origin,clusterAffilArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='SCOPUSSRCTYPE'){handleViewMorForAllClusterData(origin,clusterSourceTypeArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='EXACTKEYWORD'){handleViewMorForAllClusterData(origin,clusterKeyWordArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='AUCITE'){handleViewMorForAllClusterData(origin,clusterAuthCiteArray,originationType,clusterType,clusterCategory,actualClusterCount);}else if(clusterType=='STATUSTYPE'){handleViewMorForAllClusterData(origin,clusterStatusTypeArray,originationType,clusterType,clusterCategory,actualClusterCount);}
botScreenPositioning();document.getElementById("cib_Overlay").style.display="none";jQuery("#navigators #cib_Overlay").each(function(){jQuery(this).hide();});return;}
function handleViewMorForAllClusterData(origin,clusterArray,originationType,clusterType,clusterCategory,actualClusterCount){if(document.getElementById("overlayBuffer")!=null&&document.getElementById("overlayBuffer").innerHTML!=""){var cluster=document.getElementById("overlayBuffer").innerHTML;if(cluster!=clusterType){overlayHide(cluster);}}
var currentClusterCount=Number(document.getElementById("viewMoreCount_"+clusterType).innerHTML);var viewMoreCount=0;var viewLessCount=0;if(currentClusterCount==5){viewMoreCount=10;viewLessCount=5;if(document.getElementById("hidden_"+clusterType)!=null){document.getElementById("hidden_"+clusterType).style.display="block";}
if(actualClusterCount<=10){document.getElementById("viewMoreLink_"+clusterType).style.display="none";document.getElementById("viewDivider_"+clusterType).style.display="none";}else{document.getElementById("viewDivider_"+clusterType).style.display="inline";document.getElementById("viewDivider_"+clusterType).style.color="#b7b7b7";}
document.getElementById("viewFewerLink_"+clusterType).style.display="inline";document.getElementById("viewMoreCount_"+clusterType).innerHTML=viewMoreCount;document.getElementById("viewLessCount_"+clusterType).innerHTML=viewLessCount;var session=0;setClusterResultsCount(clusterType,actualClusterCount,session);setSelectedCluster(clusterType,'open',10);}else{if(currentClusterCount==10){viewMoreCount=40;viewLessCount=10;document.getElementById("divider_"+clusterType).style.display="inline";document.getElementById("divider_"+clusterType).style.color="#b7b7b7";}else if(currentClusterCount==40){viewMoreCount=160;viewLessCount=40;}
if((fastCallDone[clusterType][1]=='false'&&viewMoreCount==40)||(fastCallDone[clusterType][3]=='false'&&viewMoreCount==160))
{if(origin=='AuthorNamesList'){retrieveAuthorFromFAST(viewMoreCount,originationType,clusterType,clusterCategory);}else if(origin=='AffiliationNamesList'){retrieveAffiliationFromFAST(viewMoreCount,originationType,clusterType,clusterCategory);}else if(origin=='resultslist'){retrieveDocumentFromFAST(viewMoreCount,originationType,clusterType,clusterCategory);}}else{replaceCurrentClusterData(clusterArray,clusterType,viewMoreCount,viewLessCount);}}}
function retrieveDocumentFromFAST(nextClusterCount,originationType,clusterType,clusterCategory){var docURL=buildDocumentURL(nextClusterCount,originationType,clusterType,clusterCategory);showLoadingState(clusterType);var xmlhttp=GetXmlHttpObject();xmlhttp.onreadystatechange=function(){putClusterDataInArray(xmlhttp,clusterType,nextClusterCount);};xmlhttp.open("POST",clusterBaseUrl,true);xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlhttp.setRequestHeader("Content-length",docURL.length);xmlhttp.setRequestHeader("Connection","close");xmlhttp.send(docURL);}
function retrieveAuthorFromFAST(nextClusterCount,originationType,clusterType,clusterCategory){var authURL=buildAuthorURL(nextClusterCount,originationType,clusterType,clusterCategory);showLoadingState(clusterType);var xmlhttp=GetXmlHttpObject();xmlhttp.onreadystatechange=function(){putClusterDataInArray(xmlhttp,clusterType,nextClusterCount);};xmlhttp.open("POST","../standard/viewMore.uri",true);xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlhttp.setRequestHeader("Content-length",authURL.length);xmlhttp.setRequestHeader("Connection","close");xmlhttp.send(authURL);}
function buildAuthorURL(nextClusterCount,originationType,clusterType,clusterCategory){var authorURL="";if(document.AuthorLookupResultsForm!=null){var query=document.AuthorLookupResultsForm.s.value;var offset=document.AuthorLookupResultsForm.offset.value;var st1="";if(document.AuthorLookupResultsForm.st1!=null){st1=document.AuthorLookupResultsForm.st1.value;}
var st2="";if(document.AuthorLookupResultsForm.st2!=null){st2=document.AuthorLookupResultsForm.st2.value;}
var sid=document.AuthorLookupResultsForm.sid.value;var sessionSearchId=document.AuthorLookupResultsForm.sessionSearchId.value;var origin="AuthorNamesList";var authSubObj=document.AuthorLookupResultsForm.authSubject;var optionsAuthSubj="";if(authSubObj!=null){optionsAuthSubj=new Array(authSubObj.length);for(i=0;i<authSubObj.length;i++){optionsAuthSubj[i]=authSubObj[i].value;}}
var sort=document.AuthorLookupResultsForm.sort.value;if(sort==null||sort==''){sort=document.AuthorLookupResultsForm.currentSort.value;}
var affCity=document.AuthorLookupResultsForm.affilCity.value;var affCntry=document.AuthorLookupResultsForm.affilCntry.value;var affId="";if(document.AuthorLookupResultsForm.affiliationId!=null){affId=document.AuthorLookupResultsForm.affiliationId.value;}
var affName="";if(document.AuthorLookupResultsForm.affilName!=null){affName=document.AuthorLookupResultsForm.affilName.value;}
var isExactSearch=false;if(document.AuthorLookupResultsForm.exactAuthorSearch!=null){isExactSearch=document.AuthorLookupResultsForm.exactAuthorSearch.checked;}
var clusterData="";if(document.AuthorLookupResultsForm.cluster!=null){var clusterAtt=document.AuthorLookupResultsForm.cluster.value;clusterData=escape(clusterAtt);clusterData=clusterData.replace(/\+/g,'%2B');}
var scls="";var sIndex="";if(document.AuthorLookupResultsForm.scls!=null){sIndex=document.AuthorLookupResultsForm.scls.selectedIndex;if(sIndex!=""&&sIndex>0){scls=document.AuthorLookupResultsForm.scls.options[sIndex].value;}}
var sclsb="";var sclsbIndex="";if(document.AuthorLookupResultsForm.sclsb!=null){sclsbIndex=document.AuthorLookupResultsForm.sclsb.selectedIndex;if(sclsbIndex!=""&&sclsbIndex>0){sclsb=document.AuthorLookupResultsForm.sclsb.options[sclsbIndex].value;}}
var aclan="";var aclanIndex="";if(document.AuthorLookupResultsForm.aclan!=null){aclanIndex=document.AuthorLookupResultsForm.aclan.selectedIndex;if(aclanIndex!=""&&aclanIndex>0){aclan=document.AuthorLookupResultsForm.aclan.options[aclanIndex].value;}}
var aclac="";var aclacIndex="";if(document.AuthorLookupResultsForm.aclac!=null){aclacIndex=document.AuthorLookupResultsForm.aclac.selectedIndex;if(aclacIndex!=""&&aclacIndex>0){aclac=document.AuthorLookupResultsForm.aclac.options[aclacIndex].value;}}
var aclcn="";var aclcnIndex="";if(document.AuthorLookupResultsForm.aclcn!=null){aclcnIndex=document.AuthorLookupResultsForm.aclcn.selectedIndex;if(aclcnIndex!=""&&aclcnIndex>0){aclcn=document.AuthorLookupResultsForm.aclcn.options[aclcnIndex].value;}}
var fullList=false;if(document.AuthorLookupResultsForm.showFullList!=null){fullList=document.AuthorLookupResultsForm.showFullList.value;}
var coAuthor=false;var displayCount="clusterDisplayCount="+nextClusterCount;var searchQuery="&s="+query;var offsetVal="&offset="+offset;var srchTerm1="&st1="+st1;var srchTerm2="&st2="+st2;var sidParam="&sid="+sid;var originParam="&origin="+origin;var authParam="&authSubject="+optionsAuthSubj;var sortType="&sort="+sort;var affilCity="&affilCity="+affCity;var affilCntry="&affilCntry="+affCntry;var affiliationId="&affiliationId="+affId;var affilName="&affilName="+affName;var exactAuthorSearch="&exactAuthorSearch="+isExactSearch;var cluster="&cluster="+clusterData;var originType="&sot="+originationType;var dimensionName="&navigatorName="+clusterType;var selectedCategory="&clusterCategory="+clusterCategory;var sclsParam="&scls="+scls;var sclsbParam="&sclsb="+sclsb;var aclanParam="&aclan="+aclan;var aclacParam="&aclac="+aclac;var aclcnParam="&aclcn="+aclcn;var coAuthorForm="&coAuthorForm="+coAuthor;var showFullList="&showFullList="+fullList;var sessionId="&sessionSearchId="+sessionSearchId;authorURL=displayCount+searchQuery+offsetVal+srchTerm1+srchTerm2+
sidParam+originParam+authParam+sortType+affilCity+affilCntry+affiliationId+affilName+
exactAuthorSearch+cluster+originType+dimensionName+selectedCategory+sclsParam+sclsbParam+
aclanParam+aclacParam+aclcnParam+coAuthorForm+showFullList+sessionId;}else if(document.CoAuthorResultsForm!=null){var coAuthor=true;var show;var query=document.CoAuthorResultsForm.s.value;var offset=document.CoAuthorResultsForm.offset.value;var st1="";if(document.CoAuthorResultsForm.st1!=null){st1=document.CoAuthorResultsForm.st1.value;}
var st2="";if(document.CoAuthorResultsForm.st2!=null){st2=document.CoAuthorResultsForm.st2.value;}
var sid=document.CoAuthorResultsForm.sid.value;var sessionSearchId=document.CoAuthorResultsForm.sessionSearchId.value;var origin="AuthorNamesList";var authSubObj=document.CoAuthorResultsForm.authSubject;var optionsAuthSubj="";if(authSubObj!=null){optionsAuthSubj=new Array(authSubObj.length);for(i=0;i<authSubObj.length;i++){optionsAuthSubj[i]=authSubObj[i].value;}}
var sort=document.CoAuthorResultsForm.sort.value;if(sort==null||sort==''){sort=document.CoAuthorResultsForm.currentSort.value;}
var affCity=document.CoAuthorResultsForm.affilCity.value;var affCntry=document.CoAuthorResultsForm.affilCntry.value;var affId="";if(document.CoAuthorResultsForm.affiliationId!=null){affId=document.CoAuthorResultsForm.affiliationId.value;}
var affName="";if(document.CoAuthorResultsForm.affilName!=null){affName=document.CoAuthorResultsForm.affilName.value;}
var isExactSearch=false;if(document.CoAuthorResultsForm.exactAuthorSearch!=null){isExactSearch=document.CoAuthorResultsForm.exactAuthorSearch.checked;}
var clusterData="";if(document.CoAuthorResultsForm.cluster!=null){var clusterAtt=document.CoAuthorResultsForm.cluster.value;clusterData=escape(clusterAtt);clusterData=clusterData.replace(/\+/g,'%2B');}
var scls="";var sIndex="";if(document.CoAuthorResultsForm.scls!=null){sIndex=document.CoAuthorResultsForm.scls.selectedIndex;if(sIndex!=""&&sIndex>0){scls=document.CoAuthorResultsForm.scls.options[sIndex].value;}}
var sclsb="";var sclsbIndex="";if(document.CoAuthorResultsForm.sclsb!=null){sclsbIndex=document.CoAuthorResultsForm.sclsb.selectedIndex;if(sclsbIndex!=""&&sclsbIndex>0){sclsb=document.CoAuthorResultsForm.sclsb.options[sclsbIndex].value;}}
var aclan="";var aclanIndex="";if(document.CoAuthorResultsForm.aclan!=null){aclanIndex=document.CoAuthorResultsForm.aclan.selectedIndex;if(aclanIndex!=""&&aclanIndex>0){aclan=document.CoAuthorResultsForm.aclan.options[aclanIndex].value;}}
var aclac="";var aclacIndex="";if(document.CoAuthorResultsForm.aclac!=null){aclacIndex=document.CoAuthorResultsForm.aclac.selectedIndex;if(aclacIndex!=""&&aclacIndex>0){aclac=document.CoAuthorResultsForm.aclac.options[aclacIndex].value;}}
var aclcn="";var aclcnIndex="";if(document.CoAuthorResultsForm.aclcn!=null){aclcnIndex=document.CoAuthorResultsForm.aclcn.selectedIndex;if(aclcnIndex!=""&&aclcnIndex>0){aclcn=document.CoAuthorResultsForm.aclcn.options[aclcnIndex].value;}}
var authId="";if(document.CoAuthorResultsForm.authorId!=null){authId=document.CoAuthorResultsForm.authorId.value;}
var fullList=false;var displayCount="clusterDisplayCount="+nextClusterCount;var searchQuery="&s="+query;var offsetVal="&offset="+offset;var srchTerm1="&st1="+st1;var srchTerm2="&st2="+st2;var sidParam="&sid="+sid;var originParam="&origin="+origin;var authParam="&authSubject="+optionsAuthSubj;var sortType="&sort="+sort;var affilCity="&affilCity="+affCity;var affilCntry="&affilCntry="+affCntry;var affiliationId="&affiliationId="+affId;var affilName="&affilName="+affName;var exactAuthorSearch="&exactAuthorSearch="+isExactSearch;var cluster="&cluster="+clusterData;var originType="&sot="+originationType;var dimensionName="&navigatorName="+clusterType;var selectedCategory="&clusterCategory="+clusterCategory;var sclsParam="&scls="+scls;var sclsbParam="&sclsb="+sclsb;var aclanParam="&aclan="+aclan;var aclacParam="&aclac="+aclac;var aclcnParam="&aclcn="+aclcn;var coAuthorForm="&coAuthorForm="+coAuthor;var showFullList="&showFullList="+fullList;var authorId="&authorId="+authId;var sessionId="&sessionSearchId="+sessionSearchId;authorURL=displayCount+searchQuery+offsetVal+srchTerm1+srchTerm2+
sidParam+originParam+authParam+sortType+affilCity+affilCntry+affiliationId+affilName+
exactAuthorSearch+cluster+originType+dimensionName+selectedCategory+sclsParam+sclsbParam+
aclanParam+aclacParam+aclcnParam+coAuthorForm+showFullList+authorId+sessionId;}
return authorURL;}
function retrieveAffiliationFromFAST(nextClusterCount,originationType,clusterType,clusterCategory){var affilURL=buildAffilURL(nextClusterCount,originationType,clusterType,clusterCategory);showLoadingState(clusterType);var xmlhttp=GetXmlHttpObject();xmlhttp.onreadystatechange=function(){putClusterDataInArray(xmlhttp,clusterType,nextClusterCount);};xmlhttp.open("POST","../standard/viewMore.uri",true);xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlhttp.setRequestHeader("Content-length",affilURL.length);xmlhttp.setRequestHeader("Connection","close");xmlhttp.send(affilURL);}
function buildAffilURL(nextClusterCount,originationType,clusterType,clusterCategory){var query=document.AffiliationLookupResultsForm.s.value;var st1=document.AffiliationLookupResultsForm.st1.value;var st2=document.AffiliationLookupResultsForm.st2.value;var sot="";if(document.AffiliationLookupResultsForm.sot!=null){sot=document.AffiliationLookupResultsForm.sot.value;}
var sid=document.AffiliationLookupResultsForm.sid.value;var affiName=document.AffiliationLookupResultsForm.affilName.value;var affiCity=document.AffiliationLookupResultsForm.affilCity.value;var affiCntry=document.AffiliationLookupResultsForm.affilCntry.value;var affiId="";if(document.AffiliationLookupResultsForm.affiliationId!=null){affiId=document.AffiliationLookupResultsForm.affiliationId.value;}
var origin="AffiliationNamesList";var sort=document.AffiliationLookupResultsForm.sort.value;if(sort==null||sort==''){sort=document.AffiliationLookupResultsForm.currentSort.value;}
var cluster="";if(document.AffiliationLookupResultsForm.cluster!=null){var clusterAtt=document.AffiliationLookupResultsForm.cluster.value;cluster=escape(clusterAtt);cluster=cluster.replace(/\+/g,'%2B');}
var afclcn="";var afclcnIndex="";if(document.AffiliationLookupResultsForm.afclcn!=null){afclcnIndex=document.AffiliationLookupResultsForm.afclcn.selectedIndex;if(afclcnIndex!=""&&afclcnIndex>0){afclcn=document.AffiliationLookupResultsForm.afclcn.options[afclcnIndex].value;}}
var afclac="";var afclacIndex="";if(document.AffiliationLookupResultsForm.afclac!=null){afclacIndex=document.AffiliationLookupResultsForm.afclac.selectedIndex;if(afclacIndex!=""&&afclacIndex>0){afclac=document.AffiliationLookupResultsForm.afclac.options[afclacIndex].value;}}
var displayCount="clusterDisplayCount="+nextClusterCount;var originType="&sot="+originationType;var dimensionName="&navigatorName="+clusterType;var selectedCategory="&clusterCategory="+clusterCategory;var searchQuery="&s="+query;var srchTerm1="&st1="+st1;var srchTerm2="&st2="+st2;var sotParam="&sot="+sot;var sidParam="&sid="+sid;var affilName="&affilName="+affiName;var affilCity="&affilCity="+affiCity;var affilCntry="&affilCntry="+affiCntry;var affilId="&affiliationId="+affiId;var originParam="&origin="+origin;var sortType="&sort="+sort;var clusterData="&cluster="+cluster;var afclcnParam="&afclcn="+afclcn;var afclacParam="&afclac="+afclac;var affiliationURL=displayCount+originType+dimensionName+selectedCategory+searchQuery+srchTerm1+srchTerm2+
sotParam+sidParam+affilName+affilCity+affilCntry+affilId+originParam+sortType+clusterData+afclcnParam+afclacParam;return affiliationURL;}
function viewFewerClusters(clusterType){if(document.getElementById("overlayBuffer")!=null&&document.getElementById("overlayBuffer").innerHTML!=""){var cluster=document.getElementById("overlayBuffer").innerHTML;if(cluster!=clusterType){overlayHide(cluster);}}
var clusterLessCount=Number(document.getElementById("viewLessCount_"+clusterType).innerHTML);if(clusterLessCount==0){collapseSection(clusterType,'collapse');}else if(clusterLessCount==5){if(document.getElementById("hidden_"+clusterType)!=null){document.getElementById("hidden_"+clusterType).style.display="none";}
document.getElementById("viewMoreCount_"+clusterType).innerHTML=5;document.getElementById("viewLessCount_"+clusterType).innerHTML=0;document.getElementById("viewMoreLink_"+clusterType).style.display="inline";document.getElementById("viewFewerLink_"+clusterType).style.display="none";document.getElementById("viewDivider_"+clusterType).style.display="none";setSelectedCluster(clusterType,'open',5);}else if(clusterLessCount==10){handleViewFewerClusterData(clusterType,10,5);}else if(clusterLessCount==40){updateCheckBuffer(clusterType);handleViewFewerClusterData(clusterType,40,10);}
botScreenPositioning();setOverlayStyle(clusterType);document.getElementById("cib_Overlay").style.display="none";return;}
function preProcessClusterSorting(event){var selectId=event.id;var clusterJson=jQuery('#onchangeinput'+selectId.substr(selectId.indexOf('_'),selectId.length)).attr('data-onchangeinputs');var clusterjsonstrn=jQuery.parseJSON(clusterJson);handleClusterSorting('resultslist',searchType,clusterjsonstrn.clusterType,clusterjsonstrn.selectedClustersName);}
function handleClusterSorting(origin,originationType,clusterType,clusterCategory){if(origin=='resultslist'){if(document.getElementById("clusterSort_scls")!=null&&document.getElementById("clusterSort_scls").value!='# of results'){jQuery("#hideAnalyzeSources").css('display','inline-block');jQuery("#showAnalyzeSources").css('display','none');}else{jQuery("#showAnalyzeSources").css('display','inline-block');jQuery("#hideAnalyzeSources").css('display','none');}}
var currentClusterCount=Number(document.getElementById("viewMoreCount_"+clusterType).innerHTML);updateCheckBuffer(clusterType);if(origin=='AuthorNamesList'){var authURL=buildAuthorURL(currentClusterCount,originationType,clusterType,clusterCategory);var xmlhttp=GetXmlHttpObject();xmlhttp.onreadystatechange=function(){fetchSortedClusterValue(xmlhttp,clusterType,currentClusterCount);};xmlhttp.open("POST","../standard/viewMore.uri",true);xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlhttp.setRequestHeader("Content-length",authURL.length);xmlhttp.setRequestHeader("Connection","close");xmlhttp.send(authURL);}else if(origin=='AffiliationNamesList'){var affilURL=buildAffilURL(currentClusterCount,originationType,clusterType,clusterCategory);var xmlhttp=GetXmlHttpObject();xmlhttp.onreadystatechange=function(){fetchSortedClusterValue(xmlhttp,clusterType,currentClusterCount);};xmlhttp.open("POST","../standard/viewMore.uri",true);xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlhttp.setRequestHeader("Content-length",affilURL.length);xmlhttp.setRequestHeader("Connection","close");xmlhttp.send(affilURL);}else if(origin=='resultslist'){var docURL=buildDocumentURL(currentClusterCount,originationType,clusterType,clusterCategory);var xmlhttp=GetXmlHttpObject();xmlhttp.onreadystatechange=function(){fetchSortedClusterValue(xmlhttp,clusterType,currentClusterCount);};xmlhttp.open("POST",clusterBaseUrl,true);xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlhttp.setRequestHeader("Content-length",docURL.length);xmlhttp.setRequestHeader("Connection","close");xmlhttp.send(docURL);}
return;}
function updateCheckBuffer(clusterType){var checkbuff=document.getElementById("checkArray_"+clusterType).innerHTML;if(checkbuff!=""){var checkArray=checkbuff.split(",");}
checkbuff="";if(checkArray!=null&&checkArray.length>0){for(var x=0;x<checkArray.length;x++){if(document.getElementById(checkArray[x])==null){checkbuff+=","+checkArray[x];}}}
var checkBoxes1=null;var checkBoxes2=null;var checkBoxes3=null;var checkBoxes4=null;var checkString="";if(document.getElementById("overlayul_"+clusterType+"1")!=null){checkBoxes1=jQuery("#overlayul_"+clusterType+"1").find("input");}
if(document.getElementById("overlayul_"+clusterType+"2")!=null){checkBoxes2=jQuery("#overlayul_"+clusterType+"2").find("input");}
if(document.getElementById("overlayul_"+clusterType+"3")!=null){checkBoxes3=jQuery("#overlayul_"+clusterType+"3").find("input");}
if(document.getElementById("overlayul_"+clusterType+"4")!=null){checkBoxes4=jQuery("#overlayul_"+clusterType+"4").find("input");}
if(checkBoxes2!=null&&checkBoxes2.length>0){for(var i=0;i<checkBoxes2.length;i++){if(checkBoxes2[i].checked){checkString+=checkBoxes2[i].id+",";}}}
if(checkBoxes3!=null&&checkBoxes3.length>0){for(var i=0;i<checkBoxes3.length;i++){if(checkBoxes3[i].checked){checkString+=checkBoxes3[i].id+",";}}}
if(checkBoxes4!=null&&checkBoxes4.length>0){for(var i=0;i<checkBoxes4.length;i++){if(checkBoxes4[i].checked){checkString+=checkBoxes4[i].id+",";}}}
if(checkBoxes1!=null&&checkBoxes1.length>0){for(var i=0;i<checkBoxes1.length;i++){if(checkBoxes1[i].checked){checkString+=checkBoxes1[i].id+",";}}}
if(checkString!=""){checkString=checkString.substring(0,checkString.length-1);}
document.getElementById("checkArray_"+clusterType).innerHTML=checkString+checkbuff;}
function fetchSortedClusterValue(xmlhttp,clusterType,currentClusterCount){if(xmlhttp.readyState==4){var clusterVal=xmlhttp.responseText.substr(0,(xmlhttp.responseText.lastIndexOf(']')+1));if(clusterVal!=null&&clusterVal!=''){if(currentClusterCount==160){document.getElementById("viewLessCount_"+clusterType).innerHTML=40;}
if(clusterType=='EXACTSRCTITLE'){clusterSourceTitleArray=eval(clusterVal);replaceWithSortedClusterData(clusterSourceTitleArray,clusterType,currentClusterCount);}else if(clusterType=='PUBYEAR'){clusterPubYearArray=eval(clusterVal);replaceWithSortedClusterData(clusterPubYearArray,clusterType,currentClusterCount);}else if(clusterType=='DOCTYPE'){clusterDocTypeArray=eval(clusterVal);replaceWithSortedClusterData(clusterDocTypeArray,clusterType,currentClusterCount);}else if(clusterType=='SUBJAREA'){clusterSubAreaArray=eval(clusterVal);replaceWithSortedClusterData(clusterSubAreaArray,clusterType,currentClusterCount);}else if(clusterType=='AUTHOR_NAME_AND_ID'){clusterAuthorNameArray=eval(clusterVal);replaceWithSortedClusterData(clusterAuthorNameArray,clusterType,currentClusterCount);}else if(clusterType=='COUNTRY_NAME'){clusterCountryNameArray=eval(clusterVal);replaceWithSortedClusterData(clusterCountryNameArray,clusterType,currentClusterCount);}else if(clusterType=='LANGUAGE'){clusterLanguageArray=eval(clusterVal);replaceWithSortedClusterData(clusterLanguageArray,clusterType,currentClusterCount);}else if(clusterType=='AFFIL'){clusterAffilArray=eval(clusterVal);replaceWithSortedClusterData(clusterAffilArray,clusterType,currentClusterCount);}else if(clusterType=='SCOPUSSRCTYPE'){clusterSourceTypeArray=eval(clusterVal);replaceWithSortedClusterData(clusterSourceTypeArray,clusterType,currentClusterCount);}else if(clusterType=='EXACTKEYWORD'){clusterKeyWordArray=eval(clusterVal);replaceWithSortedClusterData(clusterKeyWordArray,clusterType,currentClusterCount);}else if(clusterType=='AUCITE'){clusterAuthCiteArray=eval(clusterVal);replaceWithSortedClusterData(clusterAuthCiteArray,clusterType,currentClusterCount);}else if(clusterType=='STATUSTYPE'){clusterStatusTypeArray=eval(clusterVal);replaceWithSortedClusterData(clusterStatusTypeArray,clusterType,currentClusterCount);}else if(clusterType=='affilcity'){affilCityArray=eval(clusterVal);replaceWithSortedClusterData(affilCityArray,clusterType,currentClusterCount);}else if(clusterType=='affilctry'){affilCntryArray=eval(clusterVal);replaceWithSortedClusterData(affilCntryArray,clusterType,currentClusterCount);}else if(clusterType=='subjclus'){affilSubAreaArray=eval(clusterVal);replaceWithSortedClusterData(affilSubAreaArray,clusterType,currentClusterCount);}else if(clusterType=='srctitle'){affilSourceTitleArray=eval(clusterVal);replaceWithSortedClusterData(affilSourceTitleArray,clusterType,currentClusterCount);}else if(clusterType=='afnameid'){affilNameArray=eval(clusterVal);replaceWithSortedClusterData(affilNameArray,clusterType,currentClusterCount);}else if(clusterType=='srctype'){contentSrcArray=eval(clusterVal);replaceWithSortedClusterData(contentSrcArray,clusterType,currentClusterCount);}else if(clusterType=='txt14'){keywordArray=eval(clusterVal);replaceWithSortedClusterData(keywordArray,clusterType,currentClusterCount);}else if(clusterType=='subtype'){infoTypeArray=eval(clusterVal);replaceWithSortedClusterData(infoTypeArray,clusterType,currentClusterCount);}}
if(clusterVal==''){document.getElementById("overlayul_"+clusterType+'1').innerHTML="";document.getElementById("overlayul_"+clusterType+'2').innerHTML="";document.getElementById("overlayul_"+clusterType+'3').innerHTML="";document.getElementById("overlayul_"+clusterType+'4').innerHTML="";document.getElementById("vmore_"+clusterType).style.display="none";document.getElementById("divider_"+clusterType).style.display="none";if(currentClusterCount==160){document.getElementById("viewLessCount_"+clusterType).innerHTML=10;}
if(clusterType=='EXACTSRCTITLE'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_SOURCE();clusterSourceTitleArray="";}else if(clusterType=='PUBYEAR'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_YEARS();clusterPubYearArray="";}else if(clusterType=='DOCTYPE'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_DOCUMENT();clusterDocTypeArray="";}else if(clusterType=='SUBJAREA'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_SUBJECT();clusterSubAreaArray="";}else if(clusterType=='AUTHOR_NAME_AND_ID'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_AUTHOR();clusterAuthorNameArray="";}else if(clusterType=='COUNTRY_NAME'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_COUNTRIES();clusterCountryNameArray="";}else if(clusterType=='LANGUAGE'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_AUTHOR();clusterLanguageArray="";}else if(clusterType=='AFFIL'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_AFFILIATION();clusterAffilArray="";}else if(clusterType=='SCOPUSSRCTYPE'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_SOURCE_TYPE();clusterSourceTypeArray="";}else if(clusterType=='EXACTKEYWORD'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_KEYWORDS();clusterKeyWordArray="";}else if(clusterType=='AUCITE'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_AUTHOR_NAME();clusterAuthCiteArray="";}else if(clusterType=='STATUSTYPE'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_RESULT();clusterStatusTypeArray="";}else if(clusterType=='affilcity'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_CITIES();affilCityArray="";}else if(clusterType=='affilctry'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_COUNTRIES();affilCntryArray="";}else if(clusterType=='subjclus'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_SUBJECT();affilSubAreaArray="";}else if(clusterType=='srctitle'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_SOURCE();affilSourceTitleArray="";}else if(clusterType=='afnameid'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_AFFILIATION();affilNameArray="";}else if(clusterType=='srctype'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_CONTENT();contentSrcArray="";}else if(clusterType=='txt14'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_KEYWORDS();keywordArray="";}else if(clusterType=='subtype'){document.getElementById("overlayul_"+clusterType+'1').innerHTML=affiliation.JS_MSG_NO_INFORMATION();infoTypeArray="";}}
setOverlayStyle(clusterType);enableDisableLmtExcBtn.noItemsSelected();}}
function replaceWithSortedClusterData(arrayValue,clusterType,clusterCount){if(fastCallDone[clusterType][3]=='true'&&clusterCount==40){fastCallDone[clusterType][3]='false';}
var newStr="";for(var i=0;i<clusterCount;i++){newStr=newStr+arrayValue[i];}
document.getElementById("overlayul_"+clusterType).innerHTML=newStr;document.getElementById("overlayul_"+clusterType+'1').innerHTML="";document.getElementById("overlayul_"+clusterType+'2').innerHTML="";document.getElementById("overlayul_"+clusterType+'3').innerHTML="";document.getElementById("overlayul_"+clusterType+'4').innerHTML="";var i=0;var liList=jQuery("#overlayul_"+clusterType).find("li");var liHtml="";var listLen=0;var overlaycount="";if(clusterCount==160||clusterCount==40){overlaycount+=clusterCount;}
if(clusterCount==40&&liList.length==41){listLen=liList.length-1;}else{listLen=liList.length;}
if(clusterCount==40){if(liList.length>=40){document.getElementById("vmore_"+clusterType).style.display="inline";document.getElementById("divider_"+clusterType).style.display="inline";document.getElementById("divider_"+clusterType).style.color="#b7b7b7";}else{document.getElementById("vmore_"+clusterType).style.display="none";document.getElementById("divider_"+clusterType).style.display="none";}
if(listLen>30&&listLen<=40){for(i=0;i<10;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=10;i<20;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;liHtml="";for(i=20;i<30;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'3').innerHTML=liHtml;liHtml="";for(i=30;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'4').innerHTML=liHtml;}else if(listLen>20&&listLen<=30){for(i=0;i<10;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=10;i<20;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;liHtml="";for(i=20;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'3').innerHTML=liHtml;}else if(listLen>10&&listLen<=20){for(i=0;i<10;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=10;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;}else if(listLen<=10){for(i=0;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;}
var checkString=document.getElementById("checkArray_"+clusterType).innerHTML;var checkArray="";if(checkString!=""){checkArray=checkString.split(",");}
var i=0;var checkObj="";for(i=0;i<checkArray.length;i++){if(checkArray[i]!=""){checkObj=jQuery("#navigatorOverlay_"+clusterType).find("#"+checkArray[i]);if(checkObj!=null){checkObj.attr('checked','true');}}}}else if(clusterCount==160){var divCnt=Math.floor(liList.length/4);var remCnt=liList.length%4;var firstRCnt=divCnt;if(remCnt>=1){firstRCnt+=1;}
var secRCnt=2*divCnt;if(remCnt>=2){secRCnt=2*firstRCnt;}
var thirdRCnt=3*divCnt;if(remCnt==3){thirdRCnt=3*firstRCnt;}
for(i=0;i<firstRCnt;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=firstRCnt;i<secRCnt;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;liHtml="";var isCountIncluded=false;for(i=secRCnt;i<thirdRCnt;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);isCountIncluded=true;}
document.getElementById("overlayul_"+clusterType+'3').innerHTML=liHtml;liHtml="";if(isCountIncluded){for(i=thirdRCnt;i<liList.length;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}}else{if(liList.length>1){for(i=secRCnt;i<liList.length;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}}}
document.getElementById("overlayul_"+clusterType+'4').innerHTML=liHtml;var checkString=document.getElementById("checkArray_"+clusterType).innerHTML;var checkArray="";if(checkString!=""){checkArray=checkString.split(",");}
var i=0;var checkObj="";for(i=0;i<checkArray.length;i++){if(checkArray[i]!=""){checkObj=jQuery("#navigatorOverlay_"+clusterType).find("#"+checkArray[i]);if(checkObj!=null){checkObj.attr('checked','true');}}}}
var liArray="";if(document.getElementById("overlayul_"+clusterType+"1")!=null){liArray=jQuery("#overlayul_"+clusterType+"1").find("li");}
var navClusterli=jQuery("#body_"+clusterType).find("li");if(liArray!=""){for(i=0;i<navClusterli.length;i++){if(i<10){if(liArray.length==0&&i==0){navClusterli[0].innerHTML=document.getElementById("overlayul_"+clusterType+"1").innerHTML;}else{if(i<liArray.length){var newLi=jQuery(liArray[i]);var authorId=newLi.attr("data-auid");var oldLi=jQuery(navClusterli[i]);var newId=["li_",authorId].join('');oldLi.attr("id",newId).html(newLi.html());oldLi.find("#cib_Div_Overlay_"+clusterCount+authorId).remove();var overLayDiv=jQuery("<div>",{'id':'cib_Div_Overlay_'+authorId});oldLi.append(overLayDiv);}else{navClusterli[i].innerHTML="";}}}else{break;}}
if(liArray.length>0){if(liArray.length<=5){if(document.getElementById("hidden_"+clusterType)!=null){document.getElementById("hidden_"+clusterType).style.display="none";}
if(document.getElementById("overlayBody_"+clusterType)!=null){document.getElementById("overlayBody_"+clusterType).style.minHeight="80px";}}else if(liArray.length>5){if(document.getElementById("hidden_"+clusterType)!=null){document.getElementById("hidden_"+clusterType).style.display="block";}
if(document.getElementById("overlayBody_"+clusterType)!=null){document.getElementById("overlayBody_"+clusterType).style.minHeight="120px";}}}}
botScreenPositioning();document.getElementById("cib_Overlay").style.display="none";}
function handleViewFewerClusterData(clusterType,moreCount,lessCount){if(clusterType=='EXACTSRCTITLE'){replaceCurrentClusterData(clusterSourceTitleArray,clusterType,moreCount,lessCount);}else if(clusterType=='PUBYEAR'){replaceCurrentClusterData(clusterPubYearArray,clusterType,moreCount,lessCount);}else if(clusterType=='DOCTYPE'){replaceCurrentClusterData(clusterDocTypeArray,clusterType,moreCount,lessCount);}else if(clusterType=='SUBJAREA'){replaceCurrentClusterData(clusterSubAreaArray,clusterType,moreCount,lessCount);}else if(clusterType=='AUTHOR_NAME_AND_ID'){replaceCurrentClusterData(clusterAuthorNameArray,clusterType,moreCount,lessCount);}else if(clusterType=='COUNTRY_NAME'){replaceCurrentClusterData(clusterCountryNameArray,clusterType,moreCount,lessCount);}else if(clusterType=='LANGUAGE'){replaceCurrentClusterData(clusterLanguageArray,clusterType,moreCount,lessCount);}else if(clusterType=='AFFIL'){replaceCurrentClusterData(clusterAffilArray,clusterType,moreCount,lessCount);}else if(clusterType=='SCOPUSSRCTYPE'){replaceCurrentClusterData(clusterSourceTypeArray,clusterType,moreCount,lessCount);}else if(clusterType=='EXACTKEYWORD'){replaceCurrentClusterData(clusterKeyWordArray,clusterType,moreCount,lessCount);}else if(clusterType=='AUCITE'){replaceCurrentClusterData(clusterAuthCiteArray,clusterType,moreCount,lessCount);}else if(clusterType=='STATUSTYPE'){replaceCurrentClusterData(clusterStatusTypeArray,clusterType,moreCount,lessCount);}else if(clusterType=='affilcity'){replaceCurrentClusterData(affilCityArray,clusterType,moreCount,lessCount);}else if(clusterType=='affilctry'){replaceCurrentClusterData(affilCntryArray,clusterType,moreCount,lessCount);}else if(clusterType=='afnameid'){replaceCurrentClusterData(affilNameArray,clusterType,moreCount,lessCount);}else if(clusterType=='subjclus'){replaceCurrentClusterData(affilSubAreaArray,clusterType,moreCount,lessCount);}else if(clusterType=='srctitle'){replaceCurrentClusterData(affilSourceTitleArray,clusterType,moreCount,lessCount);}else if(clusterType=='txt14'){replaceCurrentClusterData(keywordArray,clusterType,moreCount,lessCount);}else if(clusterType=='srctype'){replaceCurrentClusterData(contentSrcArray,clusterType,moreCount,lessCount);}else if(clusterType=='subtype'){replaceCurrentClusterData(infoTypeArray,clusterType,moreCount,lessCount);}}
function replaceCurrentClusterData(arrayValue,clusterType,moreCount,lessCount){var newStr="";for(var i=0;i<moreCount;i++){newStr=newStr+arrayValue[i];}
if(moreCount==160||moreCount==40){var checkbuff=document.getElementById("checkArray_"+clusterType).innerHTML;if(checkbuff!=""){var checkArray=checkbuff.split(",");}
checkbuff="";if(checkArray!=null&&checkArray.length>0){for(var x=0;x<checkArray.length;x++){if(document.getElementById(checkArray[x])==null){checkbuff+=","+checkArray[x];}}}}
var overlaycount="";if(moreCount==160||moreCount==40){overlaycount+=moreCount;}
document.getElementById("overlayul_"+clusterType).innerHTML=newStr;document.getElementById("viewMoreCount_"+clusterType).innerHTML=moreCount;document.getElementById("viewLessCount_"+clusterType).innerHTML=lessCount;var i=0;var liList=jQuery("#overlayul_"+clusterType).find("li");var liHtml="";var listLen=0;if(moreCount==40&&liList.length==41){listLen=liList.length-1;}else{listLen=liList.length;}
if(moreCount==10){for(i=0;i<10;i++){liHtml=generateHTML(liHtml,liList,"",i);}
overlayHide(clusterType);}else if(listLen<=40){if(liList.length>=40){document.getElementById("vmore_"+clusterType).style.display="";document.getElementById("divider_"+clusterType).style.display="";}
document.getElementById("divider_"+clusterType).style.display="inline";document.getElementById("divider_"+clusterType).style.color="#b7b7b7";if(document.getElementById("overlayul_"+clusterType+'1')!=null){document.getElementById("overlayul_"+clusterType+'1').innerHTML="";}
if(document.getElementById("overlayul_"+clusterType+'2')!=null){document.getElementById("overlayul_"+clusterType+'2').innerHTML="";}
if(document.getElementById("overlayul_"+clusterType+'3')!=null){document.getElementById("overlayul_"+clusterType+'3').innerHTML="";}
if(document.getElementById("overlayul_"+clusterType+'4')!=null){document.getElementById("overlayul_"+clusterType+'4').innerHTML="";}
if(listLen>30&&listLen<=40){for(i=0;i<10;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=10;i<20;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;liHtml="";for(i=20;i<30;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'3').innerHTML=liHtml;liHtml="";for(i=30;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'4').innerHTML=liHtml;}else if(listLen>20&&listLen<=30){for(i=0;i<10;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=10;i<20;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;liHtml="";for(i=20;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'3').innerHTML=liHtml;}else if(listLen>10&&listLen<=20){for(i=0;i<10;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=10;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;}else if(listLen<=10){for(i=0;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;}
document.getElementById("viewMoreCount_"+clusterType).innerHTML="40";document.getElementById("viewLessCount_"+clusterType).innerHTML="10";overlayShow(clusterType);}else if(moreCount==160){var checkBoxes1=null;var checkBoxes2=null;var checkBoxes3=null;var checkBoxes4=null;var checkString="";if(document.getElementById("overlayul_"+clusterType+"1")!=null){checkBoxes1=jQuery("#overlayul_"+clusterType+"1").find("input");}
if(document.getElementById("overlayul_"+clusterType+"2")!=null){checkBoxes2=jQuery("#overlayul_"+clusterType+"2").find("input");}
if(document.getElementById("overlayul_"+clusterType+"3")!=null){checkBoxes3=jQuery("#overlayul_"+clusterType+"3").find("input");}
if(document.getElementById("overlayul_"+clusterType+"4")!=null){checkBoxes4=jQuery("#overlayul_"+clusterType+"4").find("input");}
if(checkBoxes2!=null&&checkBoxes2.length>0){for(i=0;i<checkBoxes2.length;i++){if(checkBoxes2[i].checked){checkString+=checkBoxes2[i].id+",";}}}
if(checkBoxes3!=null&&checkBoxes3.length>0){for(i=0;i<checkBoxes3.length;i++){if(checkBoxes3[i].checked){checkString+=checkBoxes3[i].id+",";}}}
if(checkBoxes4!=null&&checkBoxes4.length>0){for(i=0;i<checkBoxes4.length;i++){if(checkBoxes4[i].checked){checkString+=checkBoxes4[i].id+",";}}}
if(checkBoxes1!=null&&checkBoxes1.length>0){for(i=0;i<checkBoxes1.length;i++){if(checkBoxes1[i].checked){checkString+=checkBoxes1[i].id+",";}}}
if(checkString!=""){checkString=checkString.substring(0,checkString.length-1);}
document.getElementById("checkArray_"+clusterType).innerHTML=checkString+checkbuff;document.getElementById("vmore_"+clusterType).style.display="none";document.getElementById("divider_"+clusterType).style.display="none";var divCnt=Math.floor(liList.length/4);var remCnt=liList.length%4;var firstRCnt=divCnt;if(remCnt>=1){firstRCnt+=1;}
var secRCnt=2*divCnt;if(remCnt>=2){secRCnt=2*firstRCnt;}
var thirdRCnt=3*divCnt;if(remCnt==3){thirdRCnt=3*firstRCnt;}
for(i=0;i<firstRCnt;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=firstRCnt;i<secRCnt;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);;}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;liHtml="";var isCountIncluded=false;for(i=secRCnt;i<thirdRCnt;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);isCountIncluded=true;}
document.getElementById("overlayul_"+clusterType+'3').innerHTML=liHtml;liHtml="";if(isCountIncluded){for(i=thirdRCnt;i<liList.length;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}}else{for(i=secRCnt;i<liList.length;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}}
document.getElementById("overlayul_"+clusterType+'4').innerHTML=liHtml;document.getElementById("viewMoreCount_"+clusterType).innerHTML="160";document.getElementById("viewLessCount_"+clusterType).innerHTML="40";overlayShow(clusterType);}
setOverlayStyle(clusterType);}
function putClusterDataInArray(xmlhttp,clusterType,clusterCount){if(xmlhttp.readyState==4){var clusterVal=xmlhttp.responseText.substr(0,(xmlhttp.responseText.lastIndexOf(']')+1));if(clusterVal!=null&&clusterVal!=''){if(clusterType=='EXACTSRCTITLE'){clusterSourceTitleArray=eval(clusterVal);jQuery("[name='clsSrctitleCount']").val(clusterSourceTitleArray.length);writeClusterData(clusterSourceTitleArray,clusterType,clusterCount);}else if(clusterType=='PUBYEAR'){clusterPubYearArray=eval(clusterVal);jQuery("[name='clsYearCount']").val(clusterPubYearArray.length);writeClusterData(clusterPubYearArray,clusterType,clusterCount);}else if(clusterType=='DOCTYPE'){clusterDocTypeArray=eval(clusterVal);document.SearchResultsForm.clsDocTypeCount.value=clusterDocTypeArray.length;writeClusterData(clusterDocTypeArray,clusterType,clusterCount);}else if(clusterType=='SUBJAREA'){clusterSubAreaArray=eval(clusterVal);document.SearchResultsForm.clsSubareaCount.value=clusterSubAreaArray.length;writeClusterData(clusterSubAreaArray,clusterType,clusterCount);}else if(clusterType=='AUTHOR_NAME_AND_ID'){clusterAuthorNameArray=eval(clusterVal);document.SearchResultsForm.clsAuthnameCount.value=clusterAuthorNameArray.length;writeClusterData(clusterAuthorNameArray,clusterType,clusterCount);}else if(clusterType=='COUNTRY_NAME'){clusterCountryNameArray=eval(clusterVal);jQuery("[name='clsDocCntryCount']").val(clusterCountryNameArray.length);writeClusterData(clusterCountryNameArray,clusterType,clusterCount);}else if(clusterType=='LANGUAGE'){clusterLanguageArray=eval(clusterVal);document.SearchResultsForm.clsLangCount.value=clusterLanguageArray.length;writeClusterData(clusterLanguageArray,clusterType,clusterCount);}else if(clusterType=='AFFIL'){clusterAffilArray=eval(clusterVal);document.SearchResultsForm.clsAffilCount.value=clusterAffilArray.length;writeClusterData(clusterAffilArray,clusterType,clusterCount);}else if(clusterType=='SCOPUSSRCTYPE'){clusterSourceTypeArray=eval(clusterVal);document.SearchResultsForm.clsSrctypeCount.value=clusterSourceTypeArray.length;writeClusterData(clusterSourceTypeArray,clusterType,clusterCount);}else if(clusterType=='EXACTKEYWORD'){clusterKeyWordArray=eval(clusterVal);document.SearchResultsForm.clsKeyCount.value=clusterKeyWordArray.length;writeClusterData(clusterKeyWordArray,clusterType,clusterCount);}else if(clusterType=='AUCITE'){clusterAuthCiteArray=eval(clusterVal);writeClusterData(clusterAuthCiteArray,clusterType,clusterCount);}else if(clusterType=='STATUSTYPE'){clusterStatusTypeArray=eval(clusterVal);document.SearchResultsForm.clsStatusTypeCount.value=clusterKeyWordArray.length;writeClusterData(clusterStatusTypeArray,clusterType,clusterCount);}else if(clusterType=='affilcity'){affilCityArray=eval(clusterVal);if(document.AuthorLookupResultsForm!=null){document.AuthorLookupResultsForm.clsCityCount.value=affilCityArray.length;}
if(document.CoAuthorResultsForm!=null){document.CoAuthorResultsForm.clsCityCount.value=affilCityArray.length;}
if(document.AffiliationLookupResultsForm!=null){document.AffiliationLookupResultsForm.clsCityCount.value=affilCityArray.length;}
writeClusterData(affilCityArray,clusterType,clusterCount);}else if(clusterType=='affilctry'){affilCntryArray=eval(clusterVal);if(document.AuthorLookupResultsForm!=null){document.AuthorLookupResultsForm.clsCntryCount.value=affilCntryArray.length;}
if(document.CoAuthorResultsForm!=null){document.CoAuthorResultsForm.clsCntryCount.value=affilCntryArray.length;}
if(document.AffiliationLookupResultsForm!=null){document.AffiliationLookupResultsForm.clsCntryCount.value=affilCntryArray.length;}
writeClusterData(affilCntryArray,clusterType,clusterCount);}else if(clusterType=='subjclus'){affilSubAreaArray=eval(clusterVal);if(document.AuthorLookupResultsForm!=null){document.AuthorLookupResultsForm.clsSubareaCount.value=affilSubAreaArray.length;}
if(document.CoAuthorResultsForm!=null){document.CoAuthorResultsForm.clsSubareaCount.value=affilSubAreaArray.length;}
writeClusterData(affilSubAreaArray,clusterType,clusterCount);}else if(clusterType=='srctitle'){affilSourceTitleArray=eval(clusterVal);if(document.AuthorLookupResultsForm!=null){document.AuthorLookupResultsForm.clsSrctitleCount.value=affilSourceTitleArray.length;}
if(document.CoAuthorResultsForm!=null){document.CoAuthorResultsForm.clsSrctitleCount.value=affilSourceTitleArray.length;}
writeClusterData(affilSourceTitleArray,clusterType,clusterCount);}else if(clusterType=='afnameid'){affilNameArray=eval(clusterVal);if(document.AuthorLookupResultsForm!=null){document.AuthorLookupResultsForm.clsAffilCount.value=affilNameArray.length;}
if(document.CoAuthorResultsForm!=null){document.CoAuthorResultsForm.clsAffilCount.value=affilNameArray.length;}
writeClusterData(affilNameArray,clusterType,clusterCount);}else if(clusterType=='STATUSTYPE'){clusterStatusTypeArray=eval(clusterVal);writeClusterData(clusterStatusTypeArray,clusterType,clusterCount);}else if(clusterType=='srctype'){contentSrcArray=eval(clusterVal);document.SearchResultsForm.clsCntSourceCount.value=98;writeClusterData(contentSrcArray,clusterType,clusterCount);}else if(clusterType=='txt14'){keywordArray=eval(clusterVal);document.SearchResultsForm.clsKeyCount.value=keywordArray.length;writeClusterData(keywordArray,clusterType,clusterCount);}else if(clusterType=='subtype'){infoTypeArray=eval(clusterVal);document.SearchResultsForm.clsInfotypeCount.value=infoTypeArray.length;writeClusterData(infoTypeArray,clusterType,clusterCount);}}}}
function writeClusterData(clusterArrayData,clusterType,clusterCount){var newStr="";for(var i=0;i<clusterCount;i++){newStr=newStr+clusterArrayData[i];}
updateCheckBuffer(clusterType);document.getElementById("overlayul_"+clusterType).innerHTML=newStr;var i=0;var liList=jQuery("#overlayul_"+clusterType).find("li");var liHtml="";var listLen=0;listLen=liList.length;if(clusterCount==160||(clusterCount==40&&clusterArrayData.length<=40)){document.getElementById("vmore_"+clusterType).style.display="none";document.getElementById("divider_"+clusterType).style.display="none";overlaycount+=clusterCount;}
var overlaycount="";if(clusterCount==160||clusterCount==40){overlaycount+=clusterCount;}
if(listLen<=40){if(listLen>30&&listLen<=40){for(i=0;i<10;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=10;i<20;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;liHtml="";for(i=20;i<30;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'3').innerHTML=liHtml;liHtml="";for(i=30;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'4').innerHTML=liHtml;}else if(listLen>20&&listLen<=30){for(i=0;i<10;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=10;i<20;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;liHtml="";for(i=20;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'3').innerHTML=liHtml;}else if(listLen>10&&listLen<=20){for(i=0;i<10;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=10;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;}else if(listLen<=10){for(i=0;i<listLen;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;}}else{var divCnt=Math.floor(liList.length/4);var remCnt=liList.length%4;var firstRCnt=divCnt;if(remCnt>=1){firstRCnt+=1;}
var secRCnt=2*divCnt;if(remCnt>=2){secRCnt=2*firstRCnt;}
var thirdRCnt=3*divCnt;if(remCnt==3){thirdRCnt=3*firstRCnt;}
for(i=0;i<firstRCnt;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'1').innerHTML=liHtml;liHtml="";for(i=firstRCnt;i<secRCnt;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'2').innerHTML=liHtml;liHtml="";for(i=secRCnt;i<thirdRCnt;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'3').innerHTML=liHtml;liHtml="";for(i=thirdRCnt;i<liList.length;i++){liHtml=generateHTML(liHtml,liList,overlaycount,i);}
document.getElementById("overlayul_"+clusterType+'4').innerHTML=liHtml;}
document.getElementById("viewMoreCount_"+clusterType).innerHTML=clusterCount;overlayShow(clusterType);if(clusterCount==40){fastCallDone[clusterType][1]='true';document.getElementById("viewLessCount_"+clusterType).innerHTML=10;}else{fastCallDone[clusterType][3]='true';document.getElementById("viewLessCount_"+clusterType).innerHTML=40;}
setOverlayStyle(clusterType);}
function replaceAllText(source,stringToFind,stringToReplace){var temp=source;var index=temp.indexOf(stringToFind);while(index!=-1){temp=temp.replace(stringToFind,stringToReplace);index=temp.indexOf(stringToFind);}
return temp;}
function refineCIB(linkname,origin,property,navValue,navId){var markings=jQuery('input');for(var i=0;i<markings.length;i++){if(markings[i].type=="checkbox"){markings[i].checked=false;}}
document.getElementById(navId).checked=true;if(document.SearchResultsForm!=null){document.SearchResultsForm.target='_self';if(linkname=='limit to'||linkname=='resultsCount'){document.SearchResultsForm.clickedLink.value='limit to';if(linkname=='resultsCount'){document.SearchResultsForm.target='_blank';}}else{document.SearchResultsForm.clickedLink.value='exclude';}
document.SearchResultsForm.contextBox.value=true;document.SearchResultsForm.submit();}else if(document.AuthorLookupResultsForm!=null){document.AuthorLookupResultsForm.target='_self';if(linkname=='limit to'||linkname=='resultsCount'){document.AuthorLookupResultsForm.clickedLink.value='limit to';if(linkname=='resultsCount'){document.AuthorLookupResultsForm.target='_blank';}}else{document.AuthorLookupResultsForm.clickedLink.value='exclude';}
document.AuthorLookupResultsForm.contextBox.value=true;document.AuthorLookupResultsForm.submit();}else if(document.CoAuthorResultsForm!=null){document.CoAuthorResultsForm.target='_self';if(linkname=='limit to'||linkname=='resultsCount'){document.CoAuthorResultsForm.clickedLink.value='limit to';if(linkname=='resultsCount'){document.CoAuthorResultsForm.target='_blank';}}else{document.CoAuthorResultsForm.clickedLink.value='exclude';}
document.CoAuthorResultsForm.contextBox.value=true;document.CoAuthorResultsForm.submit();}else if(document.AffiliationLookupResultsForm!=null){document.AffiliationLookupResultsForm.target='_self';if(linkname=='limit to'||linkname=='resultsCount'){document.AffiliationLookupResultsForm.clickedLink.value='limit to';if(linkname=='resultsCount'){document.AffiliationLookupResultsForm.target='_blank';}}else{document.AffiliationLookupResultsForm.clickedLink.value='exclude';}
document.AffiliationLookupResultsForm.contextBox.value=true;document.AffiliationLookupResultsForm.submit();}}
function setOverlayStyle(clusterType){var prevUL='',maxHeight=0,overlayID='overlayul_'+clusterType;var ulArr=jQuery("[id^='"+overlayID+"']").slice(0,4);var iVal=4;ulArr.each(function(){if(prevUL){if(jQuery(this).find("li").size()>=1&&jQuery(this).find("li").text()!=""||jQuery('#overlayul_'+clusterType+iVal).find("li").size()>0){jQuery(prevUL).css({borderRight:'1px solid #b7b7b7'});}else{jQuery(prevUL).css({paddingRight:'0px',paddingLeft:'0px',borderRight:'0px solid'});}}
prevUL=this;jQuery(this).css({height:''});maxHeight=Math.max(maxHeight,jQuery(this).attr('offsetHeight'));});if(maxHeight>0)ulArr.css({'height':maxHeight+'px'});}
function toggleRefineResultsViewLnk(clusterType){var refineResultsViewLink=jQuery("#refineResultsViewLink_"+clusterType);if(refineResultsViewLink.css('visibility')=='hidden'){refineResultsViewLink.css({'visibility':'visible'});}
else{refineResultsViewLink.css({'visibility':'hidden'});}}
function onFocusCatCheckBox(clusterSuff,clusterType){jQuery('#'+clusterSuff+clusterType+' .greyArrow').css({'visibility':'visible'});jQuery('#hidden_'+clusterType+' .greyArrow').css({'visibility':'visible'});jQuery("#refineResultsViewLink_"+clusterType).css({'visibility':'visible'});}
function onBlurCatLink(clusterType){jQuery('#'+clusterType+' .greyArrow').css({'visibility':'hidden'});}
function generateHTML(liHtml,liList,count,index){liListID=liList[index].getAttribute('id');liListID=liListID.replace(/[^a-zA-Z0-9]/g,'');liHtml+="<li id='li_"+count+liListID+"' data-auid='"+liListID+"'>"+liList[index].innerHTML+"<div id='cib_Div_Overlay_"+count+liListID+"'><\/div><\/li>";return liHtml;}
jQuery('body').on('mouseover focus','#leftColumn .dummyBody,#leftColumn .scopusClusterHeader, #leftColumn .navigatorOverlay .navOverlayItems, #leftColumn .navigatorOverlay .headings',function(){if(jQuery(this).hasClass('dummyBody')){jQuery('.refineResultsViewLink li, .greyArrow',this).css({'visibility':'visible'});}
else if(jQuery(this).hasClass('scopusClusterHeader')){jQuery('span.btn_collapse, span.btn_expand, div.clusterDragDot',this).css({'visibility':'visible'});}
else if(jQuery(this).hasClass('navOverlayItems')){jQuery('.viewMoreFewer, .greyArrow, .sortFN',this).css({'visibility':'visible'});}
else if(jQuery(this).hasClass('headings')){jQuery('span.btn_collapse_Cluster',this).css({'visibility':'visible'});}});jQuery('body').on('mouseout','#leftColumn .dummyBody,#leftColumn .scopusClusterHeader, #leftColumn .navigatorOverlay .navOverlayItems, #leftColumn .navigatorOverlay .headings',function(){if(jQuery(this).hasClass('dummyBody')){jQuery('.refineResultsViewLink li, .greyArrow',this).css({'visibility':'hidden'});}
else if(jQuery(this).hasClass('scopusClusterHeader')){jQuery('span.btn_collapse, span.btn_expand, div.clusterDragDot',this).css({'visibility':'hidden'});}
else if(jQuery(this).hasClass('navOverlayItems')){jQuery('.viewMoreFewer, .greyArrow, .sortFN',this).css({'visibility':'hidden'});}
else if(jQuery(this).hasClass('headings')){jQuery('span.btn_collapse_Cluster',this).css({'visibility':'hidden'});}});jQuery(document).ready(function(){jQuery('#clusterSort_scls,#clusterSort_scla,#clusterSort_sclc,#clusterSort_sclk,#clusterSort_sclsb,#clusterSort_scll').on('selectmenuchange',function(){preProcessClusterSorting(this);});});var g_MAX_DOWNLOAD_DOC_COUNT;function PDFdownloadFromResultsPage(control){checkMaxDownloadDocsExceeded(control);var returnVal=true;if(g_maxDownloadSelectedExceeded){g_maxDownloadSelectedExceeded=false;returnVal=confirm(messages.results.error.max.download.exc(g_MAX_DOWNLOAD_DOC_COUNT));}
selCount=getSelectedDocumentCount(control);if(!g_maxDownloadSelectedExceeded&&selCount>0&&returnVal){openDownloadWindow('');document.SearchResultsForm.clickedLink.value="downloadButton";document.SearchResultsForm.target="downloadMain";document.SearchResultsForm.submit();}
return false;}
function PDFdownloadFromRecordPage(control,url){var ver=getChromeVersion();var chromeText=messages.resultlist.header.databutton.download.chrome45();var ieEdgeText=messages.resultlist.header.databutton.download.ieedge();if(getIEVersion()>=12){drawChromeMsgPopUp(ieEdgeText);return false;}
else if(parseInt(ver)>44){drawChromeMsgPopUp(chromeText);return false;}
openDownloadWindow(url);return true;}
function getChromeVersion(){var raw=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return raw?parseInt(raw[2],10):false;}
function drawChromeMsgPopUp(infoMessage){jQuery("#dialog-modal-chrome").dialog({resizable:false}).removeClass("displayNone");jQuery(".ui-dialog .ui-dialog-titlebar").css("display","none");jQuery("#dialogClose, #dialogOk").on("click",function(ev){jQuery("#dialog-modal-chrome").dialog("close");ev.preventDefault();});jQuery('.chromeDdmPopupText').html(infoMessage);}
function getIEVersion(){var ua=window.navigator.userAgent;var msie=ua.indexOf('MSIE ');if(msie>0){return parseInt(ua.substring(msie+5,ua.indexOf('.',msie)),10);}
var trident=ua.indexOf('Trident/');if(trident>0){var rv=ua.indexOf('rv:');return parseInt(ua.substring(rv+3,ua.indexOf('.',rv)),10);}
var edge=ua.indexOf('Edge/');if(edge>0){return parseInt(ua.substring(edge+5,ua.indexOf('.',edge)),10);}
return false;}
function openDownloadWindow(url){if((navigator.appName=="Microsoft Internet Explorer")&&(parseFloat(navigator.appVersion)<4))
{return false;}
var parms='width=800'+',height=560'+',screenX=0'+',screenY=0'+',left=0'+',top=0'+',status=yes,toolbar=no,menubar=no,location=no'+',scrollbars=yes,resizable=yes';win=window.open(url,'downloadMain',parms);win.focus();return false;}
var g_formSubmitOK=true;var allowed=true;var reqFromhubLink=false;var hubPopupParams="directories=0,titlebar=0,toolbar=0,location=0,status=0,menubar=0,scrollbars=no,resizable=no";var chapterListEnabled;function toggleRefChkBoxes(control){for(var i=0;i<control.form.elements.length;++i){var eleControl=control.form.elements[i];if(eleControl.type=="checkbox"&&eleControl.name=="selectedEIDs"){eleControl.checked=control.checked;}}}
function toggleSelectAllChkBox(control){if(control.checked==false){control.form.selectAllCheckBox.checked=false;}
else{var allChecked=true;for(var i=0;i<control.form.elements.length;++i){var eleControl=control.form.elements[i];if(eleControl.type=="checkbox"&&eleControl.name=="selectedEIDs"){if(eleControl.checked==false){allChecked=false;break;}}}
control.form.selectAllCheckBox.checked=allChecked;}}
function searchHistory(link){document.RecordPageForm.clickedLink.value=link;document.RecordPageForm.submit();}
function viewAllReferences(){if(allowed){allowed=false;setTimeout("enableAllowed()",waitTime);return true;}else{return false;}}
function enableAllowed(){allowed=true;}
function submitReferencesLinks(button){document.RecordPageForm.clickedLink.value=button;document.RecordPageForm.submit();if(jQuery("#confirmMsgContainer,#errorMsgContainer,#warningMsgContainer,#infoMsgContainer,#orcidErrorMsgContainer,#txtZoneInfoMsgContainer,#confirmMsgContainerDiv").length){jQuery('.ariaHidden').focus();}}
var authorlistHeight=jQuery('div#authorlist').height();var authorlistDiv=jQuery('div#authorlist');var affilListParagraph=jQuery('p#affiliationlist');var defaultListHeight=62;function displayAuthAffilInRecordPage(){var cnt=0;jQuery('div.reaxysBlk').css({display:'block',position:'absolute',visible:'hidden'});jQuery('div.reaxysBlk a img').each(function(){if(jQuery(this)[0].clientHeight<=1){cnt++;}});jQuery('div.reaxysBlk').css({display:'none',position:'',visible:'visible'});if(cnt<=0){jQuery('div.reaxysBlk').show();jQuery('div.reaxysHide').show();}
if(cnt==1){jQuery('div.reaxysBlk span.divider').hide();jQuery('div.reaxysBlk').show();jQuery('div.reaxysHide').show();}
var totalSpan=jQuery('#authorlist > span').size();var temp='',prevTemp='';var endSpan;var containerSpan=jQuery('<div>').appendTo('#SpanContainer');endSpan="(...), <span>"
+jQuery('#authorlist > span').eq(totalSpan-2).html()+"</span><span>"
+jQuery('#authorlist > span').eq(totalSpan-1).html()+"</span>";for(var j=0;j<totalSpan;j++){for(var i=0;i<=j;i++){temp+="<span>"+jQuery('#authorlist > span').eq(i).html()+"</span>";}
jQuery(containerSpan).html(temp+endSpan);if(jQuery(containerSpan).height()>80){temp="";jQuery(containerSpan).html(prevTemp+endSpan);j=totalSpan;}else{prevTemp=temp;temp="";jQuery(containerSpan).html("");}}
if(authorlistHeight>defaultListHeight){jQuery('#authorlist').css({'display':'none'});jQuery('#SpanContainer').show();jQuery(authorlistDiv).css({'height':defaultListHeight+'px','overflow':'hidden','display':'block'});jQuery('#viewHideAuthorList').css({'display':'inline-block'});jQuery('#viewHideAuthorList-dummy').css({'display':'inline-block'});}else{jQuery('#SpanContainer').hide();jQuery(authorlistDiv).css({'height':'auto','overflow':'hidden','display':'block'});jQuery('#viewHideAuthorList').css({'display':'none'});jQuery('#viewHideAuthorList-dummy').css({'display':'none'});}
jQuery(affilListParagraph).css({'visibility':'visible'});if(jQuery('#affiliationlist span').length>=3){jQuery('#affiliationlist span:gt(2), #affiliationlist br:gt(2)').hide();jQuery('#viewHideAffilList').css({'display':'inline-block'});jQuery('#viewHideAffilList-dummy').css({'display':'inline-block'});}
else{jQuery('#viewHideAffilList').css({'display':'none'});jQuery('#viewHideAffilList-dummy').css({'display':'none'});}}
function getReaxysData(){var scp=jQuery('#currentRecordPageSCP').val();var sid=scp!=undefined?scp:"";var param={'sid':sid};jQuery.post('../record/reaxysDataAjax.uri',param).done(function(response){if(response.status==='OK'){var rxnsAvailability=response.reactions!==undefined,subsAvailability=response.substances!==undefined,reaxysObj=jQuery("<div>"),rxnsObj="",subsObj="",separatorSpanObj="",horizonLineObj=jQuery("<div>",{"class":""}),clearDivObj=jQuery("<div>",{"class":"clear"}),lineObj=jQuery("<div>",{"class":"hr"}),title="Reaxys Database Information",titleObj=jQuery("<h2>",{"class":"subTitle paddingT2","html":title});horizonLineObj=horizonLineObj.append(lineObj);if(rxnsAvailability){var rxnsUriObj=response["reactions"];var rxnsImgObj=jQuery("<img>",{"src":rxnsUriObj.imageURL,"alt":"","class":"floatL"});var rxnsAncObj=jQuery("<a>",{"href":rxnsUriObj.pageURL,"title":detail.RECORD_PAGE_REAXYS_VIEW_REACTIONS(),"target":"_blank"});rxnsObj=rxnsAncObj.append(rxnsImgObj);}
if(rxnsAvailability&&subsAvailability){separatorSpanObj=jQuery("<span>",{"class":"link_sep floatL","style":"padding-top:8px;padding-left:4px;","aria-hidden":"true","html":"|"});}
if(subsAvailability){var subsUriObj=response["substances"];var subsImgObj=jQuery("<img>",{"src":subsUriObj.imageURL,"alt":"","class":"floatL"});var subsAncObj=jQuery("<a>",{"href":subsUriObj.pageURL,"title":detail.RECORD_PAGE_REAXYS_VIEW_SUBSTANCES(),"target":"_blank"});subsObj=subsAncObj.append(subsImgObj);}
reaxysObj.append(horizonLineObj).append(titleObj).append(rxnsObj).append(separatorSpanObj).append(subsObj).append(clearDivObj);jQuery("div.reaxysHide").show();jQuery("div.reaxysBlk").show();jQuery("div#reaxysBlk").append(reaxysObj);}else{jQuery("div#reaxysBlk").remove();}}).fail(function(){jQuery("div#reaxysBlk").remove();});}
function showAffilContent(){jQuery('#viewHideAffilList a').html(detail.RECORD_PAGE_HIDE_AFFIL());jQuery('#affiliationlist span:gt(2), #affiliationlist br:gt(2)').show();jQuery('#viewHideAffilList a').addClass('hideAddIcon').removeClass('viewAddIcon retrievingImg');jQuery('#viewHideAffilList a').attr({'title':detail.RECORD_PAGE_HIDE_AFFIL(),'aria-expanded':'true'});jQuery('#viewHideAffilList a').unbind('click').bind('click',function(){showHideAffilContent();});}
var AffilContentLoaded=false;function showHideAffilContent(){if(jQuery('#viewHideAffilList a').html()==detail.RECORD_PAGE_VIEW_AFFIL()){if(!AffilContentLoaded){jQuery("#viewHideAffilList a").html(detail.RECORD_PAGE_RET()).addClass('retrievingImg').removeClass('viewAddIcon').unbind('click').attr({'aria-expanded':'true'});jQuery('#AffRetriving').css({'display':'inline-block'}).delay(5000).hide('0',function(){showAffilContent();AffilContentLoaded=true;});}else{showAffilContent();}}
else{jQuery('#viewHideAffilList a').html(detail.RECORD_PAGE_VIEW_AFFIL());jQuery('#affiliationlist span:gt(2), #affiliationlist br:gt(2)').hide();jQuery('#viewHideAffilList a').addClass('viewAddIcon').removeClass('hideAddIcon').attr({'title':detail.RECORD_PAGE_VIEW_AFFIL(),'aria-expanded':'false'});}}
jQuery('#viewHideAffilList a').unbind('click').bind('click',function(){showHideAffilContent();});function showAuthorContent(){jQuery('#viewHideAuthorList a').html(detail.RECORD_PAGE_HIDE_AUTHOR());jQuery(authorlistDiv).css({'height':'auto','overflow':'visible','display':'inline-block'});jQuery('#viewHideAuthorList a').addClass('hideAddIcon').removeClass('viewAddIcon retrievingImg');jQuery('#viewHideAuthorList a').attr('title',detail.RECORD_PAGE_HIDE_AUTHOR());jQuery('#viewHideAuthorList a').unbind('click').bind('click',function(){showHideAuthorContent();});jQuery('#authorlist').css("display:inline-block");jQuery('#SpanContainer').hide();}
var AuthorContentLoaded=false;function showHideAuthorContent(){if(jQuery('#viewHideAuthorList a').html()==detail.RECORD_PAGE_VIEW_AUTHOR()){if(!AuthorContentLoaded){jQuery("#viewHideAuthorList a").html(detail.RECORD_PAGE_RET()).addClass('retrievingImg').removeClass('viewAddIcon').unbind('click');jQuery('#AuthorRetriving').css({'display':'inline-block'}).delay(5000).hide('0',function(){showAuthorContent();AuthorContentLoaded=true;jQuery('#authorlist').css("display:inline-block");jQuery('#SpanContainer').hide();});}else{showAuthorContent();}}
else{jQuery('#viewHideAuthorList a').html(detail.RECORD_PAGE_VIEW_AUTHOR());jQuery(authorlistDiv).css({'height':defaultListHeight+'px','overflow':'hidden'});jQuery('#viewHideAuthorList a').addClass('viewAddIcon').removeClass('hideAddIcon');jQuery('#viewHideAuthorList a').attr('title',detail.RECORD_PAGE_VIEW_AUTHOR());jQuery('#authorlist').css({'display':'block'});jQuery('#SpanContainer').show();}}
jQuery('#viewHideAuthorList a').unbind('click').bind('click',function(){showHideAuthorContent();});jQuery('body').bind('click',function(e){if(!jQuery(e.target).closest('.recMoreLnk')){jQuery('.recMoreMenu').hide();}});jQuery('.arrowDownMore').click(function(e){var recmoreLnk=jQuery('.recMoreLnk');var recmoreLnkPosition=recmoreLnk.position();jQuery('.recMoreMenu').hide();if(recmoreLnkPosition!=null)
jQuery('#recMoreMenu').css({'display':'block','top':recmoreLnkPosition.top+4});});jQuery('.arrowUpMore').click(function(e){jQuery('.recMoreMenu').hide();});function getChapterList(){var chapterListUrl='/display/chapter.uri';var sourceId=jQuery('#sourceId').val();var sourceType=jQuery('#sourceType').val();var citationType=jQuery('#citationType').val();var currentEID=jQuery("#currentRecordPageEID").val();if(sourceId!=null&&sourceId!=''&&sourceType!=null&&sourceType!='')
{if(sourceType=='b'){param={sourceId:sourceId,requestedPage:"bookChapter",currentRecordPageEID:currentEID,citationCode:citationType};jQuery.ajax({url:chapterListUrl,dataType:"html",cache:false,data:param,type:"POST",success:function(data){if(data!=null&&data!=''){jQuery("#chapterList").html(data);jQuery('#chapterList').show();var bookEID=jQuery('#bookEID').val();if(jQuery('#sourceTitleId').length&&bookEID!=null&&bookEID!=''&&citationType!='bk'){jQuery('#sourceTitleId').attr('href','/record/display.uri?eid='+bookEID+'&origin=recordpage');jQuery('#sourceTitleId').removeClass('bookChapterLink');}}},error:function(data){}});}}}
function doucmentSaveToList(event){event.preventDefault();MessageContainer.removeMsgContatiner();var saveListURL=[];saveListURL.push('/citation/document.uri?origin=recordpage&view=&command=list&src=s&eid=');saveListURL.push(jQuery('#currentRecordPageEID').val());saveListURL.push('&type=AJAX');jQuery.ajax({url:saveListURL.join(''),dataType:"html",cache:false,type:"GET",success:function(data){if(data!=null&&data!=''){jQuery('#saveToList-data').html(data);event["data"]={position:Bubble.positionCenter,setDataBack:false};Bubble.showBubble(event);jQuery("#saveTolistSubmit").on('click',listSetUpSave);jQuery('#listPopupClose').on('click',closeListPopUp);setWaterMarkList();ddlOnloadforSelectmenu();jQuery('#saveListInput').on('keypress',function(e){if(e.keyCode==13){e.preventDefault();}});}},error:function(data){if(typeof console!=="undefined"){console.log('error in getting the save list pop up');}}});}
function closeListPopUp(event){event.preventDefault();Bubble.forceHideAll(event);}
function listSetUpSave(event){event.preventDefault();MessageContainer.removeMsgContatiner();var inputValTrim=jQuery.trim(jQuery('#listName').val());var listSelect=jQuery("#listId");var listFormObj=jQuery("#ListForm");if(listFormObj.length===0){listFormObj=jQuery("#searchResFormId");}
var savedListName='';var oldValue='';if(listSelect.length<1){if(inputValTrim.length<1){MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVE_TO_LIST_NO_NAME();MessageContainer.insertMsgContainer();return;}
savedListName=inputValTrim;}else{var listSelectIndex=listSelect[0].selectedIndex;if(inputValTrim!=''&&listSelectIndex<=0){listFormObj.removeAttr('action');listFormObj.attr('action',"../list/savelist/add.uri");savedListName=inputValTrim;}
else if(inputValTrim==''&&listSelectIndex>0){listFormObj.removeAttr('action');listFormObj.attr('action',"../list/savelist/addItems.uri");savedListName=jQuery("select[name=listId] option:selected").text();oldValue=listFormObj.find("[name='listId']").val();listFormObj.find("[name='listId']").val(jQuery("select[name=listId] option:selected").val());}
else if(inputValTrim==''&&listSelectIndex<=0){MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVELIST_ERROR_MESSAGES_EMPTYSUBMIT();MessageContainer.insertMsgContainer();return;}
else if(inputValTrim!=''&&listSelectIndex>0){MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVELIST_ERROR_MESSAGES_BOTHSELECTED();MessageContainer.insertMsgContainer();return;}}
var saveForm=listFormObj;jQuery.ajax({url:saveForm.attr('action'),cache:false,type:"POST",dataType:'JSON',data:saveForm.serialize(),success:function(data){if(data!=null&&data!=''){if(data.hasOwnProperty('success')){MessageContainer.parentContainerObj=jQuery('#sciverseCanvasArea');MessageContainer.messageType=MessageContainer.CONFIRM_MSG;MessageContainer.msgContent=messages.RECORD_SAVED_LIST_SUCCESS(savedListName,data.saveListURL);MessageContainer.insertMsgContainer();Bubble.forceHideAll(event);}else{MessageContainer.isReplace=true;switch(data.error){case'MaxListEntry':MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVED_LIST_MAXIMUM_LIMIT(data.size,data.saveListURL);MessageContainer.insertMsgContainer();break;case'MaxListItem':MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVED_LISTITEM_MAXIMUM_LIMIT(data.size);MessageContainer.insertMsgContainer();break;case'DuplicateList':MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVED_LIST_NAME_EXISTS();MessageContainer.insertMsgContainer();break;}
MessageContainer.isReplace=false;}}},error:function(data){listFormObj.find("[name='listId']").val(oldValue);if(typeof console!=="undefined"){console.log('error in save list call');}}});}
function setWaterMarkList(){if(jQuery('#listName').length){jQuery('#listName').searchForPlaceholder({left:{enabled:true,value:messages.RECORD_NEW_LIST_TXT(),type:"simple",classes:"searchForTxt"},right:{enabled:false}});}}
function ddlOnloadforSelectmenu(){jQuery('select.selectMenu').selectmenu({appendTo:jQuery(this).next()});}
function enableReferenceHeaderLnk(){if(jQuery("div.referenceLists input:checkbox:checked").length>0){jQuery('div.featuresRow span.docHeaderLinks').removeClass('lnkDisabled').addClass('lnkEnabled');showRefernceEnableToolTip();}
else{jQuery('div.featuresRow span.docHeaderLinks').addClass('lnkDisabled').removeClass('lnkEnabled');showRefernceDisableToolTip();}}
function enableDiableReferencesHeaderLnk(){if(jQuery("div.referenceLists input:checkbox:checked").length>0){enableReferenceHeaderLnk();}else{var directExport=jQuery('#referenceDirectExport');if(directExport.length>0){directExport.attr('title',Export.EXPORT_DISABLED_ALT());}}
jQuery('div.referenceLists input:checkbox, div.featuresRow input:checkbox').click(function(){enableReferenceHeaderLnk();});jQuery('body').on('click','.lnkDisabled a.clickAction',function(e){e.preventDefault();});jQuery('body').on('click','.lnkEnabled a.clickAction',function(e){var linkType=jQuery(this).attr('data-type');if(linkType=='exportLink'||linkType=='exportRecordLink'){oneClick.exportResult(e);}else if(linkType=='printLink'){submitReferencesLinks('Print');}else if(linkType=='emailLink'){submitReferencesLinks('Email');}
else if(linkType=='bibliographyLink'){submitReferencesLinks('Quikbib');}else if(linkType=='directExport'){oneClick.oneClickExportSubmit(e,false,'record');}else if(linkType=='directExportReference'){oneClick.oneClickExportSubmit(e,false,'reference');}});}
function showRefernceEnableToolTip(){var exportLink=Export.EXPORT_RECORD_REF_EXP_SELECTED();var printLink=detail.RECORD_REF_PRINT_SELECTED();var emailLink=detail.RECORD_REF_EMAIL_SELECTED();var biblioLink=detail.RECORD_REF_BIB_SELECTED();jQuery('.docHeaderLinks .print').attr('title',printLink);jQuery('.docHeaderLinks .email').attr('title',emailLink);jQuery('.docHeaderLinks .createBibliography').attr('title',biblioLink);var directExportRefObj=jQuery('#referenceDirectExport');if(directExportRefObj.length>0){var directExportTitle;if(oneClick.ExportSetting.Format=='CSV'){directExportTitle=Export.CSV_EXPORT_ALT();}
else if(oneClick.ExportSetting.Format=='REFWORKS'){directExportTitle=Export.REFWORK_EXPORT_ALT();}
else if(oneClick.ExportSetting.Format=='Mendeley'){directExportTitle=Export.SAVE_TO_MENDELEY_ALT();}
else if(oneClick.ExportSetting.Format=='RIS'){directExportTitle=Export.RIS_EXPORT_ALT();}
else if(oneClick.ExportSetting.Format=='TEXT'){directExportTitle=Export.TEXT_EXPORT_ALT();}
else if(oneClick.ExportSetting.Format=='BIB'){directExportTitle=Export.BIBTEXT_EXPORT_ALT();}
directExportRefObj.attr('title',directExportTitle);}else{jQuery('.docHeaderLinks .exportRefNormal').attr('title',exportLink);}}
function showRefernceDisableToolTip(){var disabledExport=Export.EXPORT_DISABLED_ALT();var disabledPrint=detail.RECORD_REF_PRINT_SELECTED_Disable();var disabledEmail=detail.RECORD_REF_EMAIL_SELECTED_Disable();var disabledBiblio=detail.RECORD_REF_BIB_SELECTED_Disable();jQuery('.docHeaderLinks .print').attr('title',disabledPrint);jQuery('.docHeaderLinks .email').attr('title',disabledEmail);jQuery('.docHeaderLinks .createBibliography').attr('title',disabledBiblio);var directExportRefObj=jQuery('.docHeaderLinks .directExport');if(directExportRefObj.length>0){directExportRefObj.attr('title',disabledExport);}else{jQuery('.docHeaderLinks .exportRefNormal').attr('title',disabledExport);}}
jQuery('.correspondenceEmail').on("click",function(e){var urlText="../record/authoremail.uri"
+"@view=extended"
+"&authorEmail="+$(this).attr('href').substr(7)
+"&origin=abstract";setTimeout(function(){document.location.href=urlText;},100);});function hideBubbleAll(){jQuery('body').die("click").on('click',function(e){if(!jQuery(e.target).closest('#exportTrigger')[0]){Bubble.hideAll(e);}});jQuery(document).on("keyup",function(e){var code=e.keyCode||e.which;if(code===27){Bubble.forceHideAll(e);}});}
var setRecordBubbleCnt={buildSetRecordAlertBubble:function(event){var param={"loadingText1":alertProp.alert.setup.loading.text(),"loadingText2":alertProp.alert.setup.loading.text(),"loadDivContainer":"outerWrapper"};scopusTab.showHideLoadingContainer(param);jQuery('.loadingTableAndChart').show().css({'top':'4%',"left":"50%"});MessageContainer.removeMsgContatiner();var setCitationAlertUrl=jQuery('input[name="setCitationAlertUrl"]').val();retrieveAlertPop(setCitationAlertUrl,event);event.preventDefault();},buildRecordBubble:function(id,data,e,hideCallback){var alertContainer="#"+id+"-data";jQuery(alertContainer).html(data);e["data"]={position:Bubble.positionRight,setDataBack:false};if(id=='loginRegPopup'||id=='saveRegPopup'){var data={position:Bubble.positionRight,setDataBack:false};data.target=$('#'+id);Bubble.show(data);}else{Bubble.showBubble(e);}
if(jQuery('#bubble-'+id).length){ScopusLoginShowHideOptional.buidConatiner('contentWrapper',id);}
if(jQuery.isFunction(hideCallback)&&id=='loginRegPopup'){e["data"].hideCallback=loginRegReset();}else if(jQuery.isFunction(hideCallback)&&id=='saveRegPopup'){e["data"].hideCallback=saveRegReset();}}}
jQuery('div.citeinfo').on('click','#btnAlertSubmit',function(){submitAlert.alertConfirmationMessage=alertProp.alert.message.record.newalert(),submitAlert.alertIdentifier='saveAsAlert',submitAlert.alertType='documentCitationAlert',submitAlert.alertFornName='DocumentAlertValidatedForm',submitAlert.checkforDuplicateNames()});function retrieveAlertPop(alertUrl,e){jQuery.ajax({type:"GET",url:alertUrl,dataType:"html",success:function(data){setRecordBubbleCnt.buildRecordBubble(e.target.id,data,e,'');setinitialValuesonTextArea();e.preventDefault();setFrequency('');jQuery('#frequency').bind('change',function(){setFrequency('change');});scopusTab.hideLoadingOverlay();submitAlert.setEllipsisQuery();}});}
jQuery(document).ready(function(){var userStatus=jQuery('#loggedinUserStatus');if(userStatus.length>0){jQuery('#profilerightinside').on("click","#saveAsAlert",setRecordBubbleCnt.buildSetRecordAlertBubble);hideBubbleAll();}else{jQuery('#profilerightinside').on("click","#saveAsAlert",function(e){jQuery('#saveAsAlert').parent().addClass('CARS_panelClass');setRecordBubbleCnt.buildRecordBubble(e.target.id,jQuery('#login_pop_container').html(),e,'');});hideBubbleAll();}
jQuery("#closeAlertPopup, #closeloginPopup").live('click',function(e){Bubble.forceHideAll(e);e.preventDefault();});var fundingTextObj=jQuery('#fundingText');if(fundingTextObj.length){jQuery('#fundingTextHead').removeClass('displayNone');jQuery('#fundingText').removeClass('displayNone');var fundTxt=fundingTextObj.text();fundingTextObj.data("fullfundtext",fundTxt);if(fundTxt.length>1000){var viewMoreObj=jQuery('<a>').attr('id','fundViewMore').text('View More');var trunFundTxt=fundTxt.substr(0,1000)+'...';fundingTextObj.html(trunFundTxt);fundingTextObj.append(viewMoreObj);jQuery('#fundViewMore').on('click',function(){$('#fundingText').html(jQuery('#fundingText').data('fullfundtext'));});}else{fundingTextObj.html(fundTxt);}}});var key='';var g_MAX_EMAIL_REF_COUNT;var g_MAX_PRINT_REF_COUNT;var g_MAX_EXPORT_REF_COUNT;var g_MAX_LIST_REF_COUNT;var g_MAX_CTO_REF_COUNT;var g_MAX_REFS_REF_COUNT;var g_MAX_CITEDBY_REF_COUNT;var g_MAX_DOWNLOAD_DOC_COUNT;var g_maxEmailSelectedExceeded=false;var g_maxPrintSelectedExceeded=false;var g_maxExportSelectedExceeded=false;var g_maxListSelectedExceeded=false;var g_maxCTOBatchSelectedExceeded=false;var g_maxRefsSelectedExceeded=false;var g_maxCitedbySelectedExceeded=false;var g_maxDownloadSelectedExceeded=false;var g_resultsFormTarget='_self';var g_MAX_CTO_BATCH_REF_COUNT;var g_MAX_BATCH_EXPORT_REF_COUNT;var g_MAX_BATCH_EXPORT_REF_STRING;var reqFromhubLink=false;var isIE8=jQuery.browser.msie&&+jQuery.browser.version===8;var isIE9=jQuery.browser.msie&&+jQuery.browser.version===9;function setSelectedTab(source)
{document.SearchResultsForm.src.value=source;document.SearchResultsForm.cc.value="10";document.SearchResultsForm.resultsTab.value=source;document.SearchResultsForm.target="_self";document.SearchResultsForm.submit();}
function reassertSelectedTab(source)
{if(document.SearchResultsForm){document.SearchResultsForm.src.value=source;document.SearchResultsForm.resultsTab.value=source;document.SearchResultsForm.target="_self";}}
function setClustering(moreOrLess)
{document.SearchResultsForm.clustering.value=moreOrLess;document.SearchResultsForm.target="_self";document.SearchResultsForm.submit();}
function setSortClusteringField(sortClusterField)
{document.SearchResultsForm.sortClusterField.value=sortClusterField;document.SearchResultsForm.target="_self";document.SearchResultsForm.submit();}
function setSortField(sortValue,sortFieldName,form,metricName,isFromSourceResults,metricDisplayIndex)
{if(isFromSourceResults){form.elements['sortPerformedState'].value='t';form.elements['metricDisplayIndex'].value=metricDisplayIndex;form.elements['sortField'].value=sortFieldName;if(metricName!=''&&metricName!=null){form.elements['metricName'].value=metricName;}}else{form.recordid.value='';if(form.details){form.details.value='';}
form.elements[sortFieldName].value=sortValue;}
form.target="_self";form.submit();}
function nextPageResults()
{document.SearchResultsForm.searchWithinResultsDefault.value="nextPage";document.SearchResultsForm.target="_self";document.SearchResultsForm.submit();}
if(jQuery('#resultsPerPage').length>0){jQuery('#resultsPerPage').on('selectmenuchange',function(){if(null!=document.SearchResultsForm&&"undefined"!=document.SearchResultsForm){document.SearchResultsForm.displayPerPageFlag.value='t';nextPageResults();}});}
function checkForm()
{var returnVal=true;if(g_maxEmailSelectedExceeded){g_maxEmailSelectedExceeded=false;returnVal=confirm(messages.results.error.max.email.exc(g_MAX_EMAIL_REF_COUNT));}
if(g_maxPrintSelectedExceeded){g_maxPrintSelectedExceeded=false;returnVal=confirm(messages.results.error.max.print.exc(g_MAX_PRINT_REF_COUNT));}
if(g_maxExportSelectedExceeded){g_maxExportSelectedExceeded=false;returnVal=confirm(messages.results.error.maxexport.exc(g_MAX_BATCH_EXPORT_REF_COUNT));}
if(g_maxListSelectedExceeded){g_maxListSelectedExceeded=false;alert(messages.results.error.max.list.exc(g_MAX_LIST_REF_COUNT));returnVal=false;}
if(g_maxCTOBatchSelectedExceeded){g_maxCTOBatchSelectedExceeded=false;returnVal=confirm(messages.SEARCH_CITATION(g_MAX_CTO_BATCH_REF_COUNT)+"\r\n"+messages.SEARCH_CITATION_TRACTER(g_MAX_CTO_BATCH_REF_COUNT));}
if(g_maxRefsSelectedExceeded){g_maxRefsSelectedExceeded=false;returnVal=confirm(messages.results.error.max.refs.exc(g_MAX_REFS_REF_COUNT));}
if(g_maxCitedbySelectedExceeded){g_maxCitedbySelectedExceeded=false;returnVal=confirm(messages.results.error.max.citedby.exc(g_MAX_CITEDBY_REF_COUNT));}
if(g_maxDownloadSelectedExceeded){g_maxDownloadSelectedExceeded=false;returnVal=confirm(messages.results.error.max.download.exc(g_MAX_DOWNLOAD_DOC_COUNT));}
if(!reqFromhubLink){setFormTarget();reqFromhubLink=false;}
return returnVal;}
function setFormTarget(){if(document.SearchResultsForm!=null){document.SearchResultsForm.target=g_resultsFormTarget;g_resultsFormTarget="_self";}}
function getSelectedDocumentCount(form){var selCount=parseInt(form.scount.value);var ansCount=parseInt(form.count.value);var pageSelectTotal=parseInt(form.pageselecttotal.value);selCount=selCount-pageSelectTotal;var selAllChkBox=form.selectAllCheckBox.checked;if(selAllChkBox){selCount=ansCount;}else{var array=jQuery('[name="selectedEIDs"]');for(var i=0;i<array.length;i++){if(array[i].checked){++selCount;}}}
return selCount;}
function submitAndRedirect(url){document.SearchResultsForm.clustering.value='';document.SearchResultsForm.redirect.value=url;document.SearchResultsForm.target="_self";document.SearchResultsForm.submit();}
function mouseImage(isSortAsc){image1=new Image();image2=new Image();image1.src="../static/images/arrow_down_white.gif";image2.src="../static/images/arrow_up_white.gif";if(isSortAsc=='F'){document.images.dateDown.src=image2.src;}else{document.images.dateDown.src=image1.src;}}
function checkMaxDownloadDocsExceeded(control){g_maxDownloadSelectedExceeded=checkMaxExceeded(control,g_MAX_DOWNLOAD_DOC_COUNT);return false;}
function checkMaxExceeded(form,max_size){var selCount=parseInt(form.scount.value);var ansCount=parseInt(form.count.value);var pageSelectTotal=parseInt(form.pageselecttotal.value);selCount=selCount-pageSelectTotal;var selAllChkBox=form.selectAllCheckBox.checked;if(selAllChkBox&&ansCount>max_size){return true;}else{for(var i=0;i<form.elements.length;++i){var eleControl=form.elements[i];if(eleControl.type=="checkbox"&&eleControl.name=="selectedEIDs"){if(eleControl.checked){++selCount;}}}
if(selCount>max_size){return true;}}
return false;}
function getselcount(form){var selCount=parseInt(form.scount.value);var ansCount=parseInt(form.count.value);var pageSelectTotal=parseInt(form.pageselecttotal.value);selCount=selCount-pageSelectTotal;var selAllChkBox=form.selectAllCheckBox.checked;if(selAllChkBox){return ansCount;}else{for(var i=0;i<form.elements.length;++i){var eleControl=form.elements[i];if(eleControl.type=="checkbox"&&eleControl.name=="selectedEIDs"){if(eleControl.checked){++selCount;}}}
return selCount;}}
function addCommas(nStr){nStr+='';x=nStr.split('.');x1=x[0];x2=x.length>1?'.'+x[1]:'';var rgx=/(\d+)(\d{3})/;while(rgx.test(x1)){x1=x1.replace(rgx,'$1'+','+'$2');}
return x1+x2;}
function processLinkClick(button){document.SearchResultsForm.clustering.value='';document.SearchResultsForm.clickedLink.value=button;document.SearchResultsForm.target="_self";document.SearchResultsForm.submit();}
function validateDelete(form){var selCount=parseInt(form.scount.value);for(var i=0;i<form.elements.length;++i){var eleControl=form.elements[i];if(eleControl.type=="checkbox"&&eleControl.name=="selectedEIDs"){if(eleControl.checked){++selCount;}}}
if(selCount==1){return confirm(messages.results.deleteconfirm.no.selectionjs());}else{return confirm(messages.results.deletesconfirm.no.selectionjs());}}
function jumpToPageNumericValidation(e,page,form){var isNS=(navigator.appName=="Netscape")?1:0;var key;if(!isNS){key=e.keyCode;}else{key=e.which;}
if(key==8||key==0){return true;}else if(key>47&&key<58){return true;}else if(key==13){if(jQuery(form).children("input[name='details']")){jQuery(form).children("input[name='details']").val('');}
jQuery(form).children("input[name='currentPage']").val(page);jQuery(form).children("input[name='clickedLink']").val('go');jQuery(form).attr('target','_self');jQuery(form).submit();}
return false;}
function jumpToPageSyncUpCurrentPage(form,page){jQuery(form).children("input[name='currentPage']").val(page);jQuery(form).children("input[name='clickedLink']").val('go');jQuery(form).children("input[name='details']").val('');}
function rssClick(){document.RSSForm.submit();}
function documentJumpToPageNumericValidation(e,page,form){var isNS=(navigator.appName=="Netscape")?1:0;var key;if(!isNS){key=e.keyCode;}else{key=e.which;}
if(key==8||key==0){return true;}else if(key>47&&key<58){return true;}else if(key==13){jQuery(form).children("input[name='searchWithinResultsDefault']").val('f');jQuery(form).children("input[name='news']").val('');jQuery(form).children("input[name='documentJumpToPageDefault']").val('t');if(jQuery(form).children("input[name='details']")){jQuery(form).children("input[name='details']").val('');}
jQuery(form).children("input[name='currentPage']").val(page);var go=jQuery("<input>").attr({'type':'hidden','name':'go','value':'GO'});jQuery(form).children("input[name='clickedLink']").val('go');jQuery(form).append(go);jQuery(form).attr('target','_self');jQuery(form).submit();}
return false;}
function documentJumpToPageSyncUpCurrentPage(form,page){jQuery(form).children("input[name='documentJumpToPageDefault']").val('t');jQuery(form).children("input[name='currentPage']").val(page);jQuery(form).children("input[name='clickedLink']").val('go');}
function callShowHideRefineResults(showHideState)
{var clusteringUrl="clusteringshowhide.uri";document.getElementById("refineHeader").className='padding5 margin clearfix';if(showHideState=='Show'){document.getElementById("clusterData").className="displayBlock";if(document.getElementById("clusterData").lang=="DocResults"){updateNavigatorSizes();}
document.getElementById("hr").className="hr displayBlock";document.getElementById("clusterFooter").className="displayBlock";document.getElementById("hide").className="displayBlock";document.getElementById("show").className="displayNone";document.getElementById("refineHeader").onmouseover='';}
else{document.getElementById("clusterData").className="displayNone";document.getElementById("clusterFooter").className="displayNone";document.getElementById("show").className="displayBlock";document.getElementById("hide").className="displayNone";}
showHide="@showHide="+showHideState;clusteringUrl=clusteringUrl+showHide;var xmlhttp=GetXmlHttpObject();xmlhttp.open("GET",clusteringUrl,true);xmlhttp.send(null);return;}
function GetXmlHttpObject()
{if(window.XMLHttpRequest){return new XMLHttpRequest();}
if(window.ActiveXObject){return new ActiveXObject("Microsoft.XMLHTTP");}
return null;}
function prevNextBarLink(linkname){document.SearchResultsForm.action='handle.uri';document.SearchResultsForm.clickedLink.value=linkname;document.SearchResultsForm.target="_self";document.SearchResultsForm.submit();}
function setSelectedLink(linkname){document.SearchResultsForm.clickedLink.value=linkname;document.SearchResultsForm.submit();}
function sortFieldSub(sortValue,sortFieldName,form){form.elements[sortFieldName].value=sortValue;if(form.clickedLink!=null&&form.clickedLink.value!=""){form.clickedLink.value="";}
var src=jQuery("input:hidden[name='src']").val();if(src!='p'){document.SearchResultsForm.sortOrderFlag.value='t';}
form.target="_self";form.submit();}
function setAlertUpdateResultsButton(obj){document.SearchResultsForm.alertUpdateResultsButton.value=obj.value;document.SearchResultsForm.submit();}
function checkMaxOrNoresultsCount(control,linkName){var returnValue=true;var selCount=getSelectedDocumentCount(control);var linkHeader=jQuery(".docHeaderLinks.lnkDisabled");if(linkName!=''&&linkName=='Email'){g_maxEmailSelectedExceeded=checkMaxExceeded(control,g_MAX_EMAIL_REF_COUNT);if(g_maxEmailSelectedExceeded){g_maxEmailSelectedExceeded=false;returnValue=confirm(messages.results.error.max.email.exc(g_MAX_EMAIL_REF_COUNT));}}else if(linkName!=''&&linkName=='Print'){g_maxPrintSelectedExceeded=checkMaxExceeded(control,g_MAX_PRINT_REF_COUNT);if(g_maxPrintSelectedExceeded){g_maxPrintSelectedExceeded=false;returnValue=confirm(messages.results.error.max.print.exc(g_MAX_PRINT_REF_COUNT));}}else if(linkName!=''&&linkName=='Export'){g_maxExportSelectedExceeded=checkMaxExceeded(control,g_MAX_BATCH_EXPORT_REF_COUNT);if(g_maxExportSelectedExceeded){g_maxExportSelectedExceeded=false;returnValue=confirm(messages.results.error.maxexport.exc(g_MAX_EXPORT_REF_COUNT,selCount));}}else if(linkName!=''&&linkName=='AddToMyList'){g_maxListSelectedExceeded=checkMaxExceeded(control,g_MAX_LIST_REF_COUNT);if(g_maxListSelectedExceeded){g_maxListSelectedExceeded=false;returnValue=confirm(messages.results.error.max.list.exc(g_MAX_LIST_REF_COUNT));}
if(linkHeader.length>0){returnValue=false;}}else if(linkName!=''&&linkName=='ViewCitationOverview'){g_maxCTOBatchSelectedExceeded=checkMaxExceeded(control,g_MAX_CTO_BATCH_REF_COUNT);if(g_maxCTOBatchSelectedExceeded){g_maxCTOBatchSelectedExceeded=false;returnValue=confirm(messages.SEARCH_CITATION(g_MAX_CTO_BATCH_REF_COUNT)+"\r\n"+messages.SEARCH_CITATION_TRACTER(g_MAX_CTO_BATCH_REF_COUNT));}}else if(linkName!=''&&linkName=='ViewCitation'){g_maxCitedbySelectedExceeded=checkMaxExceeded(control,g_MAX_CITEDBY_REF_COUNT);if(g_maxCitedbySelectedExceeded){g_maxCitedbySelectedExceeded=false;returnValue=confirm(messages.results.error.max.citedby.exc(g_MAX_CITEDBY_REF_COUNT));}}else if(linkName!=''&&linkName=='ViewReference'){g_maxRefsSelectedExceeded=checkMaxExceeded(control,g_MAX_REFS_REF_COUNT);if(g_maxRefsSelectedExceeded){g_maxRefsSelectedExceeded=false;returnValue=confirm(messages.results.error.max.refs.exc(g_MAX_REFS_REF_COUNT));}}else if(linkName!=''&&linkName=='RemoveAuthorDocs'){g_maxRefsSelectedExceeded=checkMaxExceeded(control,g_MAX_REFS_REF_COUNT);if(g_maxRefsSelectedExceeded){g_maxRefsSelectedExceeded=false;returnValue=confirm(messages.results.error.max.refs.exc(g_MAX_REFS_REF_COUNT));}}else if(linkName!=''&&linkName=='SaveList'){g_maxListSelectedExceeded=checkMaxExceeded(control,g_MAX_LIST_REF_COUNT);if(g_maxListSelectedExceeded){g_maxListSelectedExceeded=false;returnValue=confirm(messages.results.error.max.list.exc(g_MAX_LIST_REF_COUNT));}
if(linkHeader.length>0){returnValue=false;}}
return returnValue;}
var MenuList=jQuery('.featuresRow ul#MenuList').html();jQuery('ul#reqMenuList').html(MenuList);jQuery('body').bind('click',function(e){if(!jQuery(e.target).closest('.moreLnk')[0]){jQuery('.moreMenu').hide();jQuery('.reqMoreMenu').hide();}});jQuery('.arrowDownMore').click(function(e){var moreLnkID=jQuery(e.target).closest('li').attr('id');jQuery('.moreMenu').hide();jQuery('.reqMoreMenu').hide();var moreLnkHeaderLeftPos=jQuery("#moreLnk_header").offset().left;var moreLnkFooterLeftPos=jQuery("#moreLnk_footer").offset().left;var windowWidth=jQuery(window).width();var availableWidthHeader=windowWidth-moreLnkHeaderLeftPos;var availableWidthFooter=windowWidth-moreLnkFooterLeftPos;var moreMenuLinkWidth=jQuery('.moreMenuWidth').width();var moreLnk=jQuery('.moreLnk');var moreLnkPosition=moreLnk.position();if(moreLnkID=='moreLnk_header'){if(availableWidthHeader<moreMenuLinkWidth){jQuery('#moreMenu_header').hide();jQuery('#reqmoreMenu_header').css({'display':'block','top':moreLnkPosition.top-1});if(jQuery.browser.msie){jQuery('.reqMenuListBG').css({'width':'64px'});}}
else{jQuery('#reqmoreMenu_header').hide();jQuery('#moreMenu_header').css({'display':'block','top':moreLnkPosition.top+4});}}
else{if(availableWidthFooter<moreMenuLinkWidth){jQuery('#moreMenu_footer').hide();jQuery('#reqmoreMenu_footer').css({'display':'block','top':moreLnkPosition.top-1});if(jQuery.browser.msie){jQuery('.reqMenuListBG').css({'width':'64px'});}
jQuery('.reqMoreDummyMenuBG').css({'margin-top':'0px'});}
else{jQuery('#reqmoreMenu_footer').hide();jQuery('#moreMenu_footer').css({'display':'block','top':moreLnkPosition.top+4});jQuery('#moreLnk_footer .moreDummyMenu').css({'margin-top':'-5px'});}}});jQuery('.arrowUpMore').click(function(e){jQuery('.moreMenu').hide();jQuery('.reqMoreMenu').hide();});jQuery("#seachwithinresults").bind('keydown',function(e){jQuery("#search_within_submit").addClass("searchWithBtnAct");jQuery("#search_within_submit").attr("disabled",false);jQuery(this).removeClass('waterMarkOn');}).bind('keyup',function(e){if(jQuery.trim(jQuery("#seachwithinresults").val())==""){jQuery("#seachwithinresults").val('');jQuery("#search_within_submit").removeClass("searchWithBtnAct");jQuery("#search_within_submit").attr("disabled",true);}
else{jQuery("#search_within_submit").addClass("searchWithBtnAct");jQuery("#search_within_submit").attr("disabled",false);jQuery(this).removeClass('waterMarkOn');}});jQuery("#seachwithinresults").on('paste',function(){setTimeout(function(){jQuery("#search_within_submit").addClass("searchWithBtnAct");jQuery("#search_within_submit").attr("disabled",false);jQuery(this).removeClass('waterMarkOn');},100);});jQuery("#seachwithinresults").on('cut',function(){setTimeout(function(){if(jQuery.trim(jQuery("#seachwithinresults").val())==""){jQuery("#search_within_submit").removeClass("searchWithBtnAct");jQuery("#search_within_submit").attr("disabled",true);}},100);});function enableDisableFeatureRowLnkInit(){if(jQuery("#srchResultsList ul.documentDataList li input:checkbox:checked").length>0||documentSearchCount>0){enableLnk();}else{var directExport=jQuery('#directExport');if(directExport.length>0){directExport.attr('title',Export.EXPORT_DISABLED_ALT());}}
jQuery('body').on('click','.lnkEnabled a.clickAction',function(e){var linkType=jQuery(this).attr('data-type');var linkId=jQuery(this).attr('id');var SearchResultsForm=document.forms['SearchResultsForm'];if(linkType=='pdfLink'){var ver=getChromeVersion();var chromeText=messages.resultlist.header.databutton.download.chrome45();var ieEdgeText=messages.resultlist.header.databutton.download.ieedge();if(getIEVersion()>=12){drawChromeMsgPopUp(ieEdgeText);return false;}
else if(parseInt(ver)>44){drawChromeMsgPopUp(chromeText);return false;}
PDFdownloadFromResultsPage(SearchResultsForm,jQuery(this).attr('data-url'));}
else if(linkType=='exportLink'||linkId=='export_results'){oneClick.resultsAndAuthorExportCommon(e);}
else if(linkType=='saveListLink'){if(checkMaxOrNoresultsCount(SearchResultsForm,'SaveList')){setSelectedLink('SaveListItemButton');}}else if(linkType=='deleteListLink'){if(validateDelete(SearchResultsForm)){setSelectedLink('DeleteListButton');}}
else if(linkType=='ctoLink'){CitOver.viewCitationOverviewSearchResults();}
else if(linkType=='citedByLink'){if(checkMaxOrNoresultsCount(SearchResultsForm,'ViewCitation')){setSelectedLink('CitedbyButton');}}
else if(linkType=='feedbackLink'){if(checkMaxOrNoresultsCount(SearchResultsForm,'RemoveAuthorDocs')){setSelectedLink('RemoveAuthorDocumentsButton');}}
else if(linkType=='directExport'){oneClick.oneClickExportSubmit(e,false);}});}
function enableLnk(){if(documentSearchCount>0){if(documentSearchCount==pageSelectCount){activateLinks();}else if(pageSelectCount==0||(documentSearchCount>pageSelectCount)){jQuery('#resultsPageOptions span.docHeaderLinks').removeClass('lnkDisabled').addClass('lnkEnabled');showEnableToolTip();}else{activateLinks();}}else{activateLinks();}}
function activateLinks(){if(jQuery("#srchResultsList input:checkbox:checked").length>0){jQuery('#resultsPageOptions span.docHeaderLinks').removeClass('lnkDisabled').addClass('lnkEnabled');showEnableToolTip();}else{jQuery('#resultsPageOptions span.docHeaderLinks').addClass('lnkDisabled').removeClass('lnkEnabled');showDisableToolTip();}}
function showEnableToolTip(){var saveLink=messages.mylist.header.save.alt();var deleteLink=messages.mylist.header.deletes.alt();var downloadPDF=messages.resultlist.header.databutton.download.alt();var exportFile=Export.EXPORT_LABEL_ENABLED_ALT();var citationOverview=messages.resultlist.header.databutton.cto.alt();var viewCitations=messages.resultlist.header.databutton.citedby.alt();var moreLink=messages.resultlist.header.databutton.more.alt();var tempList=messages.resultlist.header.databutton.mylist.alt();var saveList=messages.resultlist.header.databutton.mylist.alt.loggedIn();jQuery('.docHeaderLinks .save').attr('title',saveLink);jQuery('.docHeaderLinks .deletes').attr('title',deleteLink);jQuery('.docHeaderLinks .downloadPdf').attr('title',downloadPDF);jQuery('.docHeaderLinks .citationOverview').attr('title',citationOverview);jQuery('.docHeaderLinks .viewCitations').attr('title',viewCitations);var tempListObj=jQuery('.docHeaderLinks .addToMyList');if(tempListObj.attr("data-type")==="AddToMyList"){tempListObj.attr('title',tempList);}
else{tempListObj.attr('title',saveList);}
jQuery('#moreLink').attr('title',moreLink);var directExportObj=jQuery('#directExport');if(directExportObj.length>0){var directExportTitle;if(oneClick.ExportSetting.Format=='CSV'){directExportTitle=Export.CSV_EXPORT_ALT();}
else if(oneClick.ExportSetting.Format=='REFWORKS'){directExportTitle=Export.REFWORK_EXPORT_ALT();}
else if(oneClick.ExportSetting.Format=='Mendeley'){directExportTitle=Export.SAVE_TO_MENDELEY_ALT();}
else if(oneClick.ExportSetting.Format=='RIS'){directExportTitle=Export.RIS_EXPORT_ALT();}
else if(oneClick.ExportSetting.Format=='TEXT'){directExportTitle=Export.TEXT_EXPORT_ALT();}
else if(oneClick.ExportSetting.Format=='BIB'){directExportTitle=Export.BIBTEXT_EXPORT_ALT();}
directExportObj.attr('title',directExportTitle);}else{jQuery('.docHeaderLinks .exportNormal').attr('title',exportFile);}}
function showDisableToolTip(){var disabledSave=messages.resultlist.header.disabled.save.alt();var disabledDelete=messages.resultlist.header.disabled.deletes.alt();var disabledDownload=messages.resultlist.header.disabled.download.alt();var disabledExport=Export.EXPORT_DISABLED_ALT();var disabledCitation=messages.resultlist.header.disabled.citation.alt();var disabledCitedby=messages.resultlist.header.disabled.citedby.alt();var disabledMoreWithCitedby=messages.resultlist.header.disabled.more.withcitedby.alt();var disabledMore=messages.resultlist.header.disabled.more.alt();var disabledTempList=messages.resultlist.header.disabled.mylist.alt();var disabledSaveList=messages.resultlist.header.disabled.mylist.alt.loggedIn();jQuery('.docHeaderLinks .save').attr('title',disabledSave);jQuery('.docHeaderLinks .deletes').attr('title',disabledDelete);jQuery('.docHeaderLinks .downloadPdf').attr('title',disabledDownload);jQuery('.docHeaderLinks .citationOverview').attr('title',disabledCitation);jQuery('.docHeaderLinks .viewCitations').attr('title',disabledCitedby);var tempListObj=jQuery('.docHeaderLinks .addToMyList');if(tempListObj.attr("data-type")==="AddToMyList"){tempListObj.attr('title',disabledTempList);}
else{tempListObj.attr('title',disabledSaveList);}
if(jQuery('div#extLink').length>0){jQuery('#moreLink').attr('title',disabledMoreWithCitedby);}
else{jQuery('#moreLink').attr('title',disabledMore);}
var directExportObj=jQuery('#directExport');if(directExportObj.length>0){jQuery('.docHeaderLinks .directExport').attr('title',disabledExport);}else{jQuery('.docHeaderLinks .exportNormal').attr('title',disabledExport);}
secondaryResultViewMore();}
function toggleRowLnk(rowid){var resultRelatedLink=jQuery("#resultRelatedLink"+rowid);var resultRelatedDivider=jQuery("#resultRelatedDivider"+rowid);if(!jQuery.isEmptyObject(resultRelatedLink)){if(resultRelatedLink.hasClass('visibleLink')){resultRelatedLink.removeClass('visibleLink');if(!jQuery.isEmptyObject(resultRelatedDivider)&&resultRelatedDivider.hasClass('visibleLink')){resultRelatedDivider.removeClass('visibleLink');}}else{resultRelatedLink.addClass("visibleLink");if(!jQuery.isEmptyObject(resultRelatedDivider)){resultRelatedDivider.addClass("visibleLink");}}}}
function exportResultsList(form){var returnValue=true;var formOBJ=jQuery("form[name='SearchResultsForm']")[0];var test=checkMaxExceeded(formOBJ,20000);var selcount=getselcount(formOBJ);var selcountString=addCommas(selcount);var msg2=messages.results.error.maxexport.exc(selcountString);if(test){jQuery('#dialog-modal').html(msg2).show();jQuery("#dialog-modal").dialog({resizable:false,width:800,height:"auto",modal:true,draggable:false,open:function(){jQuery(".ui-dialog-titlebar").hide();jQuery(".ui-dialog").addClass("mydialog");jQuery(".ui-widget-overlay").addClass("mydialog");},buttons:{Ok:function(){setSelectedLink('Export');return true;},Cancel:function(){jQuery(this).dialog("close");return false;}}});}
else{return returnValue;}}
var moreLink={};var isMoreRedrawn=false;function showHideLastDocHeaderLnk(){var outerResultWidth=jQuery('#sciverseCanvasArea').width();leftSideBarWidth=jQuery('#leftSideBar').width(),totalResultWidth=(outerResultWidth-leftSideBarWidth),buttonArea=jQuery("#resultsPageOptions"),selectOptions=buttonArea.find('.selectOptions'),leftLinks=buttonArea.find('.docHeaderLinks'),rightLinks=buttonArea.find(".resultsAbstract"),buttonAreaWidth=buttonArea.innerWidth(),addToListContainer=jQuery(".addToListContainer"),leftLinksWidth=leftLinks.outerWidth(true),selectOptionsWidth=selectOptions.outerWidth(true),rightLinksWidth=rightLinks.outerWidth(true),innerOuterDiff=buttonAreaWidth-(leftLinksWidth+rightLinksWidth+selectOptionsWidth),moreOptionsObj=jQuery('#moreOptions'),checkSize=!isMoreRedrawn?74:80;if(!addToListContainer.length){checkSize=checkSize+86;}
if(innerOuterDiff<=checkSize){addToListContainer=jQuery(".addToListContainer");var addToListWidth=addToListContainer.outerWidth(true),addToListLink=addToListContainer.find("a").clone(),addToListContDiv=jQuery('<div>',{'class':"addToListCont"}).append(addToListLink);addToListContainer.remove();if(!moreOptionsObj.find('.addToListCont').length){moreOptionsObj.prepend(addToListContDiv);}
if((innerOuterDiff+addToListWidth)<=0){var viewCitLink=jQuery('.docHeaderLinks .viewCitations'),linkData=jQuery('.docHeaderLinks .viewCitations').clone(),viewCitLinkCont=jQuery('<div>',{'class':'viewCitCont'}).append(linkData);viewCitLink.next().remove();viewCitLink.remove();moreOptionsObj.prepend(viewCitLinkCont);}
else{jQuery('#moreLink').attr('title',disabledMoreWithCitedby);}
if(jQuery('#saveListResults.savedlistpage').length<1){jQuery('#saveListResults-data').attr("id",'moreLink-data');}
isMoreRedrawn=true;}
else if(innerOuterDiff>checkSize){jQuery('#moreLink-data').attr("id",'saveListResults-data');addToListContainer=moreOptionsObj.find("div.addToListCont");var addToListWidth=addToListContainer.outerWidth(true);if(addToListContainer.length>0&&innerOuterDiff>addToListWidth){var addToListLink=addToListContainer.find("a").clone(),addToListCont=jQuery('<span>',{'class':"addToListContainer"}).append(addToListLink),lastElement=jQuery("span.link_sep").last(),viewCitLink=moreOptionsObj.find('.viewCitCont');lastElement.after(addToListCont);addToListCont.append(lastElement.clone())
addToListContainer.remove();if(viewCitLink.length>0){var linkData=viewCitLink.find("a").clone(),viewCitLinkCont=jQuery('<span>',{'class':'viewCitCont'}).append(linkData);viewCitLink.remove();lastElement=jQuery("span.link_sep").last();lastElement.after(viewCitLinkCont);viewCitLinkCont.after(lastElement.clone())}
else if(totalResultWidth>'820'){if(jQuery('#moreOptions').find('.viewCitations').length){var linkData=jQuery('#moreOptions .viewCitations').clone();jQuery('#moreOptions .viewCitations').parent('div').remove();jQuery(linkData.outerHTML()+'<span class="link_sep">|</span>').insertBefore('#moreLink');jQuery('#moreLink').attr('title',disabledMore);}}
var docHeaderLnkWidth=jQuery('#resultsPageOptions .docHeaderLinks').width();var disabledMoreWithCitedby=messages.resultlist.header.disabled.more.withcitedby.alt();var disabledMoreWithCitedbyAddLst=messages.resultlist.header.disabled.more.withcitedbyAddLst.alt();var disabledMore=messages.resultlist.header.disabled.more.alt();}}
if(moreOptionsObj.is(':visible')){var moreLink=jQuery('#moreLink'),moreLinkPosition=moreLink.position()
morePopupPosition=moreOptionsObj.position();moreOptionsObj.css({'left':moreLinkPosition.left+18,'top':(moreLinkPosition.top+30.5)});}
if(jQuery(".pageName").attr("data-page")!='listMetrics'){jQuery('#saveListResults').off('click').on('click',saveDocumentsToList);}}
function showTeaser(rowId,event){if(event!=null){event.preventDefault();}
var $previewteaserrow=jQuery("#previewteaserrow"+rowId);if($previewteaserrow.length>0){$previewteaserrow.parent().addClass("noborder");$previewteaserrow.slideDown(30);}
var teaserInfoObj=jQuery("#teaserInfo"+rowId);teaserInfoObj.html(messages.PATENT_HIDE_MORE_INFORMATION());teaserInfoObj.attr('title',messages.PATENT_HIDE_MORE_INFORMATION());teaserInfoObj.attr('class','closepreview');var teasermtd='hideTeaser('+rowId+',event)';teaserInfoObj.attr('onclick',teasermtd);}
function hideTeaser(rowId,event){if(event!=null){event.preventDefault();}
var $previewteaserrow=jQuery("#previewteaserrow"+rowId);if($previewteaserrow.length>0){$previewteaserrow.slideUp(30);$previewteaserrow.parent().removeClass("noborder");}
var teaserInfoObj=jQuery("#teaserInfo"+rowId);teaserInfoObj.html(messages.PATENT_SHOW_MORE_INFORMATION());teaserInfoObj.attr('title',messages.PATENT_SHOW_MORE_INFORMATION());teaserInfoObj.attr('class','openpreview');var teasermtd='showTeaser('+rowId+',event)';teaserInfoObj.attr('onclick',teasermtd);}
function showAllTeaserInfo(action){if(action=='show'){jQuery(".abstractRow").each(function(i,obj){showTeaser(i+1,null);});jQuery('#showAllInfo').html(messages.PATENT_HIDE_ALL_INFORMATION());jQuery('#showAllInfo').attr('title',messages.PATENT_HIDE_ALL_INFORMATION());jQuery('#showAllInfo').attr('onclick','showAllTeaserInfo(\'hide\')');}else{jQuery(".abstractRow").each(function(i,obj){hideTeaser(i+1,null);});jQuery('#showAllInfo').html(messages.PATENT_SHOW_ALL_INFORMATION());jQuery('#showAllInfo').attr('title',messages.PATENT_SHOW_ALL_INFORMATION());jQuery('#showAllInfo').attr('onclick','showAllTeaserInfo(\'show\')');}}
function secondaryResultViewMore(){var secondaryResultsDisabledMore=messages.resultlist.header.disabled.secondaryresults.more.alt();var secondaryFormValue=jQuery("#searchResFormId").find("input[name='currentSource']");if(secondaryFormValue.val()=='dm'||secondaryFormValue.val()=='r'){jQuery('#moreLink').attr('title',secondaryResultsDisabledMore);}}
function checkQueryBarStartingLinkSeperator(){jQuery("div.resultsQueryBar").find("span.link_sep").each(function(){var left=jQuery(this).position().left;if(left<=15){jQuery(this).hide();}});}
jQuery.fn.outerHTML=function(s){if(this.length==0)return false;var elem=this[0],name=elem.tagName.toLowerCase();if(elem.outerHTML)return elem.outerHTML;var attrs=jQuery.map(elem.attributes,function(i){return i.name+'="'+i.value+'"';});return"<"+name+(attrs.length>0?" "+attrs.join(" "):"")+">"+elem.innerHTML+"</"+name+">";};var srhWithIn=messages.RESULTS_SRH_WTH_IN();jQuery(function(){checkQueryBarStartingLinkSeperator();secondaryResultViewMore();searchwithinWaterMark();});function searchwithinWaterMark(){if(jQuery('#seachwithinresults').length>0){jQuery('#seachwithinresults').searchForPlaceholder({left:{enabled:true,value:srhWithIn,type:"simple",classes:"searchForTxt"},right:{enabled:false}});}}
jQuery('input.paginationNum').bind('focus',function(){jQuery('span.paginationTxt').css({'visibility':'hidden'});jQuery('input.paginationNum').val('');}).bind('blur',function(){jQuery('span.paginationTxt').css({'visibility':'visible'});jQuery('input.paginationNum').val(jQuery(this).attr('data-value'));});jQuery(document).ready(function(){var userStatus=jQuery('#loggedinUserStatus');if(userStatus.length>0){jQuery('#setAlert').on("click",setBubbleCnt.buildSetAlertBubble);hideBubbleAll();}else{jQuery('#setAlert').on("click",function(e){jQuery('#setAlert').parent().addClass('CARS_panelClass');setBubbleCnt.buildBubble('setAlert','.resultsQueryBar',jQuery('#login_pop_container').html(),e,'');});hideBubbleAll();}
jQuery("#closeAlertPopup, #closeloginPopup").live('click',function(e){Bubble.forceHideAll(e);e.preventDefault();});if(jQuery(".pageName").attr("data-page")==='listMetrics'){jQuery('#saveListResults.savedlistpage').off('click').on('click',resultsSaveToList);}
else{jQuery('#saveListResults').on('click',saveDocumentsToList);}
if(jQuery('#alertUpdateButton').length){jQuery('.iconLink .icon.save,.link_sep,#setAlert,.iconLink .icon.setFeed').hide();}});jQuery('span.iconLink').on('click','#btnAlertSubmit',function(){submitAlert.alertConfirmationMessage=messages.alert.message.results.newalert(),submitAlert.alertIdentifier='setAlert',submitAlert.alertType='searchAlert',submitAlert.alertFornName='SearchAlertValidatedForm',submitAlert.checkforDuplicateNames()});function hideBubbleAll(){jQuery('body').die("click").on('click',function(e){if(!jQuery(e.target).closest('#exportTrigger')[0]){Bubble.hideAll(e);}});jQuery(document).on("keyup",function(e){var code=e.keyCode||e.which;if(code===27){Bubble.forceHideAll(e);}});}
function saveDocumentsToList(event){if(jQuery(".docHeaderLinks.lnkDisabled").length>0){return;}
event.preventDefault();var linkname="ListButton";document.SearchResultsForm.clickedLink.value=linkname;var targetObj=$(event.currentTarget);if(typeof console!=="undefined"){console.log("ajax call to bring save to list popup start");}
jQuery.ajax({url:'handle.uri',dataType:"html",cache:false,type:"POST",data:jQuery('form[name=SearchResultsForm]').serialize()+'&origin=resultslist'+'&callType=resultPageAJAX',success:function(data){if(data!=null&&data!=''){var dataObj={position:Bubble.positionRight,setDataBack:false};if(targetObj.is(":visible")){jQuery('#saveListResults-data').html(data);event["data"]=dataObj;Bubble.showBubble(event);}
else{jQuery('#moreLink-data').html(data);dataObj.target=$("#moreLink");dataObj.position=Bubble.positionRight;Bubble.show(dataObj)}
jQuery("#saveTolistSubmit").on('click',listSetUpSave);jQuery('#listPopupClose').on('click',closeListPopUp);setWaterMarkList();ddlOnloadforSelectmenu();}},error:function(data){if(typeof console!=="undefined"){console.log('error in getting the save list pop up');}}});document.SearchResultsForm.clickedLink.value='';}
function closeListPopUp(event){event.preventDefault();Bubble.forceHideAll(event);}
function listSetUpSave(event){event.preventDefault();MessageContainer.removeMsgContatiner();var inputValTrim=jQuery.trim(jQuery('#listName').val());var listSelect=jQuery("#listId");var oldValue='-1';var SaveToListData={listFormObj:jQuery("#ListForm"),ajaxURL:"../list/savelist/add.uri"};if(SaveToListData.listFormObj.length===0){SaveToListData.listFormObj=jQuery("#searchResFormId");}
if(listSelect.length<1){if(inputValTrim.length<1){MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVE_TO_LIST_NO_NAME();MessageContainer.insertMsgContainer();return;}
SaveToListData.savedListName=inputValTrim;}else{var listSelectIndex=listSelect[0].selectedIndex;if(inputValTrim!=''&&listSelectIndex<=0){SaveToListData.savedListName=inputValTrim;SaveToListData.ajaxURL="../list/savelist/add.uri";}
else if(inputValTrim==''&&listSelectIndex>0){SaveToListData.savedListName=jQuery("select[name=listId] option:selected").text();SaveToListData.ajaxURL="../list/savelist/addItems.uri";oldValue=SaveToListData.listFormObj.find("[name='listId']").val();SaveToListData.listFormObj.find("[name='listId']").val(jQuery("select[name=listId] option:selected").val());}
else if(inputValTrim==''&&listSelectIndex<=0){MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVELIST_ERROR_MESSAGES_EMPTYSUBMIT();MessageContainer.insertMsgContainer();return;}
else if(inputValTrim!=''&&listSelectIndex>0){MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVELIST_ERROR_MESSAGES_BOTHSELECTED();MessageContainer.insertMsgContainer();return;}}
if(oldValue==-1){jQuery('#loggedInTempList').val('true');}
jQuery.ajax({url:SaveToListData.ajaxURL,cache:false,type:"POST",dataType:'JSON',data:SaveToListData.listFormObj.serialize(),success:function(data){if(data!=null&&data!=''){if(data.hasOwnProperty('success')){MessageContainer.parentContainerObj=jQuery('#sciverseCanvasArea');MessageContainer.messageType=MessageContainer.CONFIRM_MSG;MessageContainer.msgContent=messages.RESULT_SAVED_LIST_SUCCESS(data.docsAddedSize,SaveToListData.savedListName,data.saveListURL);MessageContainer.insertMsgContainer();Bubble.forceHideAll(event);SaveToListData.listFormObj.find("[name='listId']").val(oldValue);}else{MessageContainer.isReplace=true;switch(data.error){case'MaxListEntry':MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVED_LIST_MAXIMUM_LIMIT(data.size,data.saveListURL);MessageContainer.insertMsgContainer();break;case'MaxListItem':MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVED_LISTITEM_MAXIMUM_LIMIT(data.size);MessageContainer.insertMsgContainer();break;case'DuplicateList':MessageContainer.parentContainerObj=jQuery('#saveListError');MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=messages.RECORD_SAVED_LIST_NAME_EXISTS();MessageContainer.insertMsgContainer();break;}
MessageContainer.isReplace=false;}}},error:function(data){if(typeof console!=="undefined"){console.log('error in save list call');}}});}
function ddlOnloadforSelectmenu(){jQuery('select.selectMenu').selectmenu({appendTo:jQuery(this).next()});}
var setBubbleCnt={buildSetAlertBubble:function(e){var param={"loadingText1":alertProp.alert.setup.loading.text(),"loadingText2":alertProp.alert.setup.loading.text(),"loadDivContainer":"outerWrapper"};scopusTab.showHideLoadingContainer(param);MessageContainer.removeMsgContatiner();var resultsFormObject=jQuery("#searchResFormId");jQuery("input:hidden[name=clustering]").val("");jQuery("input:hidden[name=alertPopUp]").val("true");jQuery("input:hidden[name=clickedLink]").val("saveSearchAlertButton");var locationURL=window.location.origin;if(typeof locationURL=='undefined'){locationURL=window.location.protocol+"//"
+window.location.hostname
+(window.location.port?':'+window.location.port:'');}
var resultsHandlerUrl=locationURL+""+resultsFormObject.attr("action");var serializedFormContent=resultsFormObject.serialize();var retrievalResponse=jQuery.post(resultsHandlerUrl,serializedFormContent);retrievalResponse.done(function(response){if(jQuery('#setAlert').parent().hasClass('CARS_panelClass')){jQuery('#setAlert').parent().removeClass('CARS_panelClass');}
var alertPopupJson=response;if(alertPopupJson.hasOwnProperty("alertUrl")){var urlPath="";var urlProto=window.location.href.split("//");if(urlProto[0]=='http:'){urlPath=alertPopupJson.alertUrl.replace("../../https@","http://");}else if(urlProto[0]=='https:'){urlPath=alertPopupJson.alertUrl.replace("http://","../../https@");}else{urlPath=alertPopupJson.alertUrl;}
retrieveAlertPop(urlPath,e);jQuery("input:hidden[name=clickedLink]").val("");}});e.preventDefault();},buildBubble:function(id,outerContainer,data,e,hideCallback){var alertContainer="#"+id+"-data";jQuery(alertContainer).html(data);var setAlertleftposition=jQuery('#'+id).offset().left;var querybarWidth=jQuery(outerContainer).width();var setAlertBubbleWidth=327;var rightValue=querybarWidth-setAlertBubbleWidth;e["data"]={setDataBack:false};if(rightValue>setAlertleftposition){e["data"].position=Bubble.positionLeft;}
else{e["data"].position=Bubble.positionRight;}
if(id=='loginRegPopup'||id=='saveRegPopup'){var data={position:Bubble.positionLeft,setDataBack:false};data.target=$('#'+id);Bubble.show(data);jQuery(".bubble-content #username").focus();}else{Bubble.showBubble(e);}
if(jQuery('#bubble-'+id).length){ScopusLoginShowHideOptional.buidConatiner('searchResFormId',id);}
if(jQuery.isFunction(hideCallback)&&id=='loginRegPopup'){loginRegReset();}else if(jQuery.isFunction(hideCallback)&&id=='saveRegPopup'){saveRegReset();}}}
function retrieveAlertPop(alertUrl,e){jQuery.ajax({type:"GET",url:alertUrl,dataType:"html",success:function(data){setBubbleCnt.buildBubble('setAlert','.resultsQueryBar',data,e,'');setinitialValuesonTextArea();jQuery("input:hidden[name=alertPopUp]").val("false");e.preventDefault();setFrequency('');jQuery('#frequency').bind('change',function(){setFrequency('change');});scopusTab.hideLoadingOverlay();submitAlert.setEllipsisQuery();},error:function(data){if(typeof console!=="undefined"){console.log('error in retrieving alert popup data');}}});}
(function($,undefined){var uuid=0,runiqueId=/^ui-id-\d+$/;$.ui=$.ui||{};$.extend($.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});$.fn.extend({focus:(function(orig){return function(delay,fn){return typeof delay==="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();if(fn){fn.call(elem);}},delay);}):orig.apply(this,arguments);};})($.fn.focus),scrollParent:function(){var scrollParent;if(($.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){scrollParent=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test($.css(this,"position"))&&(/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));}).eq(0);}else{scrollParent=this.parents().filter(function(){return(/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));}).eq(0);}
return(/fixed/).test(this.css("position"))||!scrollParent.length?$(document):scrollParent;},zIndex:function(zIndex){if(zIndex!==undefined){return this.css("zIndex",zIndex);}
if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value;}}
elem=elem.parent();}}
return 0;},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++uuid);}});},removeUniqueId:function(){return this.each(function(){if(runiqueId.test(this.id)){$(this).removeAttr("id");}});}});function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false;}
img=$("img[usemap=#"+mapName+"]")[0];return!!img&&visible(img);}
return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element);}
function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return $.css(this,"visibility")==="hidden";}).length;}
$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName);};}):function(elem,i,match){return!!$.data(elem,match[3]);},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")));},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN);}});if(!$("<a>").outerWidth(1).jquery){$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;if(border){size-=parseFloat($.css(elem,"border"+this+"Width"))||0;}
if(margin){size-=parseFloat($.css(elem,"margin"+this))||0;}});return size;}
$.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this);}
return this.each(function(){$(this).css(type,reduce(this,size)+"px");});};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size);}
return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px");});};});}
if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};}
if($("<a>").data("a-b","a").removeData("a-b").data("a-b")){$.fn.removeData=(function(removeData){return function(key){if(arguments.length){return removeData.call(this,$.camelCase(key));}else{return removeData.call(this);}};})($.fn.removeData);}
$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());$.support.selectstart="onselectstart"in document.createElement("div");$.fn.extend({disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(event){event.preventDefault();});},enableSelection:function(){return this.unbind(".ui-disableSelection");}});$.extend($.ui,{plugin:{add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]]);}},call:function(instance,name,args){var i,set=instance.plugins[name];if(!set||!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11){return;}
for(i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args);}}}},hasScroll:function(el,a){if($(el).css("overflow")==="hidden"){return false;}
var scroll=(a&&a==="left")?"scrollLeft":"scrollTop",has=false;if(el[scroll]>0){return true;}
el[scroll]=1;has=(el[scroll]>0);el[scroll]=0;return has;}});})(jQuery);(function($,undefined){var uuid=0,slice=Array.prototype.slice,_cleanData=$.cleanData;$.cleanData=function(elems){for(var i=0,elem;(elem=elems[i])!=null;i++){try{$(elem).triggerHandler("remove");}catch(e){}}
_cleanData(elems);};$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget;}
$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName);};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element);}
if(arguments.length){this._createWidget(options,element);}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base();basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return;}
proxiedPrototype[prop]=(function(){var _super=function(){return base.prototype[prop].apply(this,arguments);},_superApply=function(args){return base.prototype[prop].apply(this,args);};return function(){var __super=this._super,__superApply=this._superApply,returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue;};})();});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?basePrototype.widgetEventPrefix:name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto);});delete existingConstructor._childConstructors;}else{base._childConstructors.push(constructor);}
$.widget.bridge(name,constructor);};$.widget.extend=function(target){var input=slice.call(arguments,1),inputIndex=0,inputLength=input.length,key,value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value);}else{target[key]=value;}}}}
return target;};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=slice.call(arguments,1),returnValue=this;options=!isMethodCall&&args.length?$.widget.extend.apply(null,[options].concat(args)):options;if(isMethodCall){this.each(function(){var methodValue,instance=$.data(this,fullName);if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'");}
if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance");}
methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false;}});}else{this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{})._init();}else{$.data(this,fullName,new object(options,this));}});}
return returnValue;};};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=uuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this.bindings=$();this.hoverable=$();this.focusable=$();if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===element){this.destroy();}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow);}
this._create();this._trigger("create",null,this._getCreateEventData());this._init();},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");},_destroy:$.noop,widget:function(){return this.element;},option:function(key,value){var options=key,parts,curOption,i;if(arguments.length===0){return $.widget.extend({},this.options);}
if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]];}
key=parts.pop();if(value===undefined){return curOption[key]===undefined?null:curOption[key];}
curOption[key]=value;}else{if(value===undefined){return this.options[key]===undefined?null:this.options[key];}
options[key]=value;}}
this._setOptions(options);return this;},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key]);}
return this;},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!value).attr("aria-disabled",value);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");}
return this;},enable:function(){return this._setOption("disabled",false);},disable:function(){return this._setOption("disabled",true);},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false;}
if(!handlers){handlers=element;element=this.element;delegateElement=this.widget();}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element);}
$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return;}
return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++;}
var match=event.match(/^(\w+)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];if(selector){delegateElement.delegate(selector,eventName,handlerProxy);}else{element.bind(eventName,handlerProxy);}});},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;element.unbind(eventName).undelegate(eventName);},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
var instance=this;return setTimeout(handlerProxy,delay||0);},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover");},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover");}});},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus");},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus");}});},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop];}}}
this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented());}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options};}
var hasOptions,effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options};}
hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay);}
if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options);}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback);}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0]);}
next();});}};});})(jQuery);(function($,undefined){var mouseHandled=false;$(document).mouseup(function(){mouseHandled=false;});$.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.bind("mousedown."+this.widgetName,function(event){return that._mouseDown(event);}).bind("click."+this.widgetName,function(event){if(true===$.data(event.target,that.widgetName+".preventClickEvent")){$.removeData(event.target,that.widgetName+".preventClickEvent");event.stopImmediatePropagation();return false;}});this.started=false;},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);}},_mouseDown:function(event){if(mouseHandled){return;}
(this._mouseStarted&&this._mouseUp(event));this._mouseDownEvent=event;var that=this,btnIsLeft=(event.which===1),elIsCancel=(typeof this.options.cancel==="string"&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:false);if(!btnIsLeft||elIsCancel||!this._mouseCapture(event)){return true;}
this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=true;},this.options.delay);}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(event)!==false);if(!this._mouseStarted){event.preventDefault();return true;}}
if(true===$.data(event.target,this.widgetName+".preventClickEvent")){$.removeData(event.target,this.widgetName+".preventClickEvent");}
this._mouseMoveDelegate=function(event){return that._mouseMove(event);};this._mouseUpDelegate=function(event){return that._mouseUp(event);};$(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);event.preventDefault();mouseHandled=true;return true;},_mouseMove:function(event){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button){return this._mouseUp(event);}
if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault();}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,event)!==false);(this._mouseStarted?this._mouseDrag(event):this._mouseUp(event));}
return!this._mouseStarted;},_mouseUp:function(event){$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(event.target===this._mouseDownEvent.target){$.data(event.target,this.widgetName+".preventClickEvent",true);}
this._mouseStop(event);}
return false;},_mouseDistanceMet:function(event){return(Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance);},_mouseDelayMet:function(){return this.mouseDelayMet;},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true;}});})(jQuery);(function($,undefined){$.widget("ui.draggable",$.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative";}
if(this.options.addClasses){this.element.addClass("ui-draggable");}
if(this.options.disabled){this.element.addClass("ui-draggable-disabled");}
this._mouseInit();},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();},_mouseCapture:function(event){var o=this.options;if(this.helper||o.disabled||$(event.target).closest(".ui-resizable-handle").length>0){return false;}
this.handle=this._getHandle(event);if(!this.handle){return false;}
$(o.iframeFix===true?"iframe":o.iframeFix).each(function(){$("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css($(this).offset()).appendTo("body");});return true;},_mouseStart:function(event){var o=this.options;this.helper=this._createHelper(event);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if($.ui.ddmanager){$.ui.ddmanager.current=this;}
this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=false;$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));this._setContainment();if(this._trigger("start",event)===false){this._clear();return false;}
this._cacheHelperProportions();if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}
this._mouseDrag(event,true);if($.ui.ddmanager){$.ui.ddmanager.dragStart(this,event);}
return true;},_mouseDrag:function(event,noPropagation){if(this.offsetParentCssPosition==="fixed"){this.offset.parent=this._getParentOffset();}
this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!noPropagation){var ui=this._uiHash();if(this._trigger("drag",event,ui)===false){this._mouseUp({});return false;}
this.position=ui.position;}
if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px";}
if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px";}
if($.ui.ddmanager){$.ui.ddmanager.drag(this,event);}
return false;},_mouseStop:function(event){var that=this,dropped=false;if($.ui.ddmanager&&!this.options.dropBehaviour){dropped=$.ui.ddmanager.drop(this,event);}
if(this.dropped){dropped=this.dropped;this.dropped=false;}
if(this.options.helper==="original"&&!$.contains(this.element[0].ownerDocument,this.element[0])){return false;}
if((this.options.revert==="invalid"&&!dropped)||(this.options.revert==="valid"&&dropped)||this.options.revert===true||($.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped))){$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(that._trigger("stop",event)!==false){that._clear();}});}else{if(this._trigger("stop",event)!==false){this._clear();}}
return false;},_mouseUp:function(event){$("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this);});if($.ui.ddmanager){$.ui.ddmanager.dragStop(this,event);}
return $.ui.mouse.prototype._mouseUp.call(this,event);},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({});}else{this._clear();}
return this;},_getHandle:function(event){return this.options.handle?!!$(event.target).closest(this.element.find(this.options.handle)).length:true;},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event])):(o.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!helper.parents("body").length){helper.appendTo((o.appendTo==="parent"?this.element[0].parentNode:o.appendTo));}
if(helper[0]!==this.element[0]&&!(/(fixed|absolute)/).test(helper.css("position"))){helper.css("position","absolute");}
return helper;},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ");}
if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}
if("left"in obj){this.offset.click.left=obj.left+this.margins.left;}
if("right"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}
if("top"in obj){this.offset.click.top=obj.top+this.margins.top;}
if("bottom"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_getParentOffset:function(){var po=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}
if((this.offsetParent[0]===document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&$.ui.ie)){po={top:0,left:0};}
return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var p=this.element.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var over,c,ce,o=this.options;if(!o.containment){this.containment=null;return;}
if(o.containment==="window"){this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-this.helperProportions.width-this.margins.left,$(window).scrollTop()+($(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return;}
if(o.containment==="document"){this.containment=[0,0,$(document).width()-this.helperProportions.width-this.margins.left,($(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return;}
if(o.containment.constructor===Array){this.containment=o.containment;return;}
if(o.containment==="parent"){o.containment=this.helper[0].parentNode;}
c=$(o.containment);ce=c[0];if(!ce){return;}
over=c.css("overflow")!=="hidden";this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=c;},_convertPositionTo:function(d,pos){if(!pos){pos=this.position;}
var mod=d==="absolute"?1:-1,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;if(!this.offset.scroll){this.offset.scroll={top:scroll.scrollTop(),left:scroll.scrollLeft()};}
return{top:(pos.top+
this.offset.relative.top*mod+
this.offset.parent.top*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)*mod)),left:(pos.left+
this.offset.relative.left*mod+
this.offset.parent.left*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)*mod))};},_generatePosition:function(event){var containment,co,top,left,o=this.options,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,pageX=event.pageX,pageY=event.pageY;if(!this.offset.scroll){this.offset.scroll={top:scroll.scrollTop(),left:scroll.scrollLeft()};}
if(this.originalPosition){if(this.containment){if(this.relative_container){co=this.relative_container.offset();containment=[this.containment[0]+co.left,this.containment[1]+co.top,this.containment[2]+co.left,this.containment[3]+co.top];}
else{containment=this.containment;}
if(event.pageX-this.offset.click.left<containment[0]){pageX=containment[0]+this.offset.click.left;}
if(event.pageY-this.offset.click.top<containment[1]){pageY=containment[1]+this.offset.click.top;}
if(event.pageX-this.offset.click.left>containment[2]){pageX=containment[2]+this.offset.click.left;}
if(event.pageY-this.offset.click.top>containment[3]){pageY=containment[3]+this.offset.click.top;}}
if(o.grid){top=o.grid[1]?this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;pageY=containment?((top-this.offset.click.top>=containment[1]||top-this.offset.click.top>containment[3])?top:((top-this.offset.click.top>=containment[1])?top-o.grid[1]:top+o.grid[1])):top;left=o.grid[0]?this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;pageX=containment?((left-this.offset.click.left>=containment[0]||left-this.offset.click.left>containment[2])?left:((left-this.offset.click.left>=containment[0])?left-o.grid[0]:left+o.grid[0])):left;}}
return{top:(pageY-
this.offset.click.top-
this.offset.relative.top-
this.offset.parent.top+
(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)),left:(pageX-
this.offset.click.left-
this.offset.relative.left-
this.offset.parent.left+
(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left))};},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove();}
this.helper=null;this.cancelHelperRemoval=false;},_trigger:function(type,event,ui){ui=ui||this._uiHash();$.ui.plugin.call(this,type,[event,ui]);if(type==="drag"){this.positionAbs=this._convertPositionTo("absolute");}
return $.Widget.prototype._trigger.call(this,type,event,ui);},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs};}});$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui){var inst=$(this).data("ui-draggable"),o=inst.options,uiSortable=$.extend({},ui,{item:inst.element});inst.sortables=[];$(o.connectToSortable).each(function(){var sortable=$.data(this,"ui-sortable");if(sortable&&!sortable.options.disabled){inst.sortables.push({instance:sortable,shouldRevert:sortable.options.revert});sortable.refreshPositions();sortable._trigger("activate",event,uiSortable);}});},stop:function(event,ui){var inst=$(this).data("ui-draggable"),uiSortable=$.extend({},ui,{item:inst.element});$.each(inst.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;inst.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=this.shouldRevert;}
this.instance._mouseStop(event);this.instance.options.helper=this.instance.options._helper;if(inst.options.helper==="original"){this.instance.currentItem.css({top:"auto",left:"auto"});}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",event,uiSortable);}});},drag:function(event,ui){var inst=$(this).data("ui-draggable"),that=this;$.each(inst.sortables,function(){var innermostIntersecting=false,thisSortable=this;this.instance.positionAbs=inst.positionAbs;this.instance.helperProportions=inst.helperProportions;this.instance.offset.click=inst.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){innermostIntersecting=true;$.each(inst.sortables,function(){this.instance.positionAbs=inst.positionAbs;this.instance.helperProportions=inst.helperProportions;this.instance.offset.click=inst.offset.click;if(this!==thisSortable&&this.instance._intersectsWith(this.instance.containerCache)&&$.contains(thisSortable.instance.element[0],this.instance.element[0])){innermostIntersecting=false;}
return innermostIntersecting;});}
if(innermostIntersecting){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=$(that).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return ui.helper[0];};event.target=this.instance.currentItem[0];this.instance._mouseCapture(event,true);this.instance._mouseStart(event,true,true);this.instance.offset.click.top=inst.offset.click.top;this.instance.offset.click.left=inst.offset.click.left;this.instance.offset.parent.left-=inst.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=inst.offset.parent.top-this.instance.offset.parent.top;inst._trigger("toSortable",event);inst.dropped=this.instance.element;inst.currentItem=inst.element;this.instance.fromOutside=inst;}
if(this.instance.currentItem){this.instance._mouseDrag(event);}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",event,this.instance._uiHash(this.instance));this.instance._mouseStop(event,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove();}
inst._trigger("fromSortable",event);inst.dropped=false;}}});}});$.ui.plugin.add("draggable","cursor",{start:function(){var t=$("body"),o=$(this).data("ui-draggable").options;if(t.css("cursor")){o._cursor=t.css("cursor");}
t.css("cursor",o.cursor);},stop:function(){var o=$(this).data("ui-draggable").options;if(o._cursor){$("body").css("cursor",o._cursor);}}});$.ui.plugin.add("draggable","opacity",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("ui-draggable").options;if(t.css("opacity")){o._opacity=t.css("opacity");}
t.css("opacity",o.opacity);},stop:function(event,ui){var o=$(this).data("ui-draggable").options;if(o._opacity){$(ui.helper).css("opacity",o._opacity);}}});$.ui.plugin.add("draggable","scroll",{start:function(){var i=$(this).data("ui-draggable");if(i.scrollParent[0]!==document&&i.scrollParent[0].tagName!=="HTML"){i.overflowOffset=i.scrollParent.offset();}},drag:function(event){var i=$(this).data("ui-draggable"),o=i.options,scrolled=false;if(i.scrollParent[0]!==document&&i.scrollParent[0].tagName!=="HTML"){if(!o.axis||o.axis!=="x"){if((i.overflowOffset.top+i.scrollParent[0].offsetHeight)-event.pageY<o.scrollSensitivity){i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop+o.scrollSpeed;}else if(event.pageY-i.overflowOffset.top<o.scrollSensitivity){i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop-o.scrollSpeed;}}
if(!o.axis||o.axis!=="y"){if((i.overflowOffset.left+i.scrollParent[0].offsetWidth)-event.pageX<o.scrollSensitivity){i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft+o.scrollSpeed;}else if(event.pageX-i.overflowOffset.left<o.scrollSensitivity){i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft-o.scrollSpeed;}}}else{if(!o.axis||o.axis!=="x"){if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);}else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}}
if(!o.axis||o.axis!=="y"){if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);}else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}}
if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(i,event);}}});$.ui.plugin.add("draggable","snap",{start:function(){var i=$(this).data("ui-draggable"),o=i.options;i.snapElements=[];$(o.snap.constructor!==String?(o.snap.items||":data(ui-draggable)"):o.snap).each(function(){var $t=$(this),$o=$t.offset();if(this!==i.element[0]){i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left});}});},drag:function(event,ui){var ts,bs,ls,rs,l,r,t,b,i,first,inst=$(this).data("ui-draggable"),o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height;for(i=inst.snapElements.length-1;i>=0;i--){l=inst.snapElements[i].left;r=l+inst.snapElements[i].width;t=inst.snapElements[i].top;b=t+inst.snapElements[i].height;if(x2<l-d||x1>r+d||y2<t-d||y1>b+d||!$.contains(inst.snapElements[i].item.ownerDocument,inst.snapElements[i].item)){if(inst.snapElements[i].snapping){(inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));}
inst.snapElements[i].snapping=false;continue;}
if(o.snapMode!=="inner"){ts=Math.abs(t-y2)<=d;bs=Math.abs(b-y1)<=d;ls=Math.abs(l-x2)<=d;rs=Math.abs(r-x1)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top-inst.margins.top;}
if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top-inst.margins.top;}
if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left-inst.margins.left;}
if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left-inst.margins.left;}}
first=(ts||bs||ls||rs);if(o.snapMode!=="outer"){ts=Math.abs(t-y1)<=d;bs=Math.abs(b-y2)<=d;ls=Math.abs(l-x1)<=d;rs=Math.abs(r-x2)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top-inst.margins.top;}
if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top-inst.margins.top;}
if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left-inst.margins.left;}
if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left-inst.margins.left;}}
if(!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first)){(inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));}
inst.snapElements[i].snapping=(ts||bs||ls||rs||first);}}});$.ui.plugin.add("draggable","stack",{start:function(){var min,o=this.data("ui-draggable").options,group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0);});if(!group.length){return;}
min=parseInt($(group[0]).css("zIndex"),10)||0;$(group).each(function(i){$(this).css("zIndex",min+i);});this.css("zIndex",(min+group.length));}});$.ui.plugin.add("draggable","zIndex",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("ui-draggable").options;if(t.css("zIndex")){o._zIndex=t.css("zIndex");}
t.css("zIndex",o.zIndex);},stop:function(event,ui){var o=$(this).data("ui-draggable").options;if(o._zIndex){$(ui.helper).css("zIndex",o._zIndex);}}});})(jQuery);(function($,undefined){function isOverAxis(x,reference,size){return(x>reference)&&(x<(reference+size));}
$.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var o=this.options,accept=o.accept;this.isover=false;this.isout=true;this.accept=$.isFunction(accept)?accept:function(d){return d.is(accept);};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};$.ui.ddmanager.droppables[o.scope]=$.ui.ddmanager.droppables[o.scope]||[];$.ui.ddmanager.droppables[o.scope].push(this);(o.addClasses&&this.element.addClass("ui-droppable"));},_destroy:function(){var i=0,drop=$.ui.ddmanager.droppables[this.options.scope];for(;i<drop.length;i++){if(drop[i]===this){drop.splice(i,1);}}
this.element.removeClass("ui-droppable ui-droppable-disabled");},_setOption:function(key,value){if(key==="accept"){this.accept=$.isFunction(value)?value:function(d){return d.is(value);};}
$.Widget.prototype._setOption.apply(this,arguments);},_activate:function(event){var draggable=$.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass);}
if(draggable){this._trigger("activate",event,this.ui(draggable));}},_deactivate:function(event){var draggable=$.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass);}
if(draggable){this._trigger("deactivate",event,this.ui(draggable));}},_over:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass);}
this._trigger("over",event,this.ui(draggable));}},_out:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);}
this._trigger("out",event,this.ui(draggable));}},_drop:function(event,custom){var draggable=custom||$.ui.ddmanager.current,childrenIntersection=false;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return false;}
this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var inst=$.data(this,"ui-droppable");if(inst.options.greedy&&!inst.options.disabled&&inst.options.scope===draggable.options.scope&&inst.accept.call(inst.element[0],(draggable.currentItem||draggable.element))&&$.ui.intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance)){childrenIntersection=true;return false;}});if(childrenIntersection){return false;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass);}
if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);}
this._trigger("drop",event,this.ui(draggable));return this.element;}
return false;},ui:function(c){return{draggable:(c.currentItem||c.element),helper:c.helper,position:c.position,offset:c.positionAbs};}});$.ui.intersect=function(draggable,droppable,toleranceMode){if(!droppable.offset){return false;}
var draggableLeft,draggableTop,x1=(draggable.positionAbs||draggable.position.absolute).left,x2=x1+draggable.helperProportions.width,y1=(draggable.positionAbs||draggable.position.absolute).top,y2=y1+draggable.helperProportions.height,l=droppable.offset.left,r=l+droppable.proportions.width,t=droppable.offset.top,b=t+droppable.proportions.height;switch(toleranceMode){case"fit":return(l<=x1&&x2<=r&&t<=y1&&y2<=b);case"intersect":return(l<x1+(draggable.helperProportions.width/2)&&x2-(draggable.helperProportions.width/2)<r&&t<y1+(draggable.helperProportions.height/2)&&y2-(draggable.helperProportions.height/2)<b);case"pointer":draggableLeft=((draggable.positionAbs||draggable.position.absolute).left+(draggable.clickOffset||draggable.offset.click).left);draggableTop=((draggable.positionAbs||draggable.position.absolute).top+(draggable.clickOffset||draggable.offset.click).top);return isOverAxis(draggableTop,t,droppable.proportions.height)&&isOverAxis(draggableLeft,l,droppable.proportions.width);case"touch":return((y1>=t&&y1<=b)||(y2>=t&&y2<=b)||(y1<t&&y2>b))&&((x1>=l&&x1<=r)||(x2>=l&&x2<=r)||(x1<l&&x2>r));default:return false;}};$.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,event){var i,j,m=$.ui.ddmanager.droppables[t.options.scope]||[],type=event?event.type:null,list=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(i=0;i<m.length;i++){if(m[i].options.disabled||(t&&!m[i].accept.call(m[i].element[0],(t.currentItem||t.element)))){continue;}
for(j=0;j<list.length;j++){if(list[j]===m[i].element[0]){m[i].proportions.height=0;continue droppablesLoop;}}
m[i].visible=m[i].element.css("display")!=="none";if(!m[i].visible){continue;}
if(type==="mousedown"){m[i]._activate.call(m[i],event);}
m[i].offset=m[i].element.offset();m[i].proportions={width:m[i].element[0].offsetWidth,height:m[i].element[0].offsetHeight};}},drop:function(draggable,event){var dropped=false;$.each(($.ui.ddmanager.droppables[draggable.options.scope]||[]).slice(),function(){if(!this.options){return;}
if(!this.options.disabled&&this.visible&&$.ui.intersect(draggable,this,this.options.tolerance)){dropped=this._drop.call(this,event)||dropped;}
if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){this.isout=true;this.isover=false;this._deactivate.call(this,event);}});return dropped;},dragStart:function(draggable,event){draggable.element.parentsUntil("body").bind("scroll.droppable",function(){if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}});},drag:function(draggable,event){if(draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}
$.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return;}
var parentInstance,scope,parent,intersects=$.ui.intersect(draggable,this,this.options.tolerance),c=!intersects&&this.isover?"isout":(intersects&&!this.isover?"isover":null);if(!c){return;}
if(this.options.greedy){scope=this.options.scope;parent=this.element.parents(":data(ui-droppable)").filter(function(){return $.data(this,"ui-droppable").options.scope===scope;});if(parent.length){parentInstance=$.data(parent[0],"ui-droppable");parentInstance.greedyChild=(c==="isover");}}
if(parentInstance&&c==="isover"){parentInstance.isover=false;parentInstance.isout=true;parentInstance._out.call(parentInstance,event);}
this[c]=true;this[c==="isout"?"isover":"isout"]=false;this[c==="isover"?"_over":"_out"].call(this,event);if(parentInstance&&c==="isout"){parentInstance.isout=false;parentInstance.isover=true;parentInstance._over.call(parentInstance,event);}});},dragStop:function(draggable,event){draggable.element.parentsUntil("body").unbind("scroll.droppable");if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}}};})(jQuery);(function($,undefined){function num(v){return parseInt(v,10)||0;}
function isNumber(value){return!isNaN(parseInt(value,10));}
$.widget("ui.resizable",$.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var n,i,handle,axis,hname,that=this,o=this.options;this.element.addClass("ui-resizable");$.extend(this,{_aspectRatio:!!(o.aspectRatio),aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize();}
this.handles=o.handles||(!$(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw";}
n=this.handles.split(",");this.handles={};for(i=0;i<n.length;i++){handle=$.trim(n[i]);hname="ui-resizable-"+handle;axis=$("<div class='ui-resizable-handle "+hname+"'></div>");axis.css({zIndex:o.zIndex});if("se"===handle){axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se");}
this.handles[handle]=".ui-resizable-"+handle;this.element.append(axis);}}
this._renderAxis=function(target){var i,axis,padPos,padWrapper;target=target||this.element;for(i in this.handles){if(this.handles[i].constructor===String){this.handles[i]=$(this.handles[i],this.element).show();}
if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){axis=$(this.handles[i],this.element);padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth();padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");target.css(padPos,padWrapper);this._proportionallyResize();}
if(!$(this.handles[i]).length){continue;}}};this._renderAxis(this.element);this._handles=$(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!that.resizing){if(this.className){axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);}
that.axis=axis&&axis[1]?axis[1]:"se";}});if(o.autoHide){this._handles.hide();$(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(o.disabled){return;}
$(this).removeClass("ui-resizable-autohide");that._handles.show();}).mouseleave(function(){if(o.disabled){return;}
if(!that.resizing){$(this).addClass("ui-resizable-autohide");that._handles.hide();}});}
this._mouseInit();},_destroy:function(){this._mouseDestroy();var wrapper,_destroy=function(exp){$(exp).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove();};if(this.elementIsWrapper){_destroy(this.element);wrapper=this.element;this.originalElement.css({position:wrapper.css("position"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css("top"),left:wrapper.css("left")}).insertAfter(wrapper);wrapper.remove();}
this.originalElement.css("resize",this.originalResizeStyle);_destroy(this.originalElement);return this;},_mouseCapture:function(event){var i,handle,capture=false;for(i in this.handles){handle=$(this.handles[i])[0];if(handle===event.target||$.contains(handle,event.target)){capture=true;}}
return!this.options.disabled&&capture;},_mouseStart:function(event){var curleft,curtop,cursor,o=this.options,iniPos=this.element.position(),el=this.element;this.resizing=true;if((/absolute/).test(el.css("position"))){el.css({position:"absolute",top:el.css("top"),left:el.css("left")});}else if(el.is(".ui-draggable")){el.css({position:"absolute",top:iniPos.top,left:iniPos.left});}
this._renderProxy();curleft=num(this.helper.css("left"));curtop=num(this.helper.css("top"));if(o.containment){curleft+=$(o.containment).scrollLeft()||0;curtop+=$(o.containment).scrollTop()||0;}
this.offset=this.helper.offset();this.position={left:curleft,top:curtop};this.size=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.originalPosition={left:curleft,top:curtop};this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()};this.originalMousePosition={left:event.pageX,top:event.pageY};this.aspectRatio=(typeof o.aspectRatio==="number")?o.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);cursor=$(".ui-resizable-"+this.axis).css("cursor");$("body").css("cursor",cursor==="auto"?this.axis+"-resize":cursor);el.addClass("ui-resizable-resizing");this._propagate("start",event);return true;},_mouseDrag:function(event){var data,el=this.helper,props={},smp=this.originalMousePosition,a=this.axis,prevTop=this.position.top,prevLeft=this.position.left,prevWidth=this.size.width,prevHeight=this.size.height,dx=(event.pageX-smp.left)||0,dy=(event.pageY-smp.top)||0,trigger=this._change[a];if(!trigger){return false;}
data=trigger.apply(this,[event,dx,dy]);this._updateVirtualBoundaries(event.shiftKey);if(this._aspectRatio||event.shiftKey){data=this._updateRatio(data,event);}
data=this._respectSize(data,event);this._updateCache(data);this._propagate("resize",event);if(this.position.top!==prevTop){props.top=this.position.top+"px";}
if(this.position.left!==prevLeft){props.left=this.position.left+"px";}
if(this.size.width!==prevWidth){props.width=this.size.width+"px";}
if(this.size.height!==prevHeight){props.height=this.size.height+"px";}
el.css(props);if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize();}
if(!$.isEmptyObject(props)){this._trigger("resize",event,this.ui());}
return false;},_mouseStop:function(event){this.resizing=false;var pr,ista,soffseth,soffsetw,s,left,top,o=this.options,that=this;if(this._helper){pr=this._proportionallyResizeElements;ista=pr.length&&(/textarea/i).test(pr[0].nodeName);soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:that.sizeDiff.height;soffsetw=ista?0:that.sizeDiff.width;s={width:(that.helper.width()-soffsetw),height:(that.helper.height()-soffseth)};left=(parseInt(that.element.css("left"),10)+(that.position.left-that.originalPosition.left))||null;top=(parseInt(that.element.css("top"),10)+(that.position.top-that.originalPosition.top))||null;if(!o.animate){this.element.css($.extend(s,{top:top,left:left}));}
that.helper.height(that.size.height);that.helper.width(that.size.width);if(this._helper&&!o.animate){this._proportionallyResize();}}
$("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",event);if(this._helper){this.helper.remove();}
return false;},_updateVirtualBoundaries:function(forceAspectRatio){var pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b,o=this.options;b={minWidth:isNumber(o.minWidth)?o.minWidth:0,maxWidth:isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:isNumber(o.minHeight)?o.minHeight:0,maxHeight:isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||forceAspectRatio){pMinWidth=b.minHeight*this.aspectRatio;pMinHeight=b.minWidth/this.aspectRatio;pMaxWidth=b.maxHeight*this.aspectRatio;pMaxHeight=b.maxWidth/this.aspectRatio;if(pMinWidth>b.minWidth){b.minWidth=pMinWidth;}
if(pMinHeight>b.minHeight){b.minHeight=pMinHeight;}
if(pMaxWidth<b.maxWidth){b.maxWidth=pMaxWidth;}
if(pMaxHeight<b.maxHeight){b.maxHeight=pMaxHeight;}}
this._vBoundaries=b;},_updateCache:function(data){this.offset=this.helper.offset();if(isNumber(data.left)){this.position.left=data.left;}
if(isNumber(data.top)){this.position.top=data.top;}
if(isNumber(data.height)){this.size.height=data.height;}
if(isNumber(data.width)){this.size.width=data.width;}},_updateRatio:function(data){var cpos=this.position,csize=this.size,a=this.axis;if(isNumber(data.height)){data.width=(data.height*this.aspectRatio);}else if(isNumber(data.width)){data.height=(data.width/this.aspectRatio);}
if(a==="sw"){data.left=cpos.left+(csize.width-data.width);data.top=null;}
if(a==="nw"){data.top=cpos.top+(csize.height-data.height);data.left=cpos.left+(csize.width-data.width);}
return data;},_respectSize:function(data){var o=this._vBoundaries,a=this.axis,ismaxw=isNumber(data.width)&&o.maxWidth&&(o.maxWidth<data.width),ismaxh=isNumber(data.height)&&o.maxHeight&&(o.maxHeight<data.height),isminw=isNumber(data.width)&&o.minWidth&&(o.minWidth>data.width),isminh=isNumber(data.height)&&o.minHeight&&(o.minHeight>data.height),dw=this.originalPosition.left+this.originalSize.width,dh=this.position.top+this.size.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);if(isminw){data.width=o.minWidth;}
if(isminh){data.height=o.minHeight;}
if(ismaxw){data.width=o.maxWidth;}
if(ismaxh){data.height=o.maxHeight;}
if(isminw&&cw){data.left=dw-o.minWidth;}
if(ismaxw&&cw){data.left=dw-o.maxWidth;}
if(isminh&&ch){data.top=dh-o.minHeight;}
if(ismaxh&&ch){data.top=dh-o.maxHeight;}
if(!data.width&&!data.height&&!data.left&&data.top){data.top=null;}else if(!data.width&&!data.height&&!data.top&&data.left){data.left=null;}
return data;},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return;}
var i,j,borders,paddings,prel,element=this.helper||this.element;for(i=0;i<this._proportionallyResizeElements.length;i++){prel=this._proportionallyResizeElements[i];if(!this.borderDif){this.borderDif=[];borders=[prel.css("borderTopWidth"),prel.css("borderRightWidth"),prel.css("borderBottomWidth"),prel.css("borderLeftWidth")];paddings=[prel.css("paddingTop"),prel.css("paddingRight"),prel.css("paddingBottom"),prel.css("paddingLeft")];for(j=0;j<borders.length;j++){this.borderDif[j]=(parseInt(borders[j],10)||0)+(parseInt(paddings[j],10)||0);}}
prel.css({height:(element.height()-this.borderDif[0]-this.borderDif[2])||0,width:(element.width()-this.borderDif[1]-this.borderDif[3])||0});}},_renderProxy:function(){var el=this.element,o=this.options;this.elementOffset=el.offset();if(this._helper){this.helper=this.helper||$("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex});this.helper.appendTo("body").disableSelection();}else{this.helper=this.element;}},_change:{e:function(event,dx){return{width:this.originalSize.width+dx};},w:function(event,dx){var cs=this.originalSize,sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx};},n:function(event,dx,dy){var cs=this.originalSize,sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy};},s:function(event,dx,dy){return{height:this.originalSize.height+dy};},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]);(n!=="resize"&&this._trigger(n,event,this.ui()));},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition};}});$.ui.plugin.add("resizable","animate",{stop:function(event){var that=$(this).data("ui-resizable"),o=that.options,pr=that._proportionallyResizeElements,ista=pr.length&&(/textarea/i).test(pr[0].nodeName),soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width,style={width:(that.size.width-soffsetw),height:(that.size.height-soffseth)},left=(parseInt(that.element.css("left"),10)+(that.position.left-that.originalPosition.left))||null,top=(parseInt(that.element.css("top"),10)+(that.position.top-that.originalPosition.top))||null;that.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseInt(that.element.css("width"),10),height:parseInt(that.element.css("height"),10),top:parseInt(that.element.css("top"),10),left:parseInt(that.element.css("left"),10)};if(pr&&pr.length){$(pr[0]).css({width:data.width,height:data.height});}
that._updateCache(data);that._propagate("resize",event);}});}});$.ui.plugin.add("resizable","containment",{start:function(){var element,p,co,ch,cw,width,height,that=$(this).data("ui-resizable"),o=that.options,el=that.element,oc=o.containment,ce=(oc instanceof $)?oc.get(0):(/parent/.test(oc))?el.parent().get(0):oc;if(!ce){return;}
that.containerElement=$(ce);if(/document/.test(oc)||oc===document){that.containerOffset={left:0,top:0};that.containerPosition={left:0,top:0};that.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight};}
else{element=$(ce);p=[];$(["Top","Right","Left","Bottom"]).each(function(i,name){p[i]=num(element.css("padding"+name));});that.containerOffset=element.offset();that.containerPosition=element.position();that.containerSize={height:(element.innerHeight()-p[3]),width:(element.innerWidth()-p[1])};co=that.containerOffset;ch=that.containerSize.height;cw=that.containerSize.width;width=($.ui.hasScroll(ce,"left")?ce.scrollWidth:cw);height=($.ui.hasScroll(ce)?ce.scrollHeight:ch);that.parentData={element:ce,left:co.left,top:co.top,width:width,height:height};}},resize:function(event){var woset,hoset,isParent,isOffsetRelative,that=$(this).data("ui-resizable"),o=that.options,co=that.containerOffset,cp=that.position,pRatio=that._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=that.containerElement;if(ce[0]!==document&&(/static/).test(ce.css("position"))){cop=co;}
if(cp.left<(that._helper?co.left:0)){that.size.width=that.size.width+(that._helper?(that.position.left-co.left):(that.position.left-cop.left));if(pRatio){that.size.height=that.size.width/that.aspectRatio;}
that.position.left=o.helper?co.left:0;}
if(cp.top<(that._helper?co.top:0)){that.size.height=that.size.height+(that._helper?(that.position.top-co.top):that.position.top);if(pRatio){that.size.width=that.size.height*that.aspectRatio;}
that.position.top=that._helper?co.top:0;}
that.offset.left=that.parentData.left+that.position.left;that.offset.top=that.parentData.top+that.position.top;woset=Math.abs((that._helper?that.offset.left-cop.left:(that.offset.left-cop.left))+that.sizeDiff.width);hoset=Math.abs((that._helper?that.offset.top-cop.top:(that.offset.top-co.top))+that.sizeDiff.height);isParent=that.containerElement.get(0)===that.element.parent().get(0);isOffsetRelative=/relative|absolute/.test(that.containerElement.css("position"));if(isParent&&isOffsetRelative){woset-=that.parentData.left;}
if(woset+that.size.width>=that.parentData.width){that.size.width=that.parentData.width-woset;if(pRatio){that.size.height=that.size.width/that.aspectRatio;}}
if(hoset+that.size.height>=that.parentData.height){that.size.height=that.parentData.height-hoset;if(pRatio){that.size.width=that.size.height*that.aspectRatio;}}},stop:function(){var that=$(this).data("ui-resizable"),o=that.options,co=that.containerOffset,cop=that.containerPosition,ce=that.containerElement,helper=$(that.helper),ho=helper.offset(),w=helper.outerWidth()-that.sizeDiff.width,h=helper.outerHeight()-that.sizeDiff.height;if(that._helper&&!o.animate&&(/relative/).test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}
if(that._helper&&!o.animate&&(/static/).test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}}});$.ui.plugin.add("resizable","alsoResize",{start:function(){var that=$(this).data("ui-resizable"),o=that.options,_store=function(exp){$(exp).each(function(){var el=$(this);el.data("ui-resizable-alsoresize",{width:parseInt(el.width(),10),height:parseInt(el.height(),10),left:parseInt(el.css("left"),10),top:parseInt(el.css("top"),10)});});};if(typeof(o.alsoResize)==="object"&&!o.alsoResize.parentNode){if(o.alsoResize.length){o.alsoResize=o.alsoResize[0];_store(o.alsoResize);}
else{$.each(o.alsoResize,function(exp){_store(exp);});}}else{_store(o.alsoResize);}},resize:function(event,ui){var that=$(this).data("ui-resizable"),o=that.options,os=that.originalSize,op=that.originalPosition,delta={height:(that.size.height-os.height)||0,width:(that.size.width-os.width)||0,top:(that.position.top-op.top)||0,left:(that.position.left-op.left)||0},_alsoResize=function(exp,c){$(exp).each(function(){var el=$(this),start=$(this).data("ui-resizable-alsoresize"),style={},css=c&&c.length?c:el.parents(ui.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);if(sum&&sum>=0){style[prop]=sum||null;}});el.css(style);});};if(typeof(o.alsoResize)==="object"&&!o.alsoResize.nodeType){$.each(o.alsoResize,function(exp,c){_alsoResize(exp,c);});}else{_alsoResize(o.alsoResize);}},stop:function(){$(this).removeData("resizable-alsoresize");}});$.ui.plugin.add("resizable","ghost",{start:function(){var that=$(this).data("ui-resizable"),o=that.options,cs=that.size;that.ghost=that.originalElement.clone();that.ghost.css({opacity:0.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof o.ghost==="string"?o.ghost:"");that.ghost.appendTo(that.helper);},resize:function(){var that=$(this).data("ui-resizable");if(that.ghost){that.ghost.css({position:"relative",height:that.size.height,width:that.size.width});}},stop:function(){var that=$(this).data("ui-resizable");if(that.ghost&&that.helper){that.helper.get(0).removeChild(that.ghost.get(0));}}});$.ui.plugin.add("resizable","grid",{resize:function(){var that=$(this).data("ui-resizable"),o=that.options,cs=that.size,os=that.originalSize,op=that.originalPosition,a=that.axis,grid=typeof o.grid==="number"?[o.grid,o.grid]:o.grid,gridX=(grid[0]||1),gridY=(grid[1]||1),ox=Math.round((cs.width-os.width)/gridX)*gridX,oy=Math.round((cs.height-os.height)/gridY)*gridY,newWidth=os.width+ox,newHeight=os.height+oy,isMaxWidth=o.maxWidth&&(o.maxWidth<newWidth),isMaxHeight=o.maxHeight&&(o.maxHeight<newHeight),isMinWidth=o.minWidth&&(o.minWidth>newWidth),isMinHeight=o.minHeight&&(o.minHeight>newHeight);o.grid=grid;if(isMinWidth){newWidth=newWidth+gridX;}
if(isMinHeight){newHeight=newHeight+gridY;}
if(isMaxWidth){newWidth=newWidth-gridX;}
if(isMaxHeight){newHeight=newHeight-gridY;}
if(/^(se|s|e)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;}else if(/^(ne)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.top=op.top-oy;}else if(/^(sw)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.left=op.left-ox;}else{that.size.width=newWidth;that.size.height=newHeight;that.position.top=op.top-oy;that.position.left=op.left-ox;}}});})(jQuery);(function($,undefined){$.widget("ui.selectable",$.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var selectees,that=this;this.element.addClass("ui-selectable");this.dragged=false;this.refresh=function(){selectees=$(that.options.filter,that.element[0]);selectees.addClass("ui-selectee");selectees.each(function(){var $this=$(this),pos=$this.offset();$.data(this,"selectable-item",{element:this,$element:$this,left:pos.left,top:pos.top,right:pos.left+$this.outerWidth(),bottom:pos.top+$this.outerHeight(),startselected:false,selected:$this.hasClass("ui-selected"),selecting:$this.hasClass("ui-selecting"),unselecting:$this.hasClass("ui-unselecting")});});};this.refresh();this.selectees=selectees.addClass("ui-selectee");this._mouseInit();this.helper=$("<div class='ui-selectable-helper'></div>");},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy();},_mouseStart:function(event){var that=this,options=this.options;this.opos=[event.pageX,event.pageY];if(this.options.disabled){return;}
this.selectees=$(options.filter,this.element[0]);this._trigger("start",event);$(options.appendTo).append(this.helper);this.helper.css({"left":event.pageX,"top":event.pageY,"width":0,"height":0});if(options.autoRefresh){this.refresh();}
this.selectees.filter(".ui-selected").each(function(){var selectee=$.data(this,"selectable-item");selectee.startselected=true;if(!event.metaKey&&!event.ctrlKey){selectee.$element.removeClass("ui-selected");selectee.selected=false;selectee.$element.addClass("ui-unselecting");selectee.unselecting=true;that._trigger("unselecting",event,{unselecting:selectee.element});}});$(event.target).parents().addBack().each(function(){var doSelect,selectee=$.data(this,"selectable-item");if(selectee){doSelect=(!event.metaKey&&!event.ctrlKey)||!selectee.$element.hasClass("ui-selected");selectee.$element.removeClass(doSelect?"ui-unselecting":"ui-selected").addClass(doSelect?"ui-selecting":"ui-unselecting");selectee.unselecting=!doSelect;selectee.selecting=doSelect;selectee.selected=doSelect;if(doSelect){that._trigger("selecting",event,{selecting:selectee.element});}else{that._trigger("unselecting",event,{unselecting:selectee.element});}
return false;}});},_mouseDrag:function(event){this.dragged=true;if(this.options.disabled){return;}
var tmp,that=this,options=this.options,x1=this.opos[0],y1=this.opos[1],x2=event.pageX,y2=event.pageY;if(x1>x2){tmp=x2;x2=x1;x1=tmp;}
if(y1>y2){tmp=y2;y2=y1;y1=tmp;}
this.helper.css({left:x1,top:y1,width:x2-x1,height:y2-y1});this.selectees.each(function(){var selectee=$.data(this,"selectable-item"),hit=false;if(!selectee||selectee.element===that.element[0]){return;}
if(options.tolerance==="touch"){hit=(!(selectee.left>x2||selectee.right<x1||selectee.top>y2||selectee.bottom<y1));}else if(options.tolerance==="fit"){hit=(selectee.left>x1&&selectee.right<x2&&selectee.top>y1&&selectee.bottom<y2);}
if(hit){if(selectee.selected){selectee.$element.removeClass("ui-selected");selectee.selected=false;}
if(selectee.unselecting){selectee.$element.removeClass("ui-unselecting");selectee.unselecting=false;}
if(!selectee.selecting){selectee.$element.addClass("ui-selecting");selectee.selecting=true;that._trigger("selecting",event,{selecting:selectee.element});}}else{if(selectee.selecting){if((event.metaKey||event.ctrlKey)&&selectee.startselected){selectee.$element.removeClass("ui-selecting");selectee.selecting=false;selectee.$element.addClass("ui-selected");selectee.selected=true;}else{selectee.$element.removeClass("ui-selecting");selectee.selecting=false;if(selectee.startselected){selectee.$element.addClass("ui-unselecting");selectee.unselecting=true;}
that._trigger("unselecting",event,{unselecting:selectee.element});}}
if(selectee.selected){if(!event.metaKey&&!event.ctrlKey&&!selectee.startselected){selectee.$element.removeClass("ui-selected");selectee.selected=false;selectee.$element.addClass("ui-unselecting");selectee.unselecting=true;that._trigger("unselecting",event,{unselecting:selectee.element});}}}});return false;},_mouseStop:function(event){var that=this;this.dragged=false;$(".ui-unselecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-unselecting");selectee.unselecting=false;selectee.startselected=false;that._trigger("unselected",event,{unselected:selectee.element});});$(".ui-selecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-selecting").addClass("ui-selected");selectee.selecting=false;selectee.selected=true;selectee.startselected=true;that._trigger("selected",event,{selected:selectee.element});});this._trigger("stop",event);this.helper.remove();return false;}});})(jQuery);(function($,undefined){function isOverAxis(x,reference,size){return(x>reference)&&(x<(reference+size));}
function isFloating(item){return(/left|right/).test(item.css("float"))||(/inline|table-cell/).test(item.css("display"));}
$.widget("ui.sortable",$.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var o=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?o.axis==="x"||isFloating(this.items[0].item):false;this.offset=this.element.offset();this._mouseInit();this.ready=true;},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var i=this.items.length-1;i>=0;i--){this.items[i].item.removeData(this.widgetName+"-item");}
return this;},_setOption:function(key,value){if(key==="disabled"){this.options[key]=value;this.widget().toggleClass("ui-sortable-disabled",!!value);}else{$.Widget.prototype._setOption.apply(this,arguments);}},_mouseCapture:function(event,overrideHandle){var currentItem=null,validHandle=false,that=this;if(this.reverting){return false;}
if(this.options.disabled||this.options.type==="static"){return false;}
this._refreshItems(event);$(event.target).parents().each(function(){if($.data(this,that.widgetName+"-item")===that){currentItem=$(this);return false;}});if($.data(event.target,that.widgetName+"-item")===that){currentItem=$(event.target);}
if(!currentItem){return false;}
if(this.options.handle&&!overrideHandle){$(this.options.handle,currentItem).find("*").addBack().each(function(){if(this===event.target){validHandle=true;}});if(!validHandle){return false;}}
this.currentItem=currentItem;this._removeCurrentsFromItems();return true;},_mouseStart:function(event,overrideHandle,noActivation){var i,body,o=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(event);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide();}
this._createPlaceholder();if(o.containment){this._setContainment();}
if(o.cursor&&o.cursor!=="auto"){body=this.document.find("body");this.storedCursor=body.css("cursor");body.css("cursor",o.cursor);this.storedStylesheet=$("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(body);}
if(o.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity");}
this.helper.css("opacity",o.opacity);}
if(o.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex");}
this.helper.css("zIndex",o.zIndex);}
if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset();}
this._trigger("start",event,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions();}
if(!noActivation){for(i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("activate",event,this._uiHash(this));}}
if($.ui.ddmanager){$.ui.ddmanager.current=this;}
if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}
this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(event);return true;},_mouseDrag:function(event){var i,item,itemElement,intersection,o=this.options,scrolled=false;this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs;}
if(this.options.scroll){if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-event.pageY<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed;}else if(event.pageY-this.overflowOffset.top<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed;}
if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-event.pageX<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed;}else if(event.pageX-this.overflowOffset.left<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed;}}else{if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);}else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}
if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);}else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}
if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}}
this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px";}
if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px";}
for(i=this.items.length-1;i>=0;i--){item=this.items[i];itemElement=item.item[0];intersection=this._intersectsWithPointer(item);if(!intersection){continue;}
if(item.instance!==this.currentContainer){continue;}
if(itemElement!==this.currentItem[0]&&this.placeholder[intersection===1?"next":"prev"]()[0]!==itemElement&&!$.contains(this.placeholder[0],itemElement)&&(this.options.type==="semi-dynamic"?!$.contains(this.element[0],itemElement):true)){this.direction=intersection===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(item)){this._rearrange(event,item);}else{break;}
this._trigger("change",event,this._uiHash());break;}}
this._contactContainers(event);if($.ui.ddmanager){$.ui.ddmanager.drag(this,event);}
this._trigger("sort",event,this._uiHash());this.lastPositionAbs=this.positionAbs;return false;},_mouseStop:function(event,noPropagation){if(!event){return;}
if($.ui.ddmanager&&!this.options.dropBehaviour){$.ui.ddmanager.drop(this,event);}
if(this.options.revert){var that=this,cur=this.placeholder.offset(),axis=this.options.axis,animation={};if(!axis||axis==="x"){animation.left=cur.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft);}
if(!axis||axis==="y"){animation.top=cur.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop);}
this.reverting=true;$(this.helper).animate(animation,parseInt(this.options.revert,10)||500,function(){that._clear(event);});}else{this._clear(event,noPropagation);}
return false;},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");}else{this.currentItem.show();}
for(var i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("deactivate",null,this._uiHash(this));if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",null,this._uiHash(this));this.containers[i].containerCache.over=0;}}}
if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0]);}
if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove();}
$.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){$(this.domPosition.prev).after(this.currentItem);}else{$(this.domPosition.parent).prepend(this.currentItem);}}
return this;},serialize:function(o){var items=this._getItemsAsjQuery(o&&o.connected),str=[];o=o||{};$(items).each(function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||(/(.+)[\-=_](.+)/));if(res){str.push((o.key||res[1]+"[]")+"="+(o.key&&o.expression?res[1]:res[2]));}});if(!str.length&&o.key){str.push(o.key+"=");}
return str.join("&");},toArray:function(o){var items=this._getItemsAsjQuery(o&&o.connected),ret=[];o=o||{};items.each(function(){ret.push($(o.item||this).attr(o.attribute||"id")||"");});return ret;},_intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height,dyClick=this.offset.click.top,dxClick=this.offset.click.left,isOverElementHeight=(this.options.axis==="x")||((y1+dyClick)>t&&(y1+dyClick)<b),isOverElementWidth=(this.options.axis==="y")||((x1+dxClick)>l&&(x1+dxClick)<r),isOverElement=isOverElementHeight&&isOverElementWidth;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"])){return isOverElement;}else{return(l<x1+(this.helperProportions.width/2)&&x2-(this.helperProportions.width/2)<r&&t<y1+(this.helperProportions.height/2)&&y2-(this.helperProportions.height/2)<b);}},_intersectsWithPointer:function(item){var isOverElementHeight=(this.options.axis==="x")||isOverAxis(this.positionAbs.top+this.offset.click.top,item.top,item.height),isOverElementWidth=(this.options.axis==="y")||isOverAxis(this.positionAbs.left+this.offset.click.left,item.left,item.width),isOverElement=isOverElementHeight&&isOverElementWidth,verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();if(!isOverElement){return false;}
return this.floating?(((horizontalDirection&&horizontalDirection==="right")||verticalDirection==="down")?2:1):(verticalDirection&&(verticalDirection==="down"?2:1));},_intersectsWithSides:function(item){var isOverBottomHalf=isOverAxis(this.positionAbs.top+this.offset.click.top,item.top+(item.height/2),item.height),isOverRightHalf=isOverAxis(this.positionAbs.left+this.offset.click.left,item.left+(item.width/2),item.width),verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();if(this.floating&&horizontalDirection){return((horizontalDirection==="right"&&isOverRightHalf)||(horizontalDirection==="left"&&!isOverRightHalf));}else{return verticalDirection&&((verticalDirection==="down"&&isOverBottomHalf)||(verticalDirection==="up"&&!isOverBottomHalf));}},_getDragVerticalDirection:function(){var delta=this.positionAbs.top-this.lastPositionAbs.top;return delta!==0&&(delta>0?"down":"up");},_getDragHorizontalDirection:function(){var delta=this.positionAbs.left-this.lastPositionAbs.left;return delta!==0&&(delta>0?"right":"left");},refresh:function(event){this._refreshItems(event);this.refreshPositions();return this;},_connectWith:function(){var options=this.options;return options.connectWith.constructor===String?[options.connectWith]:options.connectWith;},_getItemsAsjQuery:function(connected){var i,j,cur,inst,items=[],queries=[],connectWith=this._connectWith();if(connectWith&&connected){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element):$(inst.options.items,inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),inst]);}}}}
queries.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(i=queries.length-1;i>=0;i--){queries[i][0].each(function(){items.push(this);});}
return $(items);},_removeCurrentsFromItems:function(){var list=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(item){for(var j=0;j<list.length;j++){if(list[j]===item.item[0]){return false;}}
return true;});},_refreshItems:function(event){this.items=[];this.containers=[this];var i,j,cur,inst,targetData,_queries,item,queriesLength,items=this.items,queries=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],event,{item:this.currentItem}):$(this.options.items,this.element),this]],connectWith=this._connectWith();if(connectWith&&this.ready){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element[0],event,{item:this.currentItem}):$(inst.options.items,inst.element),inst]);this.containers.push(inst);}}}}
for(i=queries.length-1;i>=0;i--){targetData=queries[i][1];_queries=queries[i][0];for(j=0,queriesLength=_queries.length;j<queriesLength;j++){item=$(_queries[j]);item.data(this.widgetName+"-item",targetData);items.push({item:item,instance:targetData,width:0,height:0,left:0,top:0});}}},refreshPositions:function(fast){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset();}
var i,item,t,p;for(i=this.items.length-1;i>=0;i--){item=this.items[i];if(item.instance!==this.currentContainer&&this.currentContainer&&item.item[0]!==this.currentItem[0]){continue;}
t=this.options.toleranceElement?$(this.options.toleranceElement,item.item):item.item;if(!fast){item.width=t.outerWidth();item.height=t.outerHeight();}
p=t.offset();item.left=p.left;item.top=p.top;}
if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this);}else{for(i=this.containers.length-1;i>=0;i--){p=this.containers[i].element.offset();this.containers[i].containerCache.left=p.left;this.containers[i].containerCache.top=p.top;this.containers[i].containerCache.width=this.containers[i].element.outerWidth();this.containers[i].containerCache.height=this.containers[i].element.outerHeight();}}
return this;},_createPlaceholder:function(that){that=that||this;var className,o=that.options;if(!o.placeholder||o.placeholder.constructor===String){className=o.placeholder;o.placeholder={element:function(){var nodeName=that.currentItem[0].nodeName.toLowerCase(),element=$("<"+nodeName+">",that.document[0]).addClass(className||that.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(nodeName==="tr"){that.currentItem.children().each(function(){$("<td>&#160;</td>",that.document[0]).attr("colspan",$(this).attr("colspan")||1).appendTo(element);});}else if(nodeName==="img"){element.attr("src",that.currentItem.attr("src"));}
if(!className){element.css("visibility","hidden");}
return element;},update:function(container,p){if(className&&!o.forcePlaceholderSize){return;}
if(!p.height()){p.height(that.currentItem.innerHeight()-parseInt(that.currentItem.css("paddingTop")||0,10)-parseInt(that.currentItem.css("paddingBottom")||0,10));}
if(!p.width()){p.width(that.currentItem.innerWidth()-parseInt(that.currentItem.css("paddingLeft")||0,10)-parseInt(that.currentItem.css("paddingRight")||0,10));}}};}
that.placeholder=$(o.placeholder.element.call(that.element,that.currentItem));that.currentItem.after(that.placeholder);o.placeholder.update(that,that.placeholder);},_contactContainers:function(event){var i,j,dist,itemWithLeastDistance,posProperty,sizeProperty,base,cur,nearBottom,floating,innermostContainer=null,innermostIndex=null;for(i=this.containers.length-1;i>=0;i--){if($.contains(this.currentItem[0],this.containers[i].element[0])){continue;}
if(this._intersectsWith(this.containers[i].containerCache)){if(innermostContainer&&$.contains(this.containers[i].element[0],innermostContainer.element[0])){continue;}
innermostContainer=this.containers[i];innermostIndex=i;}else{if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",event,this._uiHash(this));this.containers[i].containerCache.over=0;}}}
if(!innermostContainer){return;}
if(this.containers.length===1){if(!this.containers[innermostIndex].containerCache.over){this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1;}}else{dist=10000;itemWithLeastDistance=null;floating=innermostContainer.floating||isFloating(this.currentItem);posProperty=floating?"left":"top";sizeProperty=floating?"width":"height";base=this.positionAbs[posProperty]+this.offset.click[posProperty];for(j=this.items.length-1;j>=0;j--){if(!$.contains(this.containers[innermostIndex].element[0],this.items[j].item[0])){continue;}
if(this.items[j].item[0]===this.currentItem[0]){continue;}
if(floating&&!isOverAxis(this.positionAbs.top+this.offset.click.top,this.items[j].top,this.items[j].height)){continue;}
cur=this.items[j].item.offset()[posProperty];nearBottom=false;if(Math.abs(cur-base)>Math.abs(cur+this.items[j][sizeProperty]-base)){nearBottom=true;cur+=this.items[j][sizeProperty];}
if(Math.abs(cur-base)<dist){dist=Math.abs(cur-base);itemWithLeastDistance=this.items[j];this.direction=nearBottom?"up":"down";}}
if(!itemWithLeastDistance&&!this.options.dropOnEmpty){return;}
if(this.currentContainer===this.containers[innermostIndex]){return;}
itemWithLeastDistance?this._rearrange(event,itemWithLeastDistance,null,true):this._rearrange(event,null,this.containers[innermostIndex].element,true);this._trigger("change",event,this._uiHash());this.containers[innermostIndex]._trigger("change",event,this._uiHash(this));this.currentContainer=this.containers[innermostIndex];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1;}},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event,this.currentItem])):(o.helper==="clone"?this.currentItem.clone():this.currentItem);if(!helper.parents("body").length){$(o.appendTo!=="parent"?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(helper[0]);}
if(helper[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};}
if(!helper[0].style.width||o.forceHelperSize){helper.width(this.currentItem.width());}
if(!helper[0].style.height||o.forceHelperSize){helper.height(this.currentItem.height());}
return helper;},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ");}
if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}
if("left"in obj){this.offset.click.left=obj.left+this.margins.left;}
if("right"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}
if("top"in obj){this.offset.click.top=obj.top+this.margins.top;}
if("bottom"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}
if(this.offsetParent[0]===document.body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&$.ui.ie)){po={top:0,left:0};}
return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var p=this.currentItem.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var ce,co,over,o=this.options;if(o.containment==="parent"){o.containment=this.helper[0].parentNode;}
if(o.containment==="document"||o.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,$(o.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,($(o.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];}
if(!(/^(document|window|parent)$/).test(o.containment)){ce=$(o.containment)[0];co=$(o.containment).offset();over=($(ce).css("overflow")!=="hidden");this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0)-this.margins.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top];}},_convertPositionTo:function(d,pos){if(!pos){pos=this.position;}
var mod=d==="absolute"?1:-1,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);return{top:(pos.top+
this.offset.relative.top*mod+
this.offset.parent.top*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop()))*mod)),left:(pos.left+
this.offset.relative.left*mod+
this.offset.parent.left*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod))};},_generatePosition:function(event){var top,left,o=this.options,pageX=event.pageX,pageY=event.pageY,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset();}
if(this.originalPosition){if(this.containment){if(event.pageX-this.offset.click.left<this.containment[0]){pageX=this.containment[0]+this.offset.click.left;}
if(event.pageY-this.offset.click.top<this.containment[1]){pageY=this.containment[1]+this.offset.click.top;}
if(event.pageX-this.offset.click.left>this.containment[2]){pageX=this.containment[2]+this.offset.click.left;}
if(event.pageY-this.offset.click.top>this.containment[3]){pageY=this.containment[3]+this.offset.click.top;}}
if(o.grid){top=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1];pageY=this.containment?((top-this.offset.click.top>=this.containment[1]&&top-this.offset.click.top<=this.containment[3])?top:((top-this.offset.click.top>=this.containment[1])?top-o.grid[1]:top+o.grid[1])):top;left=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0];pageX=this.containment?((left-this.offset.click.left>=this.containment[0]&&left-this.offset.click.left<=this.containment[2])?left:((left-this.offset.click.left>=this.containment[0])?left-o.grid[0]:left+o.grid[0])):left;}}
return{top:(pageY-
this.offset.click.top-
this.offset.relative.top-
this.offset.parent.top+
((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop())))),left:(pageX-
this.offset.click.left-
this.offset.relative.left-
this.offset.parent.left+
((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())))};},_rearrange:function(event,i,a,hardRefresh){a?a[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==="down"?i.item[0]:i.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var counter=this.counter;this._delay(function(){if(counter===this.counter){this.refreshPositions(!hardRefresh);}});},_clear:function(event,noPropagation){this.reverting=false;var i,delayedTriggers=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem);}
this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS){if(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static"){this._storedCSS[i]="";}}
this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");}else{this.currentItem.show();}
if(this.fromOutside&&!noPropagation){delayedTriggers.push(function(event){this._trigger("receive",event,this._uiHash(this.fromOutside));});}
if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!noPropagation){delayedTriggers.push(function(event){this._trigger("update",event,this._uiHash());});}
if(this!==this.currentContainer){if(!noPropagation){delayedTriggers.push(function(event){this._trigger("remove",event,this._uiHash());});delayedTriggers.push((function(c){return function(event){c._trigger("receive",event,this._uiHash(this));};}).call(this,this.currentContainer));delayedTriggers.push((function(c){return function(event){c._trigger("update",event,this._uiHash(this));};}).call(this,this.currentContainer));}}
for(i=this.containers.length-1;i>=0;i--){if(!noPropagation){delayedTriggers.push((function(c){return function(event){c._trigger("deactivate",event,this._uiHash(this));};}).call(this,this.containers[i]));}
if(this.containers[i].containerCache.over){delayedTriggers.push((function(c){return function(event){c._trigger("out",event,this._uiHash(this));};}).call(this,this.containers[i]));this.containers[i].containerCache.over=0;}}
if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove();}
if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity);}
if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex);}
this.dragging=false;if(this.cancelHelperRemoval){if(!noPropagation){this._trigger("beforeStop",event,this._uiHash());for(i=0;i<delayedTriggers.length;i++){delayedTriggers[i].call(this,event);}
this._trigger("stop",event,this._uiHash());}
this.fromOutside=false;return false;}
if(!noPropagation){this._trigger("beforeStop",event,this._uiHash());}
this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!==this.currentItem[0]){this.helper.remove();}
this.helper=null;if(!noPropagation){for(i=0;i<delayedTriggers.length;i++){delayedTriggers[i].call(this,event);}
this._trigger("stop",event,this._uiHash());}
this.fromOutside=false;return true;},_trigger:function(){if($.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel();}},_uiHash:function(_inst){var inst=_inst||this;return{helper:inst.helper,placeholder:inst.placeholder||$([]),position:inst.position,originalPosition:inst.originalPosition,offset:inst.positionAbs,item:inst.currentItem,sender:_inst?_inst.element:null};}});})(jQuery);(function($,undefined){var dataSpace="ui-effects-";$.effects={effect:{}};(function(jQuery,undefined){var stepHooks="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",rplusequals=/^([\-+])=\s*(\d+\.?\d*)/,stringParsers=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]];}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1]*2.55,execResult[2]*2.55,execResult[3]*2.55,execResult[4]];}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)];}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)];}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(execResult){return[execResult[1],execResult[2]/100,execResult[3]/100,execResult[4]];}}],color=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha);},spaces={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},propTypes={"byte":{floor:true,max:255},"percent":{max:1},"degrees":{mod:360,floor:true}},support=color.support={},supportElem=jQuery("<p>")[0],colors,each=jQuery.each;supportElem.style.cssText="background-color:rgba(1,1,1,.5)";support.rgba=supportElem.style.backgroundColor.indexOf("rgba")>-1;each(spaces,function(spaceName,space){space.cache="_"+spaceName;space.props.alpha={idx:3,type:"percent",def:1};});function clamp(value,prop,allowEmpty){var type=propTypes[prop.type]||{};if(value==null){return(allowEmpty||!prop.def)?null:prop.def;}
value=type.floor?~~value:parseFloat(value);if(isNaN(value)){return prop.def;}
if(type.mod){return(value+type.mod)%type.mod;}
return 0>value?0:type.max<value?type.max:value;}
function stringParse(string){var inst=color(),rgba=inst._rgba=[];string=string.toLowerCase();each(stringParsers,function(i,parser){var parsed,match=parser.re.exec(string),values=match&&parser.parse(match),spaceName=parser.space||"rgba";if(values){parsed=inst[spaceName](values);inst[spaces[spaceName].cache]=parsed[spaces[spaceName].cache];rgba=inst._rgba=parsed._rgba;return false;}});if(rgba.length){if(rgba.join()==="0,0,0,0"){jQuery.extend(rgba,colors.transparent);}
return inst;}
return colors[string];}
color.fn=jQuery.extend(color.prototype,{parse:function(red,green,blue,alpha){if(red===undefined){this._rgba=[null,null,null,null];return this;}
if(red.jquery||red.nodeType){red=jQuery(red).css(green);green=undefined;}
var inst=this,type=jQuery.type(red),rgba=this._rgba=[];if(green!==undefined){red=[red,green,blue,alpha];type="array";}
if(type==="string"){return this.parse(stringParse(red)||colors._default);}
if(type==="array"){each(spaces.rgba.props,function(key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop);});return this;}
if(type==="object"){if(red instanceof color){each(spaces,function(spaceName,space){if(red[space.cache]){inst[space.cache]=red[space.cache].slice();}});}else{each(spaces,function(spaceName,space){var cache=space.cache;each(space.props,function(key,prop){if(!inst[cache]&&space.to){if(key==="alpha"||red[key]==null){return;}
inst[cache]=space.to(inst._rgba);}
inst[cache][prop.idx]=clamp(red[key],prop,true);});if(inst[cache]&&jQuery.inArray(null,inst[cache].slice(0,3))<0){inst[cache][3]=1;if(space.from){inst._rgba=space.from(inst[cache]);}}});}
return this;}},is:function(compare){var is=color(compare),same=true,inst=this;each(spaces,function(_,space){var localCache,isCache=is[space.cache];if(isCache){localCache=inst[space.cache]||space.to&&space.to(inst._rgba)||[];each(space.props,function(_,prop){if(isCache[prop.idx]!=null){same=(isCache[prop.idx]===localCache[prop.idx]);return same;}});}
return same;});return same;},_space:function(){var used=[],inst=this;each(spaces,function(spaceName,space){if(inst[space.cache]){used.push(spaceName);}});return used.pop();},transition:function(other,distance){var end=color(other),spaceName=end._space(),space=spaces[spaceName],startColor=this.alpha()===0?color("transparent"):this,start=startColor[space.cache]||space.to(startColor._rgba),result=start.slice();end=end[space.cache];each(space.props,function(key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],type=propTypes[prop.type]||{};if(endValue===null){return;}
if(startValue===null){result[index]=endValue;}else{if(type.mod){if(endValue-startValue>type.mod/2){startValue+=type.mod;}else if(startValue-endValue>type.mod/2){startValue-=type.mod;}}
result[index]=clamp((endValue-startValue)*distance+startValue,prop);}});return this[spaceName](result);},blend:function(opaque){if(this._rgba[3]===1){return this;}
var rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba;return color(jQuery.map(rgb,function(v,i){return(1-a)*blend[i]+a*v;}));},toRgbaString:function(){var prefix="rgba(",rgba=jQuery.map(this._rgba,function(v,i){return v==null?(i>2?1:0):v;});if(rgba[3]===1){rgba.pop();prefix="rgb(";}
return prefix+rgba.join()+")";},toHslaString:function(){var prefix="hsla(",hsla=jQuery.map(this.hsla(),function(v,i){if(v==null){v=i>2?1:0;}
if(i&&i<3){v=Math.round(v*100)+"%";}
return v;});if(hsla[3]===1){hsla.pop();prefix="hsl(";}
return prefix+hsla.join()+")";},toHexString:function(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();if(includeAlpha){rgba.push(~~(alpha*255));}
return"#"+jQuery.map(rgba,function(v){v=(v||0).toString(16);return v.length===1?"0"+v:v;}).join("");},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString();}});color.fn.parse.prototype=color.fn;function hue2rgb(p,q,h){h=(h+1)%1;if(h*6<1){return p+(q-p)*h*6;}
if(h*2<1){return q;}
if(h*3<2){return p+(q-p)*((2/3)-h)*6;}
return p;}
spaces.hsla.to=function(rgba){if(rgba[0]==null||rgba[1]==null||rgba[2]==null){return[null,null,null,rgba[3]];}
var r=rgba[0]/255,g=rgba[1]/255,b=rgba[2]/255,a=rgba[3],max=Math.max(r,g,b),min=Math.min(r,g,b),diff=max-min,add=max+min,l=add*0.5,h,s;if(min===max){h=0;}else if(r===max){h=(60*(g-b)/diff)+360;}else if(g===max){h=(60*(b-r)/diff)+120;}else{h=(60*(r-g)/diff)+240;}
if(diff===0){s=0;}else if(l<=0.5){s=diff/add;}else{s=diff/(2-add);}
return[Math.round(h)%360,s,l,a==null?1:a];};spaces.hsla.from=function(hsla){if(hsla[0]==null||hsla[1]==null||hsla[2]==null){return[null,null,null,hsla[3]];}
var h=hsla[0]/360,s=hsla[1],l=hsla[2],a=hsla[3],q=l<=0.5?l*(1+s):l+s-l*s,p=2*l-q;return[Math.round(hue2rgb(p,q,h+(1/3))*255),Math.round(hue2rgb(p,q,h)*255),Math.round(hue2rgb(p,q,h-(1/3))*255),a];};each(spaces,function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;color.fn[spaceName]=function(value){if(to&&!this[cache]){this[cache]=to(this._rgba);}
if(value===undefined){return this[cache].slice();}
var ret,type=jQuery.type(value),arr=(type==="array"||type==="object")?value:arguments,local=this[cache].slice();each(props,function(key,prop){var val=arr[type==="object"?key:prop.idx];if(val==null){val=local[prop.idx];}
local[prop.idx]=clamp(val,prop);});if(from){ret=color(from(local));ret[cache]=local;return ret;}else{return color(local);}};each(props,function(key,prop){if(color.fn[key]){return;}
color.fn[key]=function(value){var vtype=jQuery.type(value),fn=(key==="alpha"?(this._hsla?"hsla":"rgba"):spaceName),local=this[fn](),cur=local[prop.idx],match;if(vtype==="undefined"){return cur;}
if(vtype==="function"){value=value.call(this,cur);vtype=jQuery.type(value);}
if(value==null&&prop.empty){return this;}
if(vtype==="string"){match=rplusequals.exec(value);if(match){value=cur+parseFloat(match[2])*(match[1]==="+"?1:-1);}}
local[prop.idx]=value;return this[fn](local);};});});color.hook=function(hook){var hooks=hook.split(" ");each(hooks,function(i,hook){jQuery.cssHooks[hook]={set:function(elem,value){var parsed,curElem,backgroundColor="";if(value!=="transparent"&&(jQuery.type(value)!=="string"||(parsed=stringParse(value)))){value=color(parsed||value);if(!support.rgba&&value._rgba[3]!==1){curElem=hook==="backgroundColor"?elem.parentNode:elem;while((backgroundColor===""||backgroundColor==="transparent")&&curElem&&curElem.style){try{backgroundColor=jQuery.css(curElem,"backgroundColor");curElem=curElem.parentNode;}catch(e){}}
value=value.blend(backgroundColor&&backgroundColor!=="transparent"?backgroundColor:"_default");}
value=value.toRgbaString();}
try{elem.style[hook]=value;}catch(e){}}};jQuery.fx.step[hook]=function(fx){if(!fx.colorInit){fx.start=color(fx.elem,hook);fx.end=color(fx.end);fx.colorInit=true;}
jQuery.cssHooks[hook].set(fx.elem,fx.start.transition(fx.end,fx.pos));};});};color.hook(stepHooks);jQuery.cssHooks.borderColor={expand:function(value){var expanded={};each(["Top","Right","Bottom","Left"],function(i,part){expanded["border"+part+"Color"]=value;});return expanded;}};colors=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};})(jQuery);(function(){var classAnimationActions=["add","remove","toggle"],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,prop){$.fx.step[prop]=function(fx){if(fx.end!=="none"&&!fx.setAttr||fx.pos===1&&!fx.setAttr){jQuery.style(fx.elem,prop,fx.end);fx.setAttr=true;}};});function getElementStyles(elem){var key,len,style=elem.ownerDocument.defaultView?elem.ownerDocument.defaultView.getComputedStyle(elem,null):elem.currentStyle,styles={};if(style&&style.length&&style[0]&&style[style[0]]){len=style.length;while(len--){key=style[len];if(typeof style[key]==="string"){styles[$.camelCase(key)]=style[key];}}}else{for(key in style){if(typeof style[key]==="string"){styles[key]=style[key];}}}
return styles;}
function styleDifference(oldStyle,newStyle){var diff={},name,value;for(name in newStyle){value=newStyle[name];if(oldStyle[name]!==value){if(!shorthandStyles[name]){if($.fx.step[name]||!isNaN(parseFloat(value))){diff[name]=value;}}}}
return diff;}
if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};}
$.effects.animateClass=function(value,duration,easing,callback){var o=$.speed(duration,easing,callback);return this.queue(function(){var animated=$(this),baseClass=animated.attr("class")||"",applyClassChange,allAnimations=o.children?animated.find("*").addBack():animated;allAnimations=allAnimations.map(function(){var el=$(this);return{el:el,start:getElementStyles(this)};});applyClassChange=function(){$.each(classAnimationActions,function(i,action){if(value[action]){animated[action+"Class"](value[action]);}});};applyClassChange();allAnimations=allAnimations.map(function(){this.end=getElementStyles(this.el[0]);this.diff=styleDifference(this.start,this.end);return this;});animated.attr("class",baseClass);allAnimations=allAnimations.map(function(){var styleInfo=this,dfd=$.Deferred(),opts=$.extend({},o,{queue:false,complete:function(){dfd.resolve(styleInfo);}});this.el.animate(this.diff,opts);return dfd.promise();});$.when.apply($,allAnimations.get()).done(function(){applyClassChange();$.each(arguments,function(){var el=this.el;$.each(this.diff,function(key){el.css(key,"");});});o.complete.call(animated[0]);});});};$.fn.extend({addClass:(function(orig){return function(classNames,speed,easing,callback){return speed?$.effects.animateClass.call(this,{add:classNames},speed,easing,callback):orig.apply(this,arguments);};})($.fn.addClass),removeClass:(function(orig){return function(classNames,speed,easing,callback){return arguments.length>1?$.effects.animateClass.call(this,{remove:classNames},speed,easing,callback):orig.apply(this,arguments);};})($.fn.removeClass),toggleClass:(function(orig){return function(classNames,force,speed,easing,callback){if(typeof force==="boolean"||force===undefined){if(!speed){return orig.apply(this,arguments);}else{return $.effects.animateClass.call(this,(force?{add:classNames}:{remove:classNames}),speed,easing,callback);}}else{return $.effects.animateClass.call(this,{toggle:classNames},force,speed,easing);}};})($.fn.toggleClass),switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.call(this,{add:add,remove:remove},speed,easing,callback);}});})();(function(){$.extend($.effects,{version:"1.10.3",save:function(element,set){for(var i=0;i<set.length;i++){if(set[i]!==null){element.data(dataSpace+set[i],element[0].style[set[i]]);}}},restore:function(element,set){var val,i;for(i=0;i<set.length;i++){if(set[i]!==null){val=element.data(dataSpace+set[i]);if(val===undefined){val="";}
element.css(set[i],val);}}},setMode:function(el,mode){if(mode==="toggle"){mode=el.is(":hidden")?"show":"hide";}
return mode;},getBaseline:function(origin,original){var y,x;switch(origin[0]){case"top":y=0;break;case"middle":y=0.5;break;case"bottom":y=1;break;default:y=origin[0]/original.height;}
switch(origin[1]){case"left":x=0;break;case"center":x=0.5;break;case"right":x=1;break;default:x=origin[1]/original.width;}
return{x:x,y:y};},createWrapper:function(element){if(element.parent().is(".ui-effects-wrapper")){return element.parent();}
var props={width:element.outerWidth(true),height:element.outerHeight(true),"float":element.css("float")},wrapper=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),size={width:element.width(),height:element.height()},active=document.activeElement;try{active.id;}catch(e){active=document.body;}
element.wrap(wrapper);if(element[0]===active||$.contains(element[0],active)){$(active).focus();}
wrapper=element.parent();if(element.css("position")==="static"){wrapper.css({position:"relative"});element.css({position:"relative"});}else{$.extend(props,{position:element.css("position"),zIndex:element.css("z-index")});$.each(["top","left","bottom","right"],function(i,pos){props[pos]=element.css(pos);if(isNaN(parseInt(props[pos],10))){props[pos]="auto";}});element.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"});}
element.css(size);return wrapper.css(props).show();},removeWrapper:function(element){var active=document.activeElement;if(element.parent().is(".ui-effects-wrapper")){element.parent().replaceWith(element);if(element[0]===active||$.contains(element[0],active)){$(active).focus();}}
return element;},setTransition:function(element,list,factor,value){value=value||{};$.each(list,function(i,x){var unit=element.cssUnit(x);if(unit[0]>0){value[x]=unit[0]*factor+unit[1];}});return value;}});function _normalizeArguments(effect,options,speed,callback){if($.isPlainObject(effect)){options=effect;effect=effect.effect;}
effect={effect:effect};if(options==null){options={};}
if($.isFunction(options)){callback=options;speed=null;options={};}
if(typeof options==="number"||$.fx.speeds[options]){callback=speed;speed=options;options={};}
if($.isFunction(speed)){callback=speed;speed=null;}
if(options){$.extend(effect,options);}
speed=speed||options.duration;effect.duration=$.fx.off?0:typeof speed==="number"?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default;effect.complete=callback||options.complete;return effect;}
function standardAnimationOption(option){if(!option||typeof option==="number"||$.fx.speeds[option]){return true;}
if(typeof option==="string"&&!$.effects.effect[option]){return true;}
if($.isFunction(option)){return true;}
if(typeof option==="object"&&!option.effect){return true;}
return false;}
$.fn.extend({effect:function(){var args=_normalizeArguments.apply(this,arguments),mode=args.mode,queue=args.queue,effectMethod=$.effects.effect[args.effect];if($.fx.off||!effectMethod){if(mode){return this[mode](args.duration,args.complete);}else{return this.each(function(){if(args.complete){args.complete.call(this);}});}}
function run(next){var elem=$(this),complete=args.complete,mode=args.mode;function done(){if($.isFunction(complete)){complete.call(elem[0]);}
if($.isFunction(next)){next();}}
if(elem.is(":hidden")?mode==="hide":mode==="show"){elem[mode]();done();}else{effectMethod.call(elem[0],args,done);}}
return queue===false?this.each(run):this.queue(queue||"fx",run);},show:(function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="show";return this.effect.call(this,args);}};})($.fn.show),hide:(function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="hide";return this.effect.call(this,args);}};})($.fn.hide),toggle:(function(orig){return function(option){if(standardAnimationOption(option)||typeof option==="boolean"){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="toggle";return this.effect.call(this,args);}};})($.fn.toggle),cssUnit:function(key){var style=this.css(key),val=[];$.each(["em","px","%","pt"],function(i,unit){if(style.indexOf(unit)>0){val=[parseFloat(style),unit];}});return val;}});})();(function(){var baseEasings={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2);};});$.extend(baseEasings,{Sine:function(p){return 1-Math.cos(p*Math.PI/2);},Circ:function(p){return 1-Math.sqrt(1-p*p);},Elastic:function(p){return p===0||p===1?p:-Math.pow(2,8*(p-1))*Math.sin(((p-1)*80-7.5)*Math.PI/15);},Back:function(p){return p*p*(3*p-2);},Bounce:function(p){var pow2,bounce=4;while(p<((pow2=Math.pow(2,--bounce))-1)/11){}
return 1/Math.pow(4,3-bounce)-7.5625*Math.pow((pow2*3-2)/22-p,2);}});$.each(baseEasings,function(name,easeIn){$.easing["easeIn"+name]=easeIn;$.easing["easeOut"+name]=function(p){return 1-easeIn(1-p);};$.easing["easeInOut"+name]=function(p){return p<0.5?easeIn(p*2)/2:1-easeIn(p* -2+2)/2;};});})();})(jQuery);(function($,undefined){var uid=0,hideProps={},showProps={};hideProps.height=hideProps.paddingTop=hideProps.paddingBottom=hideProps.borderTopWidth=hideProps.borderBottomWidth="hide";showProps.height=showProps.paddingTop=showProps.paddingBottom=showProps.borderTopWidth=showProps.borderBottomWidth="show";$.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:false,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var options=this.options;this.prevShow=this.prevHide=$();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");if(!options.collapsible&&(options.active===false||options.active==null)){options.active=0;}
this._processPanels();if(options.active<0){options.active+=this.headers.length;}
this._refresh();},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?$():this.active.next(),content:!this.active.length?$():this.active.next()};},_createIcons:function(){var icons=this.options.icons;if(icons){$("<span>").addClass("ui-accordion-header-icon ui-icon "+icons.header).prependTo(this.headers);this.active.children(".ui-accordion-header-icon").removeClass(icons.header).addClass(icons.activeHeader);this.headers.addClass("ui-accordion-icons");}},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove();},_destroy:function(){var contents;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id");}});this._destroyIcons();contents=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id");}});if(this.options.heightStyle!=="content"){contents.css("height","");}},_setOption:function(key,value){if(key==="active"){this._activate(value);return;}
if(key==="event"){if(this.options.event){this._off(this.headers,this.options.event);}
this._setupEvents(value);}
this._super(key,value);if(key==="collapsible"&&!value&&this.options.active===false){this._activate(0);}
if(key==="icons"){this._destroyIcons();if(value){this._createIcons();}}
if(key==="disabled"){this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!value);}},_keydown:function(event){if(event.altKey||event.ctrlKey){return;}
var keyCode=$.ui.keyCode,length=this.headers.length,currentIndex=this.headers.index(event.target),toFocus=false;switch(event.keyCode){case keyCode.RIGHT:case keyCode.DOWN:toFocus=this.headers[(currentIndex+1)%length];break;case keyCode.LEFT:case keyCode.UP:toFocus=this.headers[(currentIndex-1+length)%length];break;case keyCode.SPACE:case keyCode.ENTER:this._eventHandler(event);break;case keyCode.HOME:toFocus=this.headers[0];break;case keyCode.END:toFocus=this.headers[length-1];break;}
if(toFocus){$(event.target).attr("tabIndex",-1);$(toFocus).attr("tabIndex",0);toFocus.focus();event.preventDefault();}},_panelKeyDown:function(event){if(event.keyCode===$.ui.keyCode.UP&&event.ctrlKey){$(event.currentTarget).prev().focus();}},refresh:function(){var options=this.options;this._processPanels();if((options.active===false&&options.collapsible===true)||!this.headers.length){options.active=false;this.active=$();}else if(options.active===false){this._activate(0);}else if(this.active.length&&!$.contains(this.element[0],this.active[0])){if(this.headers.length===this.headers.find(".ui-state-disabled").length){options.active=false;this.active=$();}else{this._activate(Math.max(0,options.active-1));}}else{options.active=this.headers.index(this.active);}
this._destroyIcons();this._refresh();},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide();},_refresh:function(){var maxHeight,options=this.options,heightStyle=options.heightStyle,parent=this.element.parent(),accordionId=this.accordionId="ui-accordion-"+
(this.element.attr("id")||++uid);this.active=this._findActive(options.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(i){var header=$(this),headerId=header.attr("id"),panel=header.next(),panelId=panel.attr("id");if(!headerId){headerId=accordionId+"-header-"+i;header.attr("id",headerId);}
if(!panelId){panelId=accordionId+"-panel-"+i;panel.attr("id",panelId);}
header.attr("aria-controls",panelId);panel.attr("aria-labelledby",headerId);}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0);}else{this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"});}
this._createIcons();this._setupEvents(options.event);if(heightStyle==="fill"){maxHeight=parent.height();this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");if(position==="absolute"||position==="fixed"){return;}
maxHeight-=elem.outerHeight(true);});this.headers.each(function(){maxHeight-=$(this).outerHeight(true);});this.headers.next().each(function(){$(this).height(Math.max(0,maxHeight-
$(this).innerHeight()+$(this).height()));}).css("overflow","auto");}else if(heightStyle==="auto"){maxHeight=0;this.headers.next().each(function(){maxHeight=Math.max(maxHeight,$(this).css("height","").height());}).height(maxHeight);}},_activate:function(index){var active=this._findActive(index)[0];if(active===this.active[0]){return;}
active=active||this.active[0];this._eventHandler({target:active,currentTarget:active,preventDefault:$.noop});},_findActive:function(selector){return typeof selector==="number"?this.headers.eq(selector):$();},_setupEvents:function(event){var events={keydown:"_keydown"};if(event){$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler";});}
this._off(this.headers.add(this.headers.next()));this._on(this.headers,events);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers);},_eventHandler:function(event){var options=this.options,active=this.active,clicked=$(event.currentTarget),clickedIsActive=clicked[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():clicked.next(),toHide=active.next(),eventData={oldHeader:active,oldPanel:toHide,newHeader:collapsing?$():clicked,newPanel:toShow};event.preventDefault();if((clickedIsActive&&!options.collapsible)||(this._trigger("beforeActivate",event,eventData)===false)){return;}
options.active=collapsing?false:this.headers.index(clicked);this.active=clickedIsActive?$():clicked;this._toggle(eventData);active.removeClass("ui-accordion-header-active ui-state-active");if(options.icons){active.children(".ui-accordion-header-icon").removeClass(options.icons.activeHeader).addClass(options.icons.header);}
if(!clickedIsActive){clicked.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top");if(options.icons){clicked.children(".ui-accordion-header-icon").removeClass(options.icons.header).addClass(options.icons.activeHeader);}
clicked.next().addClass("ui-accordion-content-active");}},_toggle:function(data){var toShow=data.newPanel,toHide=this.prevShow.length?this.prevShow:data.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=toShow;this.prevHide=toHide;if(this.options.animate){this._animate(toShow,toHide,data);}else{toHide.hide();toShow.show();this._toggleComplete(data);}
toHide.attr({"aria-expanded":"false","aria-hidden":"true"});toHide.prev().attr("aria-selected","false");if(toShow.length&&toHide.length){toHide.prev().attr("tabIndex",-1);}else if(toShow.length){this.headers.filter(function(){return $(this).attr("tabIndex")===0;}).attr("tabIndex",-1);}
toShow.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0});},_animate:function(toShow,toHide,data){var total,easing,duration,that=this,adjust=0,down=toShow.length&&(!toHide.length||(toShow.index()<toHide.index())),animate=this.options.animate||{},options=down&&animate.down||animate,complete=function(){that._toggleComplete(data);};if(typeof options==="number"){duration=options;}
if(typeof options==="string"){easing=options;}
easing=easing||options.easing||animate.easing;duration=duration||options.duration||animate.duration;if(!toHide.length){return toShow.animate(showProps,duration,easing,complete);}
if(!toShow.length){return toHide.animate(hideProps,duration,easing,complete);}
total=toShow.show().outerHeight();toHide.animate(hideProps,{duration:duration,easing:easing,step:function(now,fx){fx.now=Math.round(now);}});toShow.hide().animate(showProps,{duration:duration,easing:easing,complete:complete,step:function(now,fx){fx.now=Math.round(now);if(fx.prop!=="height"){adjust+=fx.now;}else if(that.options.heightStyle!=="content"){fx.now=Math.round(total-toHide.outerHeight()-adjust);adjust=0;}}});},_toggleComplete:function(data){var toHide=data.oldPanel;toHide.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");if(toHide.length){toHide.parent()[0].className=toHide.parent()[0].className;}
this._trigger("activate",null,data);}});})(jQuery);(function($,undefined){var requestIndex=0;$.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var suppressKeyPress,suppressKeyPressRepeat,suppressInput,nodeName=this.element[0].nodeName.toLowerCase(),isTextarea=nodeName==="textarea",isInput=nodeName==="input";this.isMultiLine=isTextarea?true:isInput?false:this.element.prop("isContentEditable");this.valueMethod=this.element[isTextarea||isInput?"val":"text"];this.isNewMenu=true;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(event){if(this.element.prop("readOnly")){suppressKeyPress=true;suppressInput=true;suppressKeyPressRepeat=true;return;}
suppressKeyPress=false;suppressInput=false;suppressKeyPressRepeat=false;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:suppressKeyPress=true;this._move("previousPage",event);break;case keyCode.PAGE_DOWN:suppressKeyPress=true;this._move("nextPage",event);break;case keyCode.UP:suppressKeyPress=true;this._keyEvent("previous",event);break;case keyCode.DOWN:suppressKeyPress=true;this._keyEvent("next",event);break;case keyCode.ENTER:case keyCode.NUMPAD_ENTER:if(this.menu.active){suppressKeyPress=true;event.preventDefault();this.menu.select(event);}
break;case keyCode.TAB:if(this.menu.active){this.menu.select(event);}
break;case keyCode.ESCAPE:if(this.menu.element.is(":visible")){this._value(this.term);this.close(event);event.preventDefault();}
break;default:suppressKeyPressRepeat=true;this._searchTimeout(event);break;}},keypress:function(event){if(suppressKeyPress){suppressKeyPress=false;if(!this.isMultiLine||this.menu.element.is(":visible")){event.preventDefault();}
return;}
if(suppressKeyPressRepeat){return;}
var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:this._move("previousPage",event);break;case keyCode.PAGE_DOWN:this._move("nextPage",event);break;case keyCode.UP:this._keyEvent("previous",event);break;case keyCode.DOWN:this._keyEvent("next",event);break;}},input:function(event){if(suppressInput){suppressInput=false;event.preventDefault();return;}
this._searchTimeout(event);},focus:function(){this.selectedItem=null;this.previous=this._value();},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return;}
clearTimeout(this.searching);this.close(event);this._change(event);}});this._initSource();this.menu=$("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(event){event.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;});var menuElement=this.menu.element[0];if(!$(event.target).closest(".ui-menu-item").length){this._delay(function(){var that=this;this.document.one("mousedown",function(event){if(event.target!==that.element[0]&&event.target!==menuElement&&!$.contains(menuElement,event.target)){that.close();}});});}},menufocus:function(event,ui){if(this.isNewMenu){this.isNewMenu=false;if(event.originalEvent&&/^mouse/.test(event.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){$(event.target).trigger(event.originalEvent);});return;}}
var item=ui.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",event,{item:item})){if(event.originalEvent&&/^key/.test(event.originalEvent.type)){this._value(item.value);}}else{this.liveRegion.text(item.value);}},menuselect:function(event,ui){var item=ui.item.data("ui-autocomplete-item"),previous=this.previous;if(this.element[0]!==this.document[0].activeElement){this.element.focus();this.previous=previous;this._delay(function(){this.previous=previous;this.selectedItem=item;});}
if(false!==this._trigger("select",event,{item:item})){this._value(item.value);}
this.term=this._value();this.close(event);this.selectedItem=item;}});this.liveRegion=$("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete");}});},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove();},_setOption:function(key,value){this._super(key,value);if(key==="source"){this._initSource();}
if(key==="appendTo"){this.menu.element.appendTo(this._appendTo());}
if(key==="disabled"&&value&&this.xhr){this.xhr.abort();}},_appendTo:function(){var element=this.options.appendTo;if(element){element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0);}
if(!element){element=this.element.closest(".ui-front");}
if(!element.length){element=this.document[0].body;}
return element;},_initSource:function(){var array,url,that=this;if($.isArray(this.options.source)){array=this.options.source;this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term));};}else if(typeof this.options.source==="string"){url=this.options.source;this.source=function(request,response){if(that.xhr){that.xhr.abort();}
that.xhr=$.ajax({url:url,data:request,dataType:"json",success:function(data){response(data);},error:function(){response([]);}});};}else{this.source=this.options.source;}},_searchTimeout:function(event){clearTimeout(this.searching);this.searching=this._delay(function(){if(this.term!==this._value()){this.selectedItem=null;this.search(null,event);}},this.options.delay);},search:function(value,event){value=value!=null?value:this._value();this.term=this._value();if(value.length<this.options.minLength){return this.close(event);}
if(this._trigger("search",event)===false){return;}
return this._search(value);},_search:function(value){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:value},this._response());},_response:function(){var that=this,index=++requestIndex;return function(content){if(index===requestIndex){that.__response(content);}
that.pending--;if(!that.pending){that.element.removeClass("ui-autocomplete-loading");}};},__response:function(content){if(content){content=this._normalize(content);}
this._trigger("response",null,{content:content});if(!this.options.disabled&&content&&content.length&&!this.cancelSearch){this._suggest(content);this._trigger("open");}else{this._close();}},close:function(event){this.cancelSearch=true;this._close(event);},_close:function(event){if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",event);}},_change:function(event){if(this.previous!==this._value()){this._trigger("change",event,{item:this.selectedItem});}},_normalize:function(items){if(items.length&&items[0].label&&items[0].value){return items;}
return $.map(items,function(item){if(typeof item==="string"){return{label:item,value:item};}
return $.extend({label:item.label||item.value,value:item.value||item.label},item);});},_suggest:function(items){var ul=this.menu.element.empty();this._renderMenu(ul,items);this.isNewMenu=true;this.menu.refresh();ul.show();this._resizeMenu();ul.position($.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next();}},_resizeMenu:function(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+1,this.element.outerWidth()));},_renderMenu:function(ul,items){var that=this;$.each(items,function(index,item){that._renderItemData(ul,item);});},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-autocomplete-item",item);},_renderItem:function(ul,item){return $("<li>").append($("<a>").text(item.label)).appendTo(ul);},_move:function(direction,event){if(!this.menu.element.is(":visible")){this.search(null,event);return;}
if(this.menu.isFirstItem()&&/^previous/.test(direction)||this.menu.isLastItem()&&/^next/.test(direction)){this._value(this.term);this.menu.blur();return;}
this.menu[direction](event);},widget:function(){return this.menu.element;},_value:function(){return this.valueMethod.apply(this.element,arguments);},_keyEvent:function(keyEvent,event){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(keyEvent,event);event.preventDefault();}}});$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test(value.label||value.value||value);});}});$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(amount){return amount+(amount>1?" results are":" result is")+" available, use up and down arrow keys to navigate.";}}},__response:function(content){var message;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return;}
if(content&&content.length){message=this.options.messages.results(content.length);}else{message=this.options.messages.noResults;}
this.liveRegion.text(message);}});}(jQuery));(function($,undefined){var lastActive,startXPos,startYPos,clickDragged,baseClasses="ui-button ui-widget ui-state-default ui-corner-all",stateClasses="ui-state-hover ui-state-active ",typeClasses="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",formResetHandler=function(){var form=$(this);setTimeout(function(){form.find(":ui-button").button("refresh");},1);},radioGroup=function(radio){var name=radio.name,form=radio.form,radios=$([]);if(name){name=name.replace(/'/g,"\\'");if(form){radios=$(form).find("[name='"+name+"']");}else{radios=$("[name='"+name+"']",radio.ownerDocument).filter(function(){return!this.form;});}}
return radios;};$.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,formResetHandler);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.prop("disabled");}else{this.element.prop("disabled",this.options.disabled);}
this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var that=this,options=this.options,toggleButton=this.type==="checkbox"||this.type==="radio",activeClass=!toggleButton?"ui-state-active":"",focusClass="ui-state-focus";if(options.label===null){options.label=(this.type==="input"?this.buttonElement.val():this.buttonElement.html());}
this._hoverable(this.buttonElement);this.buttonElement.addClass(baseClasses).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(options.disabled){return;}
if(this===lastActive){$(this).addClass("ui-state-active");}}).bind("mouseleave"+this.eventNamespace,function(){if(options.disabled){return;}
$(this).removeClass(activeClass);}).bind("click"+this.eventNamespace,function(event){if(options.disabled){event.preventDefault();event.stopImmediatePropagation();}});this.element.bind("focus"+this.eventNamespace,function(){that.buttonElement.addClass(focusClass);}).bind("blur"+this.eventNamespace,function(){that.buttonElement.removeClass(focusClass);});if(toggleButton){this.element.bind("change"+this.eventNamespace,function(){if(clickDragged){return;}
that.refresh();});this.buttonElement.bind("mousedown"+this.eventNamespace,function(event){if(options.disabled){return;}
clickDragged=false;startXPos=event.pageX;startYPos=event.pageY;}).bind("mouseup"+this.eventNamespace,function(event){if(options.disabled){return;}
if(startXPos!==event.pageX||startYPos!==event.pageY){clickDragged=true;}});}
if(this.type==="checkbox"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(options.disabled||clickDragged){return false;}});}else if(this.type==="radio"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(options.disabled||clickDragged){return false;}
$(this).addClass("ui-state-active");that.buttonElement.attr("aria-pressed","true");var radio=that.element[0];radioGroup(radio).not(radio).map(function(){return $(this).button("widget")[0];}).removeClass("ui-state-active").attr("aria-pressed","false");});}else{this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(options.disabled){return false;}
$(this).addClass("ui-state-active");lastActive=this;that.document.one("mouseup",function(){lastActive=null;});}).bind("mouseup"+this.eventNamespace,function(){if(options.disabled){return false;}
$(this).removeClass("ui-state-active");}).bind("keydown"+this.eventNamespace,function(event){if(options.disabled){return false;}
if(event.keyCode===$.ui.keyCode.SPACE||event.keyCode===$.ui.keyCode.ENTER){$(this).addClass("ui-state-active");}}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){$(this).removeClass("ui-state-active");});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(event){if(event.keyCode===$.ui.keyCode.SPACE){$(this).click();}});}}
this._setOption("disabled",options.disabled);this._resetButton();},_determineButtonType:function(){var ancestor,labelSelector,checked;if(this.element.is("[type=checkbox]")){this.type="checkbox";}else if(this.element.is("[type=radio]")){this.type="radio";}else if(this.element.is("input")){this.type="input";}else{this.type="button";}
if(this.type==="checkbox"||this.type==="radio"){ancestor=this.element.parents().last();labelSelector="label[for='"+this.element.attr("id")+"']";this.buttonElement=ancestor.find(labelSelector);if(!this.buttonElement.length){ancestor=ancestor.length?ancestor.siblings():this.element.siblings();this.buttonElement=ancestor.filter(labelSelector);if(!this.buttonElement.length){this.buttonElement=ancestor.find(labelSelector);}}
this.element.addClass("ui-helper-hidden-accessible");checked=this.element.is(":checked");if(checked){this.buttonElement.addClass("ui-state-active");}
this.buttonElement.prop("aria-pressed",checked);}else{this.buttonElement=this.element;}},widget:function(){return this.buttonElement;},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(baseClasses+" "+stateClasses+" "+typeClasses).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title");}},_setOption:function(key,value){this._super(key,value);if(key==="disabled"){if(value){this.element.prop("disabled",true);}else{this.element.prop("disabled",false);}
return;}
this._resetButton();},refresh:function(){var isDisabled=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");if(isDisabled!==this.options.disabled){this._setOption("disabled",isDisabled);}
if(this.type==="radio"){radioGroup(this.element[0]).each(function(){if($(this).is(":checked")){$(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true");}else{$(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false");}});}else if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true");}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false");}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label);}
return;}
var buttonElement=this.buttonElement.removeClass(typeClasses),buttonText=$("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(buttonElement.empty()).text(),icons=this.options.icons,multipleIcons=icons.primary&&icons.secondary,buttonClasses=[];if(icons.primary||icons.secondary){if(this.options.text){buttonClasses.push("ui-button-text-icon"+(multipleIcons?"s":(icons.primary?"-primary":"-secondary")));}
if(icons.primary){buttonElement.prepend("<span class='ui-button-icon-primary ui-icon "+icons.primary+"'></span>");}
if(icons.secondary){buttonElement.append("<span class='ui-button-icon-secondary ui-icon "+icons.secondary+"'></span>");}
if(!this.options.text){buttonClasses.push(multipleIcons?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){buttonElement.attr("title",$.trim(buttonText));}}}else{buttonClasses.push("ui-button-text-only");}
buttonElement.addClass(buttonClasses.join(" "));}});$.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset");},_init:function(){this.refresh();},_setOption:function(key,value){if(key==="disabled"){this.buttons.button("option",key,value);}
this._super(key,value);},refresh:function(){var rtl=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return $(this).button("widget")[0];}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(rtl?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(rtl?"ui-corner-left":"ui-corner-right").end().end();},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return $(this).button("widget")[0];}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");}});}(jQuery));(function($,undefined){$.extend($.ui,{datepicker:{version:"1.10.3"}});var PROP_NAME="datepicker",instActive;function Datepicker(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};$.extend(this._defaults,this.regional[""]);this.dpDiv=bindHover($("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));}
$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv;},setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this;},_attachDatepicker:function(target,settings){var nodeName,inline,inst;nodeName=target.nodeName.toLowerCase();inline=(nodeName==="div"||nodeName==="span");if(!target.id){this.uuid+=1;target.id="dp"+this.uuid;}
inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{});if(nodeName==="input"){this._connectDatepicker(target,inst);}else if(inline){this._inlineDatepicker(target,inst);}},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:(!inline?this.dpDiv:bindHover($("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))};},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName)){return;}
this._attachments(input,inst);input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(inst);$.data(target,PROP_NAME,inst);if(inst.settings.disabled){this._disableDatepicker(target);}},_attachments:function(input,inst){var showOn,buttonText,buttonImage,appendText=this._get(inst,"appendText"),isRTL=this._get(inst,"isRTL");if(inst.append){inst.append.remove();}
if(appendText){inst.append=$("<span class='"+this._appendClass+"'>"+appendText+"</span>");input[isRTL?"before":"after"](inst.append);}
input.unbind("focus",this._showDatepicker);if(inst.trigger){inst.trigger.remove();}
showOn=this._get(inst,"showOn");if(showOn==="focus"||showOn==="both"){input.focus(this._showDatepicker);}
if(showOn==="button"||showOn==="both"){buttonText=this._get(inst,"buttonText");buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$("<button type='button'></button>").addClass(this._triggerClass).html(!buttonImage?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?"before":"after"](inst.trigger);inst.trigger.click(function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput===input[0]){$.datepicker._hideDatepicker();}else if($.datepicker._datepickerShowing&&$.datepicker._lastInput!==input[0]){$.datepicker._hideDatepicker();$.datepicker._showDatepicker(input[0]);}else{$.datepicker._showDatepicker(input[0]);}
return false;});}},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var findMax,max,maxI,i,date=new Date(2009,12-1,20),dateFormat=this._get(inst,"dateFormat");if(dateFormat.match(/[DM]/)){findMax=function(names){max=0;maxI=0;for(i=0;i<names.length;i++){if(names[i].length>max){max=names[i].length;maxI=i;}}
return maxI;};date.setMonth(findMax(this._get(inst,(dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))));date.setDate(findMax(this._get(inst,(dateFormat.match(/DD/)?"dayNames":"dayNamesShort")))+20-date.getDay());}
inst.input.attr("size",this._formatDate(inst,date).length);}},_inlineDatepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName)){return;}
divSpan.addClass(this.markerClassName).append(inst.dpDiv);$.data(target,PROP_NAME,inst);this._setDate(inst,this._getDefaultDate(inst),true);this._updateDatepicker(inst);this._updateAlternate(inst);if(inst.settings.disabled){this._disableDatepicker(target);}
inst.dpDiv.css("display","block");},_dialogDatepicker:function(input,date,onSelect,settings,pos){var id,browserWidth,browserHeight,scrollX,scrollY,inst=this._dialogInst;if(!inst){this.uuid+=1;id="dp"+this.uuid;this._dialogInput=$("<input type='text' id='"+id+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);$("body").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],PROP_NAME,inst);}
extendRemove(inst.settings,settings||{});date=(date&&date.constructor===Date?this._formatDate(inst,date):date);this._dialogInput.val(date);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){browserWidth=document.documentElement.clientWidth;browserHeight=document.documentElement.clientHeight;scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth/2)-100+scrollX,(browserHeight/2)-150+scrollY];}
this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI){$.blockUI(this.dpDiv);}
$.data(this._dialogInput[0],PROP_NAME,inst);return this;},_destroyDatepicker:function(target){var nodeName,$target=$(target),inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();$.removeData(target,PROP_NAME);if(nodeName==="input"){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp);}else if(nodeName==="div"||nodeName==="span"){$target.removeClass(this.markerClassName).empty();}},_enableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();if(nodeName==="input"){target.disabled=false;inst.trigger.filter("button").each(function(){this.disabled=false;}).end().filter("img").css({opacity:"1.0",cursor:""});}else if(nodeName==="div"||nodeName==="span"){inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false);}
this._disabledInputs=$.map(this._disabledInputs,function(value){return(value===target?null:value);});},_disableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();if(nodeName==="input"){target.disabled=true;inst.trigger.filter("button").each(function(){this.disabled=true;}).end().filter("img").css({opacity:"0.5",cursor:"default"});}else if(nodeName==="div"||nodeName==="span"){inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true);}
this._disabledInputs=$.map(this._disabledInputs,function(value){return(value===target?null:value);});this._disabledInputs[this._disabledInputs.length]=target;},_isDisabledDatepicker:function(target){if(!target){return false;}
for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]===target){return true;}}
return false;},_getInst:function(target){try{return $.data(target,PROP_NAME);}
catch(err){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(target,name,value){var settings,date,minDate,maxDate,inst=this._getInst(target);if(arguments.length===2&&typeof name==="string"){return(name==="defaults"?$.extend({},$.datepicker._defaults):(inst?(name==="all"?$.extend({},inst.settings):this._get(inst,name)):null));}
settings=name||{};if(typeof name==="string"){settings={};settings[name]=value;}
if(inst){if(this._curInst===inst){this._hideDatepicker();}
date=this._getDateDatepicker(target,true);minDate=this._getMinMaxDate(inst,"min");maxDate=this._getMinMaxDate(inst,"max");extendRemove(inst.settings,settings);if(minDate!==null&&settings.dateFormat!==undefined&&settings.minDate===undefined){inst.settings.minDate=this._formatDate(inst,minDate);}
if(maxDate!==null&&settings.dateFormat!==undefined&&settings.maxDate===undefined){inst.settings.maxDate=this._formatDate(inst,maxDate);}
if("disabled"in settings){if(settings.disabled){this._disableDatepicker(target);}else{this._enableDatepicker(target);}}
this._attachments($(target),inst);this._autoSize(inst);this._setDate(inst,date);this._updateAlternate(inst);this._updateDatepicker(inst);}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value);},_refreshDatepicker:function(target){var inst=this._getInst(target);if(inst){this._updateDatepicker(inst);}},_setDateDatepicker:function(target,date){var inst=this._getInst(target);if(inst){this._setDate(inst,date);this._updateDatepicker(inst);this._updateAlternate(inst);}},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);if(inst&&!inst.inline){this._setDateFromField(inst,noDefault);}
return(inst?this._getDate(inst):null);},_doKeyDown:function(event){var onSelect,dateStr,sel,inst=$.datepicker._getInst(event.target),handled=true,isRTL=inst.dpDiv.is(".ui-datepicker-rtl");inst._keyEvent=true;if($.datepicker._datepickerShowing){switch(event.keyCode){case 9:$.datepicker._hideDatepicker();handled=false;break;case 13:sel=$("td."+$.datepicker._dayOverClass+":not(."+
$.datepicker._currentClass+")",inst.dpDiv);if(sel[0]){$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0]);}
onSelect=$.datepicker._get(inst,"onSelect");if(onSelect){dateStr=$.datepicker._formatDate(inst);onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst]);}else{$.datepicker._hideDatepicker();}
return false;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");break;case 34:$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");break;case 35:if(event.ctrlKey||event.metaKey){$.datepicker._clearDate(event.target);}
handled=event.ctrlKey||event.metaKey;break;case 36:if(event.ctrlKey||event.metaKey){$.datepicker._gotoToday(event.target);}
handled=event.ctrlKey||event.metaKey;break;case 37:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?+1:-1),"D");}
handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");}
break;case 38:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,-7,"D");}
handled=event.ctrlKey||event.metaKey;break;case 39:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?-1:+1),"D");}
handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");}
break;case 40:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,+7,"D");}
handled=event.ctrlKey||event.metaKey;break;default:handled=false;}}else if(event.keyCode===36&&event.ctrlKey){$.datepicker._showDatepicker(this);}else{handled=false;}
if(handled){event.preventDefault();event.stopPropagation();}},_doKeyPress:function(event){var chars,chr,inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat"));chr=String.fromCharCode(event.charCode==null?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||(chr<" "||!chars||chars.indexOf(chr)>-1);}},_doKeyUp:function(event){var date,inst=$.datepicker._getInst(event.target);if(inst.input.val()!==inst.lastVal){try{date=$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),(inst.input?inst.input.val():null),$.datepicker._getFormatConfig(inst));if(date){$.datepicker._setDateFromField(inst);$.datepicker._updateAlternate(inst);$.datepicker._updateDatepicker(inst);}}
catch(err){}}
return true;},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!=="input"){input=$("input",input.parentNode)[0];}
if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput===input){return;}
var inst,beforeShow,beforeShowSettings,isFixed,offset,showAnim,duration;inst=$.datepicker._getInst(input);if($.datepicker._curInst&&$.datepicker._curInst!==inst){$.datepicker._curInst.dpDiv.stop(true,true);if(inst&&$.datepicker._datepickerShowing){$.datepicker._hideDatepicker($.datepicker._curInst.input[0]);}}
beforeShow=$.datepicker._get(inst,"beforeShow");beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{};if(beforeShowSettings===false){return;}
extendRemove(inst.settings,beforeShowSettings);inst.lastVal=null;$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog){input.value="";}
if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight;}
isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css("position")==="fixed";return!isFixed;});offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;inst.dpDiv.empty();inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:($.datepicker._inDialog&&$.blockUI?"static":(isFixed?"fixed":"absolute")),display:"none",left:offset.left+"px",top:offset.top+"px"});if(!inst.inline){showAnim=$.datepicker._get(inst,"showAnim");duration=$.datepicker._get(inst,"duration");inst.dpDiv.zIndex($(input).zIndex()+1);$.datepicker._datepickerShowing=true;if($.effects&&$.effects.effect[showAnim]){inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration);}else{inst.dpDiv[showAnim||"show"](showAnim?duration:null);}
if($.datepicker._shouldFocusInput(inst)){inst.input.focus();}
$.datepicker._curInst=inst;}},_updateDatepicker:function(inst){this.maxRows=4;instActive=inst;inst.dpDiv.empty().append(this._generateHTML(inst));this._attachHandlers(inst);inst.dpDiv.find("."+this._dayOverClass+" a").mouseover();var origyearshtml,numMonths=this._getNumberOfMonths(inst),cols=numMonths[1],width=17;inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(cols>1){inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",(width*cols)+"em");}
inst.dpDiv[(numMonths[0]!==1||numMonths[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(inst===$.datepicker._curInst&&$.datepicker._datepickerShowing&&$.datepicker._shouldFocusInput(inst)){inst.input.focus();}
if(inst.yearshtml){origyearshtml=inst.yearshtml;setTimeout(function(){if(origyearshtml===inst.yearshtml&&inst.yearshtml){inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml);}
origyearshtml=inst.yearshtml=null;},0);}},_shouldFocusInput:function(inst){return inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&!inst.input.is(":focus");},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth(),dpHeight=inst.dpDiv.outerHeight(),inputWidth=inst.input?inst.input.outerWidth():0,inputHeight=inst.input?inst.input.outerHeight():0,viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft()),viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());offset.left-=(this._get(inst,"isRTL")?(dpWidth-inputWidth):0);offset.left-=(isFixed&&offset.left===inst.input.offset().left)?$(document).scrollLeft():0;offset.top-=(isFixed&&offset.top===(inst.input.offset().top+inputHeight))?$(document).scrollTop():0;offset.left-=Math.min(offset.left,(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,(offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(dpHeight+inputHeight):0);return offset;},_findPos:function(obj){var position,inst=this._getInst(obj),isRTL=this._get(inst,"isRTL");while(obj&&(obj.type==="hidden"||obj.nodeType!==1||$.expr.filters.hidden(obj))){obj=obj[isRTL?"previousSibling":"nextSibling"];}
position=$(obj).offset();return[position.left,position.top];},_hideDatepicker:function(input){var showAnim,duration,postProcess,onClose,inst=this._curInst;if(!inst||(input&&inst!==$.data(input,PROP_NAME))){return;}
if(this._datepickerShowing){showAnim=this._get(inst,"showAnim");duration=this._get(inst,"duration");postProcess=function(){$.datepicker._tidyDialog(inst);};if($.effects&&($.effects.effect[showAnim]||$.effects[showAnim])){inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess);}else{inst.dpDiv[(showAnim==="slideDown"?"slideUp":(showAnim==="fadeIn"?"fadeOut":"hide"))]((showAnim?duration:null),postProcess);}
if(!showAnim){postProcess();}
this._datepickerShowing=false;onClose=this._get(inst,"onClose");if(onClose){onClose.apply((inst.input?inst.input[0]:null),[(inst.input?inst.input.val():""),inst]);}
this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.dpDiv);}}
this._inDialog=false;}},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar");},_checkExternalClick:function(event){if(!$.datepicker._curInst){return;}
var $target=$(event.target),inst=$.datepicker._getInst($target[0]);if((($target[0].id!==$.datepicker._mainDivId&&$target.parents("#"+$.datepicker._mainDivId).length===0&&!$target.hasClass($.datepicker.markerClassName)&&!$target.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)))||($target.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!==inst)){$.datepicker._hideDatepicker();}},_adjustDate:function(id,offset,period){var target=$(id),inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0])){return;}
this._adjustInstDate(inst,offset+
(period==="M"?this._get(inst,"showCurrentAtPos"):0),period);this._updateDatepicker(inst);},_gotoToday:function(id){var date,target=$(id),inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear;}else{date=new Date();inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();}
this._notifyChange(inst);this._adjustDate(target);},_selectMonthYear:function(id,select,period){var target=$(id),inst=this._getInst(target[0]);inst["selected"+(period==="M"?"Month":"Year")]=inst["draw"+(period==="M"?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target);},_selectDay:function(id,month,year,td){var inst,target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])){return;}
inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear));},_clearDate:function(id){var target=$(id);this._selectDate(target,"");},_selectDate:function(id,dateStr){var onSelect,target=$(id),inst=this._getInst(target[0]);dateStr=(dateStr!=null?dateStr:this._formatDate(inst));if(inst.input){inst.input.val(dateStr);}
this._updateAlternate(inst);onSelect=this._get(inst,"onSelect");if(onSelect){onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst]);}else if(inst.input){inst.input.trigger("change");}
if(inst.inline){this._updateDatepicker(inst);}else{this._hideDatepicker();this._lastInput=inst.input[0];if(typeof(inst.input[0])!=="object"){inst.input.focus();}
this._lastInput=null;}},_updateAlternate:function(inst){var altFormat,date,dateStr,altField=this._get(inst,"altField");if(altField){altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat");date=this._getDate(inst);dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each(function(){$(this).val(dateStr);});}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),""];},iso8601Week:function(date){var time,checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/86400000)/7)+1;},parseDate:function(format,value,settings){if(format==null||value==null){throw"Invalid arguments";}
value=(typeof value==="object"?value.toString():value+"");if(value===""){return null;}
var iFormat,dim,extra,iValue=0,shortYearCutoffTemp=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff,shortYearCutoff=(typeof shortYearCutoffTemp!=="string"?shortYearCutoffTemp:new Date().getFullYear()%100+parseInt(shortYearCutoffTemp,10)),dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,doy=-1,literal=false,date,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;},getNumber=function(match){var isDoubled=lookAhead(match),size=(match==="@"?14:(match==="!"?20:(match==="y"&&isDoubled?4:(match==="o"?3:2)))),digits=new RegExp("^\\d{1,"+size+"}"),num=value.substring(iValue).match(digits);if(!num){throw"Missing number at position "+iValue;}
iValue+=num[0].length;return parseInt(num[0],10);},getName=function(match,shortNames,longNames){var index=-1,names=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]];}).sort(function(a,b){return-(a[1].length-b[1].length);});$.each(names,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()===name.toLowerCase()){index=pair[0];iValue+=name.length;return false;}});if(index!==-1){return index+1;}else{throw"Unknown name at position "+iValue;}},checkLiteral=function(){if(value.charAt(iValue)!==format.charAt(iFormat)){throw"Unexpected literal at position "+iValue;}
iValue++;};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{checkLiteral();}}else{switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":date=new Date(getNumber("@"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"!":date=new Date((getNumber("!")-this._ticksTo1970)/10000);year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"'":if(lookAhead("'")){checkLiteral();}else{literal=true;}
break;default:checkLiteral();}}}
if(iValue<value.length){extra=value.substr(iValue);if(!/^\s+/.test(extra)){throw"Extra/unparsed characters found in date: "+extra;}}
if(year===-1){year=new Date().getFullYear();}else if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+
(year<=shortYearCutoff?0:-100);}
if(doy>-1){month=1;day=doy;do{dim=this._getDaysInMonth(year,month-1);if(day<=dim){break;}
month++;day-=dim;}while(true);}
date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!==year||date.getMonth()+1!==month||date.getDate()!==day){throw"Invalid date";}
return date;},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+
Math.floor(1970/400))*24*60*60*10000000),formatDate:function(format,date,settings){if(!date){return"";}
var iFormat,dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;},formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match)){while(num.length<len){num="0"+num;}}
return num;},formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value]);},output="",literal=false;if(date){for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{output+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/86400000),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=(lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100);break;case"@":output+=date.getTime();break;case"!":output+=date.getTime()*10000+this._ticksTo1970;break;case"'":if(lookAhead("'")){output+="'";}else{literal=true;}
break;default:output+=format.charAt(iFormat);}}}}
return output;},_possibleChars:function(format){var iFormat,chars="",literal=false,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{chars+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":if(lookAhead("'")){chars+="'";}else{literal=true;}
break;default:chars+=format.charAt(iFormat);}}}
return chars;},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name];},_setDateFromField:function(inst,noDefault){if(inst.input.val()===inst.lastVal){return;}
var dateFormat=this._get(inst,"dateFormat"),dates=inst.lastVal=inst.input?inst.input.val():null,defaultDate=this._getDefaultDate(inst),date=defaultDate,settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate;}catch(event){dates=(noDefault?"":dates);}
inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=(dates?date.getDate():0);inst.currentMonth=(dates?date.getMonth():0);inst.currentYear=(dates?date.getFullYear():0);this._adjustInstDate(inst);},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date()));},_determineDate:function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date;},offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst));}
catch(e){}
var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date(),year=date.getFullYear(),month=date.getMonth(),day=date.getDate(),pattern=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);while(matches){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=parseInt(matches[1],10)*7;break;case"m":case"M":month+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;}
matches=pattern.exec(offset);}
return new Date(year,month,day);},newDate=(date==null||date===""?defaultDate:(typeof date==="string"?offsetString(date):(typeof date==="number"?(isNaN(date)?defaultDate:offsetNumeric(date)):new Date(date.getTime()))));newDate=(newDate&&newDate.toString()==="Invalid Date"?defaultDate:newDate);if(newDate){newDate.setHours(0);newDate.setMinutes(0);newDate.setSeconds(0);newDate.setMilliseconds(0);}
return this._daylightSavingAdjust(newDate);},_daylightSavingAdjust:function(date){if(!date){return null;}
date.setHours(date.getHours()>12?date.getHours()+2:0);return date;},_setDate:function(inst,date,noChange){var clear=!date,origMonth=inst.selectedMonth,origYear=inst.selectedYear,newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date()));inst.selectedDay=inst.currentDay=newDate.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear();if((origMonth!==inst.selectedMonth||origYear!==inst.selectedYear)&&!noChange){this._notifyChange(inst);}
this._adjustInstDate(inst);if(inst.input){inst.input.val(clear?"":this._formatDate(inst));}},_getDate:function(inst){var startDate=(!inst.currentYear||(inst.input&&inst.input.val()==="")?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return startDate;},_attachHandlers:function(inst){var stepMonths=this._get(inst,"stepMonths"),id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map(function(){var handler={prev:function(){$.datepicker._adjustDate(id,-stepMonths,"M");},next:function(){$.datepicker._adjustDate(id,+stepMonths,"M");},hide:function(){$.datepicker._hideDatepicker();},today:function(){$.datepicker._gotoToday(id);},selectDay:function(){$.datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false;},selectMonth:function(){$.datepicker._selectMonthYear(id,this,"M");return false;},selectYear:function(){$.datepicker._selectMonthYear(id,this,"Y");return false;}};$(this).bind(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")]);});},_generateHTML:function(inst){var maxDraw,prevText,prev,nextText,next,currentText,gotoDate,controls,buttonPanel,firstDay,showWeek,dayNames,dayNamesMin,monthNames,monthNamesShort,beforeShowDay,showOtherMonths,selectOtherMonths,defaultDate,html,dow,row,group,col,selectedDate,cornerClass,calender,thead,day,daysInMonth,leadDays,curRows,numRows,printDate,dRow,tbody,daySettings,otherMonth,unselectable,tempDate=new Date(),today=this._daylightSavingAdjust(new Date(tempDate.getFullYear(),tempDate.getMonth(),tempDate.getDate())),isRTL=this._get(inst,"isRTL"),showButtonPanel=this._get(inst,"showButtonPanel"),hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext"),navigationAsDateFormat=this._get(inst,"navigationAsDateFormat"),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,"showCurrentAtPos"),stepMonths=this._get(inst,"stepMonths"),isMultiMonth=(numMonths[0]!==1||numMonths[1]!==1),currentDate=this._daylightSavingAdjust((!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay))),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--;}
if(maxDate){maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-(numMonths[0]*numMonths[1])+1,maxDate.getDate()));maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--;}}}
inst.drawMonth=drawMonth;inst.drawYear=drawYear;prevText=this._get(inst,"prevText");prevText=(!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)));prev=(this._canAdjustMonth(inst,-1,drawYear,drawMonth)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'"+" title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>":(hideIfNoPrevNext?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>"));nextText=this._get(inst,"nextText");nextText=(!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)));next=(this._canAdjustMonth(inst,+1,drawYear,drawMonth)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'"+" title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>":(hideIfNoPrevNext?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>"));currentText=this._get(inst,"currentText");gotoDate=(this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today);currentText=(!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)));controls=(!inst.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+
this._get(inst,"closeText")+"</button>":"");buttonPanel=(showButtonPanel)?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(isRTL?controls:"")+
(this._isInRange(inst,gotoDate)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'"+">"+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"";firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=(isNaN(firstDay)?0:firstDay);showWeek=this._get(inst,"showWeek");dayNames=this._get(inst,"dayNames");dayNamesMin=this._get(inst,"dayNamesMin");monthNames=this._get(inst,"monthNames");monthNamesShort=this._get(inst,"monthNamesShort");beforeShowDay=this._get(inst,"beforeShowDay");showOtherMonths=this._get(inst,"showOtherMonths");selectOtherMonths=this._get(inst,"selectOtherMonths");defaultDate=this._getDefaultDate(inst);html="";dow;for(row=0;row<numMonths[0];row++){group="";this.maxRows=4;for(col=0;col<numMonths[1];col++){selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));cornerClass=" ui-corner-all";calender="";if(isMultiMonth){calender+="<div class='ui-datepicker-group";if(numMonths[1]>1){switch(col){case 0:calender+=" ui-datepicker-group-first";cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last";cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle";cornerClass="";break;}}
calender+="'>";}
calender+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+cornerClass+"'>"+
(/all|left/.test(cornerClass)&&row===0?(isRTL?next:prev):"")+
(/all|right/.test(cornerClass)&&row===0?(isRTL?prev:next):"")+
this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>";thead=(showWeek?"<th class='ui-datepicker-week-col'>"+this._get(inst,"weekHeader")+"</th>":"");for(dow=0;dow<7;dow++){day=(dow+firstDay)%7;thead+="<th"+((dow+firstDay+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+dayNames[day]+"'>"+dayNamesMin[day]+"</span></th>";}
calender+=thead+"</tr></thead><tbody>";daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear===inst.selectedYear&&drawMonth===inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth);}
leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;curRows=Math.ceil((leadDays+daysInMonth)/7);numRows=(isMultiMonth?this.maxRows>curRows?this.maxRows:curRows:curRows);this.maxRows=numRows;printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(dRow=0;dRow<numRows;dRow++){calender+="<tr>";tbody=(!showWeek?"":"<td class='ui-datepicker-week-col'>"+
this._get(inst,"calculateWeek")(printDate)+"</td>");for(dow=0;dow<7;dow++){daySettings=(beforeShowDay?beforeShowDay.apply((inst.input?inst.input[0]:null),[printDate]):[true,""]);otherMonth=(printDate.getMonth()!==drawMonth);unselectable=(otherMonth&&!selectOtherMonths)||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate);tbody+="<td class='"+
((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+
(otherMonth?" ui-datepicker-other-month":"")+
((printDate.getTime()===selectedDate.getTime()&&drawMonth===inst.selectedMonth&&inst._keyEvent)||(defaultDate.getTime()===printDate.getTime()&&defaultDate.getTime()===selectedDate.getTime())?" "+this._dayOverClass:"")+
(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+
(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+
(printDate.getTime()===currentDate.getTime()?" "+this._currentClass:"")+
(printDate.getTime()===today.getTime()?" ui-datepicker-today":""))+"'"+
((!otherMonth||showOtherMonths)&&daySettings[2]?" title='"+daySettings[2].replace(/'/g,"&#39;")+"'":"")+
(unselectable?"":" data-handler='selectDay' data-event='click' data-month='"+printDate.getMonth()+"' data-year='"+printDate.getFullYear()+"'")+">"+
(otherMonth&&!showOtherMonths?"&#xa0;":(unselectable?"<span class='ui-state-default'>"+printDate.getDate()+"</span>":"<a class='ui-state-default"+
(printDate.getTime()===today.getTime()?" ui-state-highlight":"")+
(printDate.getTime()===currentDate.getTime()?" ui-state-active":"")+
(otherMonth?" ui-priority-secondary":"")+"' href='#'>"+printDate.getDate()+"</a>"))+"</td>";printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate);}
calender+=tbody+"</tr>";}
drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++;}
calender+="</tbody></table>"+(isMultiMonth?"</div>"+
((numMonths[0]>0&&col===numMonths[1]-1)?"<div class='ui-datepicker-row-break'></div>":""):"");group+=calender;}
html+=group;}
html+=buttonPanel;inst._keyEvent=false;return html;},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var inMinYear,inMaxYear,month,years,thisYear,determineYear,year,endYear,changeMonth=this._get(inst,"changeMonth"),changeYear=this._get(inst,"changeYear"),showMonthAfterYear=this._get(inst,"showMonthAfterYear"),html="<div class='ui-datepicker-title'>",monthHtml="";if(secondary||!changeMonth){monthHtml+="<span class='ui-datepicker-month'>"+monthNames[drawMonth]+"</span>";}else{inMinYear=(minDate&&minDate.getFullYear()===drawYear);inMaxYear=(maxDate&&maxDate.getFullYear()===drawYear);monthHtml+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){monthHtml+="<option value='"+month+"'"+
(month===drawMonth?" selected='selected'":"")+">"+monthNamesShort[month]+"</option>";}}
monthHtml+="</select>";}
if(!showMonthAfterYear){html+=monthHtml+(secondary||!(changeMonth&&changeYear)?"&#xa0;":"");}
if(!inst.yearshtml){inst.yearshtml="";if(secondary||!changeYear){html+="<span class='ui-datepicker-year'>"+drawYear+"</span>";}else{years=this._get(inst,"yearRange").split(":");thisYear=new Date().getFullYear();determineYear=function(value){var year=(value.match(/c[+\-].*/)?drawYear+parseInt(value.substring(1),10):(value.match(/[+\-].*/)?thisYear+parseInt(value,10):parseInt(value,10)));return(isNaN(year)?thisYear:year);};year=determineYear(years[0]);endYear=Math.max(year,determineYear(years[1]||""));year=(minDate?Math.max(year,minDate.getFullYear()):year);endYear=(maxDate?Math.min(endYear,maxDate.getFullYear()):endYear);inst.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;year<=endYear;year++){inst.yearshtml+="<option value='"+year+"'"+
(year===drawYear?" selected='selected'":"")+">"+year+"</option>";}
inst.yearshtml+="</select>";html+=inst.yearshtml;inst.yearshtml=null;}}
html+=this._get(inst,"yearSuffix");if(showMonthAfterYear){html+=(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")+monthHtml;}
html+="</div>";return html;},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+(period==="Y"?offset:0),month=inst.drawMonth+(period==="M"?offset:0),day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+(period==="D"?offset:0),date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period==="M"||period==="Y"){this._notifyChange(inst);}},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),newDate=(minDate&&date<minDate?minDate:date);return(maxDate&&newDate>maxDate?maxDate:newDate);},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");if(onChange){onChange.apply((inst.input?inst.input[0]:null),[inst.selectedYear,inst.selectedMonth+1,inst]);}},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return(numMonths==null?[1,1]:(typeof numMonths==="number"?[1,numMonths]:numMonths));},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null);},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate();},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay();},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst),date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()));}
return this._isInRange(inst,date);},_isInRange:function(inst,date){var yearSplit,currentYear,minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),minYear=null,maxYear=null,years=this._get(inst,"yearRange");if(years){yearSplit=years.split(":");currentYear=new Date().getFullYear();minYear=parseInt(yearSplit[0],10);maxYear=parseInt(yearSplit[1],10);if(yearSplit[0].match(/[+\-].*/)){minYear+=currentYear;}
if(yearSplit[1].match(/[+\-].*/)){maxYear+=currentYear;}}
return((!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime())&&(!minYear||date.getFullYear()>=minYear)&&(!maxYear||date.getFullYear()<=maxYear));},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");shortYearCutoff=(typeof shortYearCutoff!=="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")};},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear;}
var date=(day?(typeof day==="object"?day:this._daylightSavingAdjust(new Date(year,month,day))):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst));}});function bindHover(dpDiv){var selector="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return dpDiv.delegate(selector,"mouseout",function(){$(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){$(this).removeClass("ui-datepicker-prev-hover");}
if(this.className.indexOf("ui-datepicker-next")!==-1){$(this).removeClass("ui-datepicker-next-hover");}}).delegate(selector,"mouseover",function(){if(!$.datepicker._isDisabledDatepicker(instActive.inline?dpDiv.parent()[0]:instActive.input[0])){$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");$(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){$(this).addClass("ui-datepicker-prev-hover");}
if(this.className.indexOf("ui-datepicker-next")!==-1){$(this).addClass("ui-datepicker-next-hover");}}});}
function extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null){target[name]=props[name];}}
return target;}
$.fn.datepicker=function(options){if(!this.length){return this;}
if(!$.datepicker.initialized){$(document).mousedown($.datepicker._checkExternalClick);$.datepicker.initialized=true;}
if($("#"+$.datepicker._mainDivId).length===0){$("body").append($.datepicker.dpDiv);}
var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options==="string"&&(options==="isDisabled"||options==="getDate"||options==="widget")){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));}
if(options==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));}
return this.each(function(){typeof options==="string"?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options);});};$.datepicker=new Datepicker();$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version="1.10.3";})(jQuery);(function($,undefined){var sizeRelatedOptions={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};$.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:true,buttons:[],closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(pos){var topOffset=$(this).css(pos).offset().top;if(topOffset<0){$(this).css("top",pos.top-topOffset);}}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();if(this.options.draggable&&$.fn.draggable){this._makeDraggable();}
if(this.options.resizable&&$.fn.resizable){this._makeResizable();}
this._isOpen=false;},_init:function(){if(this.options.autoOpen){this.open();}},_appendTo:function(){var element=this.options.appendTo;if(element&&(element.jquery||element.nodeType)){return $(element);}
return this.document.find(element||"body").eq(0);},_destroy:function(){var next,originalPosition=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(true,true).remove();if(this.originalTitle){this.element.attr("title",this.originalTitle);}
next=originalPosition.parent.children().eq(originalPosition.index);if(next.length&&next[0]!==this.element[0]){next.before(this.element);}else{originalPosition.parent.append(this.element);}},widget:function(){return this.uiDialog;},disable:$.noop,enable:$.noop,close:function(event){var that=this;if(!this._isOpen||this._trigger("beforeClose",event)===false){return;}
this._isOpen=false;this._destroyOverlay();if(!this.opener.filter(":focusable").focus().length){$(this.document[0].activeElement).blur();}
this._hide(this.uiDialog,this.options.hide,function(){that._trigger("close",event);});},isOpen:function(){return this._isOpen;},moveToTop:function(){this._moveToTop();},_moveToTop:function(event,silent){var moved=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;if(moved&&!silent){this._trigger("focus",event);}
return moved;},open:function(){var that=this;if(this._isOpen){if(this._moveToTop()){this._focusTabbable();}
return;}
this._isOpen=true;this.opener=$(this.document[0].activeElement);this._size();this._position();this._createOverlay();this._moveToTop(null,true);this._show(this.uiDialog,this.options.show,function(){that._focusTabbable();that._trigger("focus");});this._trigger("open");},_focusTabbable:function(){var hasFocus=this.element.find("[autofocus]");if(!hasFocus.length){hasFocus=this.element.find(":tabbable");}
if(!hasFocus.length){hasFocus=this.uiDialogButtonPane.find(":tabbable");}
if(!hasFocus.length){hasFocus=this.uiDialogTitlebarClose.filter(":tabbable");}
if(!hasFocus.length){hasFocus=this.uiDialog;}
hasFocus.eq(0).focus();},_keepFocus:function(event){function checkFocus(){var activeElement=this.document[0].activeElement,isActive=this.uiDialog[0]===activeElement||$.contains(this.uiDialog[0],activeElement);if(!isActive){this._focusTabbable();}}
event.preventDefault();checkFocus.call(this);this._delay(checkFocus);},_createWrapper:function(){this.uiDialog=$("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+
this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(event){if(this.options.closeOnEscape&&!event.isDefaultPrevented()&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE){event.preventDefault();this.close(event);return;}
if(event.keyCode!==$.ui.keyCode.TAB){return;}
var tabbables=this.uiDialog.find(":tabbable"),first=tabbables.filter(":first"),last=tabbables.filter(":last");if((event.target===last[0]||event.target===this.uiDialog[0])&&!event.shiftKey){first.focus(1);event.preventDefault();}else if((event.target===first[0]||event.target===this.uiDialog[0])&&event.shiftKey){last.focus(1);event.preventDefault();}},mousedown:function(event){if(this._moveToTop(event)){this._focusTabbable();}}});if(!this.element.find("[aria-describedby]").length){this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")});}},_createTitlebar:function(){var uiDialogTitle;this.uiDialogTitlebar=$("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(event){if(!$(event.target).closest(".ui-dialog-titlebar-close")){this.uiDialog.focus();}}});this.uiDialogTitlebarClose=$("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:false}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(event){event.preventDefault();this.close(event);}});uiDialogTitle=$("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(uiDialogTitle);this.uiDialog.attr({"aria-labelledby":uiDialogTitle.attr("id")});},_title:function(title){if(!this.options.title){title.html("&#160;");}
title.text(this.options.title);},_createButtonPane:function(){this.uiDialogButtonPane=$("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=$("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons();},_createButtons:function(){var that=this,buttons=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if($.isEmptyObject(buttons)||($.isArray(buttons)&&!buttons.length)){this.uiDialog.removeClass("ui-dialog-buttons");return;}
$.each(buttons,function(name,props){var click,buttonOptions;props=$.isFunction(props)?{click:props,text:name}:props;props=$.extend({type:"button"},props);click=props.click;props.click=function(){click.apply(that.element[0],arguments);};buttonOptions={icons:props.icons,text:props.showText};delete props.icons;delete props.showText;$("<button></button>",props).button(buttonOptions).appendTo(that.uiButtonSet);});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog);},_makeDraggable:function(){var that=this,options=this.options;function filteredUi(ui){return{position:ui.position,offset:ui.offset};}
this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(event,ui){$(this).addClass("ui-dialog-dragging");that._blockFrames();that._trigger("dragStart",event,filteredUi(ui));},drag:function(event,ui){that._trigger("drag",event,filteredUi(ui));},stop:function(event,ui){options.position=[ui.position.left-that.document.scrollLeft(),ui.position.top-that.document.scrollTop()];$(this).removeClass("ui-dialog-dragging");that._unblockFrames();that._trigger("dragStop",event,filteredUi(ui));}});},_makeResizable:function(){var that=this,options=this.options,handles=options.resizable,position=this.uiDialog.css("position"),resizeHandles=typeof handles==="string"?handles:"n,e,s,w,se,sw,ne,nw";function filteredUi(ui){return{originalPosition:ui.originalPosition,originalSize:ui.originalSize,position:ui.position,size:ui.size};}
this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:options.maxWidth,maxHeight:options.maxHeight,minWidth:options.minWidth,minHeight:this._minHeight(),handles:resizeHandles,start:function(event,ui){$(this).addClass("ui-dialog-resizing");that._blockFrames();that._trigger("resizeStart",event,filteredUi(ui));},resize:function(event,ui){that._trigger("resize",event,filteredUi(ui));},stop:function(event,ui){options.height=$(this).height();options.width=$(this).width();$(this).removeClass("ui-dialog-resizing");that._unblockFrames();that._trigger("resizeStop",event,filteredUi(ui));}}).css("position",position);},_minHeight:function(){var options=this.options;return options.height==="auto"?options.minHeight:Math.min(options.minHeight,options.height);},_position:function(){var isVisible=this.uiDialog.is(":visible");if(!isVisible){this.uiDialog.show();}
this.uiDialog.position(this.options.position);if(!isVisible){this.uiDialog.hide();}},_setOptions:function(options){var that=this,resize=false,resizableOptions={};$.each(options,function(key,value){that._setOption(key,value);if(key in sizeRelatedOptions){resize=true;}
if(key in resizableRelatedOptions){resizableOptions[key]=value;}});if(resize){this._size();this._position();}
if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option",resizableOptions);}},_setOption:function(key,value){var isDraggable,isResizable,uiDialog=this.uiDialog;if(key==="dialogClass"){uiDialog.removeClass(this.options.dialogClass).addClass(value);}
if(key==="disabled"){return;}
this._super(key,value);if(key==="appendTo"){this.uiDialog.appendTo(this._appendTo());}
if(key==="buttons"){this._createButtons();}
if(key==="closeText"){this.uiDialogTitlebarClose.button({label:""+value});}
if(key==="draggable"){isDraggable=uiDialog.is(":data(ui-draggable)");if(isDraggable&&!value){uiDialog.draggable("destroy");}
if(!isDraggable&&value){this._makeDraggable();}}
if(key==="position"){this._position();}
if(key==="resizable"){isResizable=uiDialog.is(":data(ui-resizable)");if(isResizable&&!value){uiDialog.resizable("destroy");}
if(isResizable&&typeof value==="string"){uiDialog.resizable("option","handles",value);}
if(!isResizable&&value!==false){this._makeResizable();}}
if(key==="title"){this._title(this.uiDialogTitlebar.find(".ui-dialog-title"));}},_size:function(){var nonContentHeight,minContentHeight,maxContentHeight,options=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});if(options.minWidth>options.width){options.width=options.minWidth;}
nonContentHeight=this.uiDialog.css({height:"auto",width:options.width}).outerHeight();minContentHeight=Math.max(0,options.minHeight-nonContentHeight);maxContentHeight=typeof options.maxHeight==="number"?Math.max(0,options.maxHeight-nonContentHeight):"none";if(options.height==="auto"){this.element.css({minHeight:minContentHeight,maxHeight:maxContentHeight,height:"auto"});}else{this.element.height(Math.max(0,options.height-nonContentHeight));}
if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight());}},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var iframe=$(this);return $("<div>").css({position:"absolute",width:iframe.outerWidth(),height:iframe.outerHeight()}).appendTo(iframe.parent()).offset(iframe.offset())[0];});},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks;}},_allowInteraction:function(event){if($(event.target).closest(".ui-dialog").length){return true;}
return!!$(event.target).closest(".ui-datepicker").length;},_createOverlay:function(){if(!this.options.modal){return;}
var that=this,widgetFullName=this.widgetFullName;if(!$.ui.dialog.overlayInstances){this._delay(function(){if($.ui.dialog.overlayInstances){this.document.bind("focusin.dialog",function(event){if(!that._allowInteraction(event)){event.preventDefault();$(".ui-dialog:visible:last .ui-dialog-content").data(widgetFullName)._focusTabbable();}});}});}

if(this.overlay){$.ui.dialog.overlayInstances--;if(!$.ui.dialog.overlayInstances){this.document.unbind("focusin.dialog");}
this.overlay.remove();this.overlay=null;}}});$.ui.dialog.overlayInstances=0;if($.uiBackCompat!==false){$.widget("ui.dialog",$.ui.dialog,{_position:function(){var position=this.options.position,myAt=[],offset=[0,0],isVisible;if(position){if(typeof position==="string"||(typeof position==="object"&&"0"in position)){myAt=position.split?position.split(" "):[position[0],position[1]];if(myAt.length===1){myAt[1]=myAt[0];}
$.each(["left","top"],function(i,offsetPosition){if(+myAt[i]===myAt[i]){offset[i]=myAt[i];myAt[i]=offsetPosition;}});position={my:myAt[0]+(offset[0]<0?offset[0]:"+"+offset[0])+" "+
myAt[1]+(offset[1]<0?offset[1]:"+"+offset[1]),at:myAt.join(" ")};}
position=$.extend({},$.ui.dialog.prototype.options.position,position);}else{position=$.ui.dialog.prototype.options.position;}
isVisible=this.uiDialog.is(":visible");if(!isVisible){this.uiDialog.show();}
this.uiDialog.position(position);if(!isVisible){this.uiDialog.hide();}}});}}(jQuery));(function($,undefined){var rvertical=/up|down|vertical/,rpositivemotion=/up|left|vertical|horizontal/;$.effects.effect.blind=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),direction=o.direction||"up",vertical=rvertical.test(direction),ref=vertical?"height":"width",ref2=vertical?"top":"left",motion=rpositivemotion.test(direction),animation={},show=mode==="show",wrapper,distance,margin;if(el.parent().is(".ui-effects-wrapper")){$.effects.save(el.parent(),props);}else{$.effects.save(el,props);}
el.show();wrapper=$.effects.createWrapper(el).css({overflow:"hidden"});distance=wrapper[ref]();margin=parseFloat(wrapper.css(ref2))||0;animation[ref]=show?distance:0;if(!motion){el.css(vertical?"bottom":"right",0).css(vertical?"top":"left","auto").css({position:"absolute"});animation[ref2]=show?margin:distance+margin;}
if(show){wrapper.css(ref,0);if(!motion){wrapper.css(ref2,margin+distance);}}
wrapper.animate(animation,{duration:o.duration,easing:o.easing,queue:false,complete:function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.bounce=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"effect"),hide=mode==="hide",show=mode==="show",direction=o.direction||"up",distance=o.distance,times=o.times||5,anims=times*2+(show||hide?1:0),speed=o.duration/anims,easing=o.easing,ref=(direction==="up"||direction==="down")?"top":"left",motion=(direction==="up"||direction==="left"),i,upAnim,downAnim,queue=el.queue(),queuelen=queue.length;if(show||hide){props.push("opacity");}
$.effects.save(el,props);el.show();$.effects.createWrapper(el);if(!distance){distance=el[ref==="top"?"outerHeight":"outerWidth"]()/3;}
if(show){downAnim={opacity:1};downAnim[ref]=0;el.css("opacity",0).css(ref,motion?-distance*2:distance*2).animate(downAnim,speed,easing);}
if(hide){distance=distance/Math.pow(2,times-1);}
downAnim={};downAnim[ref]=0;for(i=0;i<times;i++){upAnim={};upAnim[ref]=(motion?"-=":"+=")+distance;el.animate(upAnim,speed,easing).animate(downAnim,speed,easing);distance=hide?distance*2:distance/2;}
if(hide){upAnim={opacity:0};upAnim[ref]=(motion?"-=":"+=")+distance;el.animate(upAnim,speed,easing);}
el.queue(function(){if(hide){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();});if(queuelen>1){queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1)));}
el.dequeue();};})(jQuery);(function($,undefined){$.effects.effect.clip=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",direction=o.direction||"vertical",vert=direction==="vertical",size=vert?"height":"width",position=vert?"top":"left",animation={},wrapper,animate,distance;$.effects.save(el,props);el.show();wrapper=$.effects.createWrapper(el).css({overflow:"hidden"});animate=(el[0].tagName==="IMG")?wrapper:el;distance=animate[size]();if(show){animate.css(size,0);animate.css(position,distance/2);}
animation[size]=show?distance:0;animation[position]=show?0:distance/2;animate.animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(!show){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.drop=function(o,done){var el=$(this),props=["position","top","bottom","left","right","opacity","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",direction=o.direction||"left",ref=(direction==="up"||direction==="down")?"top":"left",motion=(direction==="up"||direction==="left")?"pos":"neg",animation={opacity:show?1:0},distance;$.effects.save(el,props);el.show();$.effects.createWrapper(el);distance=o.distance||el[ref==="top"?"outerHeight":"outerWidth"](true)/2;if(show){el.css("opacity",0).css(ref,motion==="pos"?-distance:distance);}
animation[ref]=(show?(motion==="pos"?"+=":"-="):(motion==="pos"?"-=":"+="))+
distance;el.animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.explode=function(o,done){var rows=o.pieces?Math.round(Math.sqrt(o.pieces)):3,cells=rows,el=$(this),mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",offset=el.show().css("visibility","hidden").offset(),width=Math.ceil(el.outerWidth()/cells),height=Math.ceil(el.outerHeight()/rows),pieces=[],i,j,left,top,mx,my;function childComplete(){pieces.push(this);if(pieces.length===rows*cells){animComplete();}}
for(i=0;i<rows;i++){top=offset.top+i*height;my=i-(rows-1)/2;for(j=0;j<cells;j++){left=offset.left+j*width;mx=j-(cells-1)/2;el.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*width,top:-i*height}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:width,height:height,left:left+(show?mx*width:0),top:top+(show?my*height:0),opacity:show?0:1}).animate({left:left+(show?0:mx*width),top:top+(show?0:my*height),opacity:show?1:0},o.duration||500,o.easing,childComplete);}}
function animComplete(){el.css({visibility:"visible"});$(pieces).remove();if(!show){el.hide();}
done();}};})(jQuery);(function($,undefined){$.effects.effect.fade=function(o,done){var el=$(this),mode=$.effects.setMode(el,o.mode||"toggle");el.animate({opacity:mode},{queue:false,duration:o.duration,easing:o.easing,complete:done});};})(jQuery);(function($,undefined){$.effects.effect.fold=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",hide=mode==="hide",size=o.size||15,percent=/([0-9]+)%/.exec(size),horizFirst=!!o.horizFirst,widthFirst=show!==horizFirst,ref=widthFirst?["width","height"]:["height","width"],duration=o.duration/2,wrapper,distance,animation1={},animation2={};$.effects.save(el,props);el.show();wrapper=$.effects.createWrapper(el).css({overflow:"hidden"});distance=widthFirst?[wrapper.width(),wrapper.height()]:[wrapper.height(),wrapper.width()];if(percent){size=parseInt(percent[1],10)/100*distance[hide?0:1];}
if(show){wrapper.css(horizFirst?{height:0,width:size}:{height:size,width:0});}
animation1[ref[0]]=show?distance[0]:size;animation2[ref[1]]=show?distance[1]:0;wrapper.animate(animation1,duration,o.easing).animate(animation2,duration,o.easing,function(){if(hide){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();});};})(jQuery);(function($,undefined){$.effects.effect.highlight=function(o,done){var elem=$(this),props=["backgroundImage","backgroundColor","opacity"],mode=$.effects.setMode(elem,o.mode||"show"),animation={backgroundColor:elem.css("backgroundColor")};if(mode==="hide"){animation.opacity=0;}
$.effects.save(elem,props);elem.show().css({backgroundImage:"none",backgroundColor:o.color||"#ffff99"}).animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(mode==="hide"){elem.hide();}
$.effects.restore(elem,props);done();}});};})(jQuery);(function($,undefined){$.effects.effect.pulsate=function(o,done){var elem=$(this),mode=$.effects.setMode(elem,o.mode||"show"),show=mode==="show",hide=mode==="hide",showhide=(show||mode==="hide"),anims=((o.times||5)*2)+(showhide?1:0),duration=o.duration/anims,animateTo=0,queue=elem.queue(),queuelen=queue.length,i;if(show||!elem.is(":visible")){elem.css("opacity",0).show();animateTo=1;}
for(i=1;i<anims;i++){elem.animate({opacity:animateTo},duration,o.easing);animateTo=1-animateTo;}
elem.animate({opacity:animateTo},duration,o.easing);elem.queue(function(){if(hide){elem.hide();}
done();});if(queuelen>1){queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1)));}
elem.dequeue();};})(jQuery);(function($,undefined){$.effects.effect.puff=function(o,done){var elem=$(this),mode=$.effects.setMode(elem,o.mode||"hide"),hide=mode==="hide",percent=parseInt(o.percent,10)||150,factor=percent/100,original={height:elem.height(),width:elem.width(),outerHeight:elem.outerHeight(),outerWidth:elem.outerWidth()};$.extend(o,{effect:"scale",queue:false,fade:true,mode:mode,complete:done,percent:hide?percent:100,from:hide?original:{height:original.height*factor,width:original.width*factor,outerHeight:original.outerHeight*factor,outerWidth:original.outerWidth*factor}});elem.effect(o);};$.effects.effect.scale=function(o,done){var el=$(this),options=$.extend(true,{},o),mode=$.effects.setMode(el,o.mode||"effect"),percent=parseInt(o.percent,10)||(parseInt(o.percent,10)===0?0:(mode==="hide"?0:100)),direction=o.direction||"both",origin=o.origin,original={height:el.height(),width:el.width(),outerHeight:el.outerHeight(),outerWidth:el.outerWidth()},factor={y:direction!=="horizontal"?(percent/100):1,x:direction!=="vertical"?(percent/100):1};options.effect="size";options.queue=false;options.complete=done;if(mode!=="effect"){options.origin=origin||["middle","center"];options.restore=true;}
options.from=o.from||(mode==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:original);options.to={height:original.height*factor.y,width:original.width*factor.x,outerHeight:original.outerHeight*factor.y,outerWidth:original.outerWidth*factor.x};if(options.fade){if(mode==="show"){options.from.opacity=0;options.to.opacity=1;}
if(mode==="hide"){options.from.opacity=1;options.to.opacity=0;}}
el.effect(options);};$.effects.effect.size=function(o,done){var original,baseline,factor,el=$(this),props0=["position","top","bottom","left","right","width","height","overflow","opacity"],props1=["position","top","bottom","left","right","overflow","opacity"],props2=["width","height","overflow"],cProps=["fontSize"],vProps=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],hProps=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],mode=$.effects.setMode(el,o.mode||"effect"),restore=o.restore||mode!=="effect",scale=o.scale||"both",origin=o.origin||["middle","center"],position=el.css("position"),props=restore?props0:props1,zero={height:0,width:0,outerHeight:0,outerWidth:0};if(mode==="show"){el.show();}
original={height:el.height(),width:el.width(),outerHeight:el.outerHeight(),outerWidth:el.outerWidth()};if(o.mode==="toggle"&&mode==="show"){el.from=o.to||zero;el.to=o.from||original;}else{el.from=o.from||(mode==="show"?zero:original);el.to=o.to||(mode==="hide"?zero:original);}
factor={from:{y:el.from.height/original.height,x:el.from.width/original.width},to:{y:el.to.height/original.height,x:el.to.width/original.width}};if(scale==="box"||scale==="both"){if(factor.from.y!==factor.to.y){props=props.concat(vProps);el.from=$.effects.setTransition(el,vProps,factor.from.y,el.from);el.to=$.effects.setTransition(el,vProps,factor.to.y,el.to);}
if(factor.from.x!==factor.to.x){props=props.concat(hProps);el.from=$.effects.setTransition(el,hProps,factor.from.x,el.from);el.to=$.effects.setTransition(el,hProps,factor.to.x,el.to);}}
if(scale==="content"||scale==="both"){if(factor.from.y!==factor.to.y){props=props.concat(cProps).concat(props2);el.from=$.effects.setTransition(el,cProps,factor.from.y,el.from);el.to=$.effects.setTransition(el,cProps,factor.to.y,el.to);}}
$.effects.save(el,props);el.show();$.effects.createWrapper(el);el.css("overflow","hidden").css(el.from);if(origin){baseline=$.effects.getBaseline(origin,original);el.from.top=(original.outerHeight-el.outerHeight())*baseline.y;el.from.left=(original.outerWidth-el.outerWidth())*baseline.x;el.to.top=(original.outerHeight-el.to.outerHeight)*baseline.y;el.to.left=(original.outerWidth-el.to.outerWidth)*baseline.x;}
el.css(el.from);if(scale==="content"||scale==="both"){vProps=vProps.concat(["marginTop","marginBottom"]).concat(cProps);hProps=hProps.concat(["marginLeft","marginRight"]);props2=props0.concat(vProps).concat(hProps);el.find("*[width]").each(function(){var child=$(this),c_original={height:child.height(),width:child.width(),outerHeight:child.outerHeight(),outerWidth:child.outerWidth()};if(restore){$.effects.save(child,props2);}
child.from={height:c_original.height*factor.from.y,width:c_original.width*factor.from.x,outerHeight:c_original.outerHeight*factor.from.y,outerWidth:c_original.outerWidth*factor.from.x};child.to={height:c_original.height*factor.to.y,width:c_original.width*factor.to.x,outerHeight:c_original.height*factor.to.y,outerWidth:c_original.width*factor.to.x};if(factor.from.y!==factor.to.y){child.from=$.effects.setTransition(child,vProps,factor.from.y,child.from);child.to=$.effects.setTransition(child,vProps,factor.to.y,child.to);}
if(factor.from.x!==factor.to.x){child.from=$.effects.setTransition(child,hProps,factor.from.x,child.from);child.to=$.effects.setTransition(child,hProps,factor.to.x,child.to);}
child.css(child.from);child.animate(child.to,o.duration,o.easing,function(){if(restore){$.effects.restore(child,props2);}});});}
el.animate(el.to,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(el.to.opacity===0){el.css("opacity",el.from.opacity);}
if(mode==="hide"){el.hide();}
$.effects.restore(el,props);if(!restore){if(position==="static"){el.css({position:"relative",top:el.to.top,left:el.to.left});}else{$.each(["top","left"],function(idx,pos){el.css(pos,function(_,str){var val=parseInt(str,10),toRef=idx?el.to.left:el.to.top;if(str==="auto"){return toRef+"px";}
return val+toRef+"px";});});}}
$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.shake=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"effect"),direction=o.direction||"left",distance=o.distance||20,times=o.times||3,anims=times*2+1,speed=Math.round(o.duration/anims),ref=(direction==="up"||direction==="down")?"top":"left",positiveMotion=(direction==="up"||direction==="left"),animation={},animation1={},animation2={},i,queue=el.queue(),queuelen=queue.length;$.effects.save(el,props);el.show();$.effects.createWrapper(el);animation[ref]=(positiveMotion?"-=":"+=")+distance;animation1[ref]=(positiveMotion?"+=":"-=")+distance*2;animation2[ref]=(positiveMotion?"-=":"+=")+distance*2;el.animate(animation,speed,o.easing);for(i=1;i<times;i++){el.animate(animation1,speed,o.easing).animate(animation2,speed,o.easing);}
el.animate(animation1,speed,o.easing).animate(animation,speed/2,o.easing).queue(function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();});if(queuelen>1){queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1)));}
el.dequeue();};})(jQuery);(function($,undefined){$.effects.effect.slide=function(o,done){var el=$(this),props=["position","top","bottom","left","right","width","height"],mode=$.effects.setMode(el,o.mode||"show"),show=mode==="show",direction=o.direction||"left",ref=(direction==="up"||direction==="down")?"top":"left",positiveMotion=(direction==="up"||direction==="left"),distance,animation={};$.effects.save(el,props);el.show();distance=o.distance||el[ref==="top"?"outerHeight":"outerWidth"](true);$.effects.createWrapper(el).css({overflow:"hidden"});if(show){el.css(ref,positiveMotion?(isNaN(distance)?"-"+distance:-distance):distance);}
animation[ref]=(show?(positiveMotion?"+=":"-="):(positiveMotion?"-=":"+="))+
distance;el.animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.transfer=function(o,done){var elem=$(this),target=$(o.to),targetFixed=target.css("position")==="fixed",body=$("body"),fixTop=targetFixed?body.scrollTop():0,fixLeft=targetFixed?body.scrollLeft():0,endPosition=target.offset(),animation={top:endPosition.top-fixTop,left:endPosition.left-fixLeft,height:target.innerHeight(),width:target.innerWidth()},startPosition=elem.offset(),transfer=$("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(o.className).css({top:startPosition.top-fixTop,left:startPosition.left-fixLeft,height:elem.innerHeight(),width:elem.innerWidth(),position:targetFixed?"fixed":"absolute"}).animate(animation,o.duration,o.easing,function(){transfer.remove();done();});};})(jQuery);(function($,undefined){$.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,$.proxy(function(event){if(this.options.disabled){event.preventDefault();}},this));if(this.options.disabled){this.element.addClass("ui-state-disabled").attr("aria-disabled","true");}
this._on({"mousedown .ui-menu-item > a":function(event){event.preventDefault();},"click .ui-state-disabled > a":function(event){event.preventDefault();},"click .ui-menu-item:has(a)":function(event){var target=$(event.target).closest(".ui-menu-item");if(!this.mouseHandled&&target.not(".ui-state-disabled").length){this.mouseHandled=true;this.select(event);if(target.has(".ui-menu").length){this.expand(event);}else if(!this.element.is(":focus")){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer);}}}},"mouseenter .ui-menu-item":function(event){var target=$(event.currentTarget);target.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(event,target);},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(event,keepActiveItem){var item=this.active||this.element.children(".ui-menu-item").eq(0);if(!keepActiveItem){this.focus(event,item);}},blur:function(event){this._delay(function(){if(!$.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(event);}});},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(event){if(!$(event.target).closest(".ui-menu").length){this.collapseAll(event);}
this.mouseHandled=false;}});},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var elem=$(this);if(elem.data("ui-menu-submenu-carat")){elem.remove();}});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content");},_keydown:function(event){var match,prev,character,skip,regex,preventDefault=true;function escape(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");}
switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move("first","first",event);break;case $.ui.keyCode.END:this._move("last","last",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(event);}
break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=false;prev=this.previousFilter||"";character=String.fromCharCode(event.keyCode);skip=false;clearTimeout(this.filterTimer);if(character===prev){skip=true;}else{character=prev+character;}
regex=new RegExp("^"+escape(character),"i");match=this.activeMenu.children(".ui-menu-item").filter(function(){return regex.test($(this).children("a").text());});match=skip&&match.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):match;if(!match.length){character=String.fromCharCode(event.keyCode);regex=new RegExp("^"+escape(character),"i");match=this.activeMenu.children(".ui-menu-item").filter(function(){return regex.test($(this).children("a").text());});}
if(match.length){this.focus(event,match);if(match.length>1){this.previousFilter=character;this.filterTimer=this._delay(function(){delete this.previousFilter;},1000);}else{delete this.previousFilter;}}else{delete this.previousFilter;}}
if(preventDefault){event.preventDefault();}},_activate:function(event){if(!this.active.is(".ui-state-disabled")){if(this.active.children("a[aria-haspopup='true']").length){this.expand(event);}else{this.select(event);}}},refresh:function(){var menus,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);submenus.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var menu=$(this),item=menu.prev("a"),submenuCarat=$("<span>").addClass("ui-menu-icon ui-icon "+icon).data("ui-menu-submenu-carat",true);item.attr("aria-haspopup","true").prepend(submenuCarat);menu.attr("aria-labelledby",item.attr("id"));});menus=submenus.add(this.element);menus.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});menus.children(":not(.ui-menu-item)").each(function(){var item=$(this);if(!/[^\-\u2014\u2013\s]/.test(item.text())){item.addClass("ui-widget-content ui-menu-divider");}});menus.children(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!$.contains(this.element[0],this.active[0])){this.blur();}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role];},_setOption:function(key,value){if(key==="icons"){this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(value.submenu);}
this._super(key,value);},focus:function(event,item){var nested,focused;this.blur(event,event&&event.type==="focus");this._scrollIntoView(item);this.active=item.first();focused=this.active.children("a").addClass("ui-state-focus");if(this.options.role){this.element.attr("aria-activedescendant",focused.attr("id"));}
this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");if(event&&event.type==="keydown"){this._close();}else{this.timer=this._delay(function(){this._close();},this.delay);}
nested=item.children(".ui-menu");if(nested.length&&(/^mouse/.test(event.type))){this._startOpening(nested);}
this.activeMenu=item.parent();this._trigger("focus",event,{item:item});},_scrollIntoView:function(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;if(this._hasScroll()){borderTop=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0;paddingTop=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0;offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop;scroll=this.activeMenu.scrollTop();elementHeight=this.activeMenu.height();itemHeight=item.height();if(offset<0){this.activeMenu.scrollTop(scroll+offset);}else if(offset+itemHeight>elementHeight){this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight);}}},blur:function(event,fromFocus){if(!fromFocus){clearTimeout(this.timer);}
if(!this.active){return;}
this.active.children("a").removeClass("ui-state-focus");this.active=null;this._trigger("blur",event,{item:this.active});},_startOpening:function(submenu){clearTimeout(this.timer);if(submenu.attr("aria-hidden")!=="true"){return;}
this.timer=this._delay(function(){this._close();this._open(submenu);},this.delay);},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden","true");submenu.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(position);},collapseAll:function(event,all){clearTimeout(this.timer);this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(".ui-menu"));if(!currentMenu.length){currentMenu=this.element;}
this._close(currentMenu);this.blur(event);this.activeMenu=currentMenu;},this.delay);},_close:function(startMenu){if(!startMenu){startMenu=this.active?this.active.parent():this.element;}
startMenu.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active");},collapse:function(event){var newItem=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(newItem&&newItem.length){this._close();this.focus(event,newItem);}},expand:function(event){var newItem=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();if(newItem&&newItem.length){this._open(newItem.parent());this._delay(function(){this.focus(event,newItem);});}},next:function(event){this._move("next","first",event);},previous:function(event){this._move("prev","last",event);},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length;},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length;},_move:function(direction,filter,event){var next;if(this.active){if(direction==="first"||direction==="last"){next=this.active
[direction==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1);}else{next=this.active
[direction+"All"](".ui-menu-item").eq(0);}}
if(!next||!next.length||!this.active){next=this.activeMenu.children(".ui-menu-item")[filter]();}
this.focus(event,next);},nextPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}
if(this.isLastItem()){return;}
if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base-height<0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.children(".ui-menu-item")
[!this.active?"first":"last"]());}},previousPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}
if(this.isFirstItem()){return;}
if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base+height>0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.children(".ui-menu-item").first());}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight");},select:function(event){this.active=this.active||$(event.target).closest(".ui-menu-item");var ui={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(event,true);}
this._trigger("select",event,ui);}});}(jQuery));(function($,undefined){$.ui=$.ui||{};var cachedScrollbarWidth,max=Math.max,abs=Math.abs,round=Math.round,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)];}
function parseCss(element,property){return parseInt($.css(element,property),10)||0;}
function getDimensions(elem){var raw=elem[0];if(raw.nodeType===9){return{width:elem.width(),height:elem.height(),offset:{top:0,left:0}};}
if($.isWindow(raw)){return{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}};}
if(raw.preventDefault){return{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}};}
return{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()};}
$.position={scrollbarWidth:function(){if(cachedScrollbarWidth!==undefined){return cachedScrollbarWidth;}
var w1,w2,div=$("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];$("body").append(div);w1=innerDiv.offsetWidth;div.css("overflow","scroll");w2=innerDiv.offsetWidth;if(w1===w2){w2=div[0].clientWidth;}
div.remove();return(cachedScrollbarWidth=w1-w2);},getScrollInfo:function(within){var overflowX=within.isWindow?"":within.element.css("overflow-x"),overflowY=within.isWindow?"":within.element.css("overflow-y"),hasOverflowX=overflowX==="scroll"||(overflowX==="auto"&&within.width<within.element[0].scrollWidth),hasOverflowY=overflowY==="scroll"||(overflowY==="auto"&&within.height<within.element[0].scrollHeight);return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0};},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]);return{element:withinElement,isWindow:isWindow,offset:withinElement.offset()||{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:isWindow?withinElement.width():withinElement.outerWidth(),height:isWindow?withinElement.height():withinElement.outerHeight()};}};$.fn.position=function(options){if(!options||!options.of){return _position.apply(this,arguments);}
options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};dimensions=getDimensions(target);if(target[0].preventDefault){options.at="left top";}
targetWidth=dimensions.width;targetHeight=dimensions.height;targetOffset=dimensions.offset;basePosition=$.extend({},targetOffset);$.each(["my","at"],function(){var pos=(options[this]||"").split(" "),horizontalOffset,verticalOffset;if(pos.length===1){pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"];}
pos[0]=rhorizontal.test(pos[0])?pos[0]:"center";pos[1]=rvertical.test(pos[1])?pos[1]:"center";horizontalOffset=roffset.exec(pos[0]);verticalOffset=roffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]];});if(collision.length===1){collision[1]=collision[0];}
if(options.at[0]==="right"){basePosition.left+=targetWidth;}else if(options.at[0]==="center"){basePosition.left+=targetWidth/2;}
if(options.at[1]==="bottom"){basePosition.top+=targetHeight;}else if(options.at[1]==="center"){basePosition.top+=targetHeight/2;}
atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==="right"){position.left-=elemWidth;}else if(options.my[0]==="center"){position.left-=elemWidth/2;}
if(options.my[1]==="bottom"){position.top-=elemHeight;}else if(options.my[1]==="center"){position.top-=elemHeight/2;}
position.left+=myOffset[0];position.top+=myOffset[1];if(!$.support.offsetFractions){position.left=round(position.left);position.top=round(position.top);}
collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]]){$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem});}});if(options.using){using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":left>0?"right":"center",vertical:bottom<0?"top":top>0?"bottom":"middle"};if(targetWidth<elemWidth&&abs(left+right)<targetWidth){feedback.horizontal="center";}
if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight){feedback.vertical="middle";}
if(max(abs(left),abs(right))>max(abs(top),abs(bottom))){feedback.important="horizontal";}else{feedback.important="vertical";}
options.using.call(this,props,feedback);};}
elem.offset($.extend(position,{using:using}));});};$.ui.position={fit:{left:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;if(data.collisionWidth>outerWidth){if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset;position.left+=overLeft-newOverRight;}else if(overRight>0&&overLeft<=0){position.left=withinOffset;}else{if(overLeft>overRight){position.left=withinOffset+outerWidth-data.collisionWidth;}else{position.left=withinOffset;}}}else if(overLeft>0){position.left+=overLeft;}else if(overRight>0){position.left-=overRight;}else{position.left=max(position.left-collisionPosLeft,position.left);}},top:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset,newOverBottom;if(data.collisionHeight>outerHeight){if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset;position.top+=overTop-newOverBottom;}else if(overBottom>0&&overTop<=0){position.top=withinOffset;}else{if(overTop>overBottom){position.top=withinOffset+outerHeight-data.collisionHeight;}else{position.top=withinOffset;}}}else if(overTop>0){position.top+=overTop;}else if(overBottom>0){position.top-=overBottom;}else{position.top=max(position.top-collisionPosTop,position.top);}}},flip:{left:function(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,atOffset=data.at[0]==="left"?data.targetWidth:data.at[0]==="right"?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft)){position.left+=myOffset+atOffset+offset;}}
else if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight){position.left+=myOffset+atOffset+offset;}}},top:function(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]==="top",myOffset=top?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:data.at[1]==="bottom"?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset;if((position.top+myOffset+atOffset+offset)>overTop&&(newOverBottom<0||newOverBottom<abs(overTop))){position.top+=myOffset+atOffset+offset;}}
else if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop;if((position.top+myOffset+atOffset+offset)>overBottom&&(newOverTop>0||abs(newOverTop)<overBottom)){position.top+=myOffset+atOffset+offset;}}}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments);$.ui.position.fit.left.apply(this,arguments);},top:function(){$.ui.position.flip.top.apply(this,arguments);$.ui.position.fit.top.apply(this,arguments);}}};(function(){var testElement,testElementParent,testElementStyle,offsetLeft,i,body=document.getElementsByTagName("body")[0],div=document.createElement("div");testElement=document.createElement(body?"div":"body");testElementStyle={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(body){$.extend(testElementStyle,{position:"absolute",left:"-1000px",top:"-1000px"});}
for(i in testElementStyle){testElement.style[i]=testElementStyle[i];}
testElement.appendChild(div);testElementParent=body||document.documentElement;testElementParent.insertBefore(testElement,testElementParent.firstChild);div.style.cssText="position: absolute; left: 10.7432222px;";offsetLeft=$(div).offset().left;$.support.offsetFractions=offsetLeft>10&&offsetLeft<11;testElement.innerHTML="";testElementParent.removeChild(testElement);})();}(jQuery));(function($,undefined){$.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=$("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue();},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove();},value:function(newValue){if(newValue===undefined){return this.options.value;}
this.options.value=this._constrainedValue(newValue);this._refreshValue();},_constrainedValue:function(newValue){if(newValue===undefined){newValue=this.options.value;}
this.indeterminate=newValue===false;if(typeof newValue!=="number"){newValue=0;}
return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,newValue));},_setOptions:function(options){var value=options.value;delete options.value;this._super(options);this.options.value=this._constrainedValue(value);this._refreshValue();},_setOption:function(key,value){if(key==="max"){value=Math.max(this.min,value);}
this._super(key,value);},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min);},_refreshValue:function(){var value=this.options.value,percentage=this._percentage();this.valueDiv.toggle(this.indeterminate||value>this.min).toggleClass("ui-corner-right",value===this.options.max).width(percentage.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=$("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv);}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":value});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null;}}
if(this.oldValue!==value){this.oldValue=value;this._trigger("change");}
if(value===this.options.max){this._trigger("complete");}}});})(jQuery);(function($,undefined){var numPages=5;$.widget("ui.slider",$.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider"+" ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=false;},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue();},_createHandles:function(){var i,handleCount,options=this.options,existingHandles=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),handle="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",handles=[];handleCount=(options.values&&options.values.length)||1;if(existingHandles.length>handleCount){existingHandles.slice(handleCount).remove();existingHandles=existingHandles.slice(0,handleCount);}
for(i=existingHandles.length;i<handleCount;i++){handles.push(handle);}
this.handles=existingHandles.add($(handles.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(i){$(this).data("ui-slider-handle-index",i);});},_createRange:function(){var options=this.options,classes="";if(options.range){if(options.range===true){if(!options.values){options.values=[this._valueMin(),this._valueMin()];}else if(options.values.length&&options.values.length!==2){options.values=[options.values[0],options.values[0]];}else if($.isArray(options.values)){options.values=options.values.slice(0);}}
if(!this.range||!this.range.length){this.range=$("<div></div>").appendTo(this.element);classes="ui-slider-range"+" ui-widget-header ui-corner-all";}else{this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({"left":"","bottom":""});}
this.range.addClass(classes+
((options.range==="min"||options.range==="max")?" ui-slider-range-"+options.range:""));}else{this.range=$([]);}},_setupEvents:function(){var elements=this.handles.add(this.range).filter("a");this._off(elements);this._on(elements,this._handleEvents);this._hoverable(elements);this._focusable(elements);},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider"+" ui-slider-horizontal"+" ui-slider-vertical"+" ui-widget"+" ui-widget-content"+" ui-corner-all");this._mouseDestroy();},_mouseCapture:function(event){var position,normValue,distance,closestHandle,index,allowed,offset,mouseOverHandle,that=this,o=this.options;if(o.disabled){return false;}
this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();position={x:event.pageX,y:event.pageY};normValue=this._normValueFromMouse(position);distance=this._valueMax()-this._valueMin()+1;this.handles.each(function(i){var thisDistance=Math.abs(normValue-that.values(i));if((distance>thisDistance)||(distance===thisDistance&&(i===that._lastChangedValue||that.values(i)===o.min))){distance=thisDistance;closestHandle=$(this);index=i;}});allowed=this._start(event,index);if(allowed===false){return false;}
this._mouseSliding=true;this._handleIndex=index;closestHandle.addClass("ui-state-active").focus();offset=closestHandle.offset();mouseOverHandle=!$(event.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-(closestHandle.width()/2),top:event.pageY-offset.top-
(closestHandle.height()/2)-
(parseInt(closestHandle.css("borderTopWidth"),10)||0)-
(parseInt(closestHandle.css("borderBottomWidth"),10)||0)+
(parseInt(closestHandle.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(event,index,normValue);}
this._animateOff=true;return true;},_mouseStart:function(){return true;},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);this._slide(event,this._handleIndex,normValue);return false;},_mouseStop:function(event){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(event,this._handleIndex);this._change(event,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false;},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal";},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;if(this.orientation==="horizontal"){pixelTotal=this.elementSize.width;pixelMouse=position.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0);}else{pixelTotal=this.elementSize.height;pixelMouse=position.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0);}
percentMouse=(pixelMouse/pixelTotal);if(percentMouse>1){percentMouse=1;}
if(percentMouse<0){percentMouse=0;}
if(this.orientation==="vertical"){percentMouse=1-percentMouse;}
valueTotal=this._valueMax()-this._valueMin();valueMouse=this._valueMin()+percentMouse*valueTotal;return this._trimAlignValue(valueMouse);},_start:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}
return this._trigger("start",event,uiHash);},_slide:function(event,index,newVal){var otherVal,newValues,allowed;if(this.options.values&&this.options.values.length){otherVal=this.values(index?0:1);if((this.options.values.length===2&&this.options.range===true)&&((index===0&&newVal>otherVal)||(index===1&&newVal<otherVal))){newVal=otherVal;}
if(newVal!==this.values(index)){newValues=this.values();newValues[index]=newVal;allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal,values:newValues});otherVal=this.values(index?0:1);if(allowed!==false){this.values(index,newVal,true);}}}else{if(newVal!==this.value()){allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal});if(allowed!==false){this.value(newVal);}}}},_stop:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}
this._trigger("stop",event,uiHash);},_change:function(event,index){if(!this._keySliding&&!this._mouseSliding){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}
this._lastChangedValue=index;this._trigger("change",event,uiHash);}},value:function(newValue){if(arguments.length){this.options.value=this._trimAlignValue(newValue);this._refreshValue();this._change(null,0);return;}
return this._value();},values:function(index,newValue){var vals,newValues,i;if(arguments.length>1){this.options.values[index]=this._trimAlignValue(newValue);this._refreshValue();this._change(null,index);return;}
if(arguments.length){if($.isArray(arguments[0])){vals=this.options.values;newValues=arguments[0];for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(newValues[i]);this._change(null,i);}
this._refreshValue();}else{if(this.options.values&&this.options.values.length){return this._values(index);}else{return this.value();}}}else{return this._values();}},_setOption:function(key,value){var i,valsLength=0;if(key==="range"&&this.options.range===true){if(value==="min"){this.options.value=this._values(0);this.options.values=null;}else if(value==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null;}}
if($.isArray(this.options.values)){valsLength=this.options.values.length;}
$.Widget.prototype._setOption.apply(this,arguments);switch(key){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(i=0;i<valsLength;i+=1){this._change(null,i);}
this._animateOff=false;break;case"min":case"max":this._animateOff=true;this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break;}},_value:function(){var val=this.options.value;val=this._trimAlignValue(val);return val;},_values:function(index){var val,vals,i;if(arguments.length){val=this.options.values[index];val=this._trimAlignValue(val);return val;}else if(this.options.values&&this.options.values.length){vals=this.options.values.slice();for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(vals[i]);}
return vals;}else{return[];}},_trimAlignValue:function(val){if(val<=this._valueMin()){return this._valueMin();}
if(val>=this._valueMax()){return this._valueMax();}
var step=(this.options.step>0)?this.options.step:1,valModStep=(val-this._valueMin())%step,alignValue=val-valModStep;if(Math.abs(valModStep)*2>=step){alignValue+=(valModStep>0)?step:(-step);}
return parseFloat(alignValue.toFixed(5));},_valueMin:function(){return this.options.min;},_valueMax:function(){return this.options.max;},_refreshValue:function(){var lastValPercent,valPercent,value,valueMin,valueMax,oRange=this.options.range,o=this.options,that=this,animate=(!this._animateOff)?o.animate:false,_set={};if(this.options.values&&this.options.values.length){this.handles.each(function(i){valPercent=(that.values(i)-that._valueMin())/(that._valueMax()-that._valueMin())*100;_set[that.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";$(this).stop(1,1)[animate?"animate":"css"](_set,o.animate);if(that.options.range===true){if(that.orientation==="horizontal"){if(i===0){that.range.stop(1,1)[animate?"animate":"css"]({left:valPercent+"%"},o.animate);}
if(i===1){that.range[animate?"animate":"css"]({width:(valPercent-lastValPercent)+"%"},{queue:false,duration:o.animate});}}else{if(i===0){that.range.stop(1,1)[animate?"animate":"css"]({bottom:(valPercent)+"%"},o.animate);}
if(i===1){that.range[animate?"animate":"css"]({height:(valPercent-lastValPercent)+"%"},{queue:false,duration:o.animate});}}}
lastValPercent=valPercent;});}else{value=this.value();valueMin=this._valueMin();valueMax=this._valueMax();valPercent=(valueMax!==valueMin)?(value-valueMin)/(valueMax-valueMin)*100:0;_set[this.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate);if(oRange==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[animate?"animate":"css"]({width:valPercent+"%"},o.animate);}
if(oRange==="max"&&this.orientation==="horizontal"){this.range[animate?"animate":"css"]({width:(100-valPercent)+"%"},{queue:false,duration:o.animate});}
if(oRange==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[animate?"animate":"css"]({height:valPercent+"%"},o.animate);}
if(oRange==="max"&&this.orientation==="vertical"){this.range[animate?"animate":"css"]({height:(100-valPercent)+"%"},{queue:false,duration:o.animate});}}},_handleEvents:{keydown:function(event){var allowed,curVal,newVal,step,index=$(event.target).data("ui-slider-handle-index");switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:event.preventDefault();if(!this._keySliding){this._keySliding=true;$(event.target).addClass("ui-state-active");allowed=this._start(event,index);if(allowed===false){return;}}
break;}
step=this.options.step;if(this.options.values&&this.options.values.length){curVal=newVal=this.values(index);}else{curVal=newVal=this.value();}
switch(event.keyCode){case $.ui.keyCode.HOME:newVal=this._valueMin();break;case $.ui.keyCode.END:newVal=this._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=this._trimAlignValue(curVal+((this._valueMax()-this._valueMin())/numPages));break;case $.ui.keyCode.PAGE_DOWN:newVal=this._trimAlignValue(curVal-((this._valueMax()-this._valueMin())/numPages));break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===this._valueMax()){return;}
newVal=this._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===this._valueMin()){return;}
newVal=this._trimAlignValue(curVal-step);break;}
this._slide(event,index,newVal);},click:function(event){event.preventDefault();},keyup:function(event){var index=$(event.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(event,index);this._change(event,index);$(event.target).removeClass("ui-state-active");}}}});}(jQuery));(function($){function modifier(fn){return function(){var previous=this.element.val();fn.apply(this,arguments);this._refresh();if(previous!==this.element.val()){this._trigger("change");}};}
$.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);this._value(this.element.val(),true);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete");}});},_getCreateOptions:function(){var options={},element=this.element;$.each(["min","max","step"],function(i,option){var value=element.attr(option);if(value!==undefined&&value.length){options[option]=value;}});return options;},_events:{keydown:function(event){if(this._start(event)&&this._keydown(event)){event.preventDefault();}},keyup:"_stop",focus:function(){this.previous=this.element.val();},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return;}
this._stop();this._refresh();if(this.previous!==this.element.val()){this._trigger("change",event);}},mousewheel:function(event,delta){if(!delta){return;}
if(!this.spinning&&!this._start(event)){return false;}
this._spin((delta>0?1:-1)*this.options.step,event);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(event);}},100);event.preventDefault();},"mousedown .ui-spinner-button":function(event){var previous;previous=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();function checkFocus(){var isActive=this.element[0]===this.document[0].activeElement;if(!isActive){this.element.focus();this.previous=previous;this._delay(function(){this.previous=previous;});}}
event.preventDefault();checkFocus.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;checkFocus.call(this);});if(this._start(event)===false){return;}
this._repeat(null,$(event.currentTarget).hasClass("ui-spinner-up")?1:-1,event);},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(event){if(!$(event.currentTarget).hasClass("ui-state-active")){return;}
if(this._start(event)===false){return false;}
this._repeat(null,$(event.currentTarget).hasClass("ui-spinner-up")?1:-1,event);},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var uiSpinner=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=uiSpinner.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");if(this.buttons.height()>Math.ceil(uiSpinner.height()*0.5)&&uiSpinner.height()>0){uiSpinner.height(uiSpinner.height());}
if(this.options.disabled){this.disable();}},_keydown:function(event){var options=this.options,keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.UP:this._repeat(null,1,event);return true;case keyCode.DOWN:this._repeat(null,-1,event);return true;case keyCode.PAGE_UP:this._repeat(null,options.page,event);return true;case keyCode.PAGE_DOWN:this._repeat(null,-options.page,event);return true;}
return false;},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>";},_buttonHtml:function(){return""+"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'>"+"<span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>";},_start:function(event){if(!this.spinning&&this._trigger("start",event)===false){return false;}
if(!this.counter){this.counter=1;}
this.spinning=true;return true;},_repeat:function(i,steps,event){i=i||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,steps,event);},i);this._spin(steps*this.options.step,event);},_spin:function(step,event){var value=this.value()||0;if(!this.counter){this.counter=1;}
value=this._adjustValue(value+step*this._increment(this.counter));if(!this.spinning||this._trigger("spin",event,{value:value})!==false){this._value(value);this.counter++;}},_increment:function(i){var incremental=this.options.incremental;if(incremental){return $.isFunction(incremental)?incremental(i):Math.floor(i*i*i/50000-i*i/500+17*i/200+1);}
return 1;},_precision:function(){var precision=this._precisionOf(this.options.step);if(this.options.min!==null){precision=Math.max(precision,this._precisionOf(this.options.min));}
return precision;},_precisionOf:function(num){var str=num.toString(),decimal=str.indexOf(".");return decimal===-1?0:str.length-decimal-1;},_adjustValue:function(value){var base,aboveMin,options=this.options;base=options.min!==null?options.min:0;aboveMin=value-base;aboveMin=Math.round(aboveMin/options.step)*options.step;value=base+aboveMin;value=parseFloat(value.toFixed(this._precision()));if(options.max!==null&&value>options.max){return options.max;}
if(options.min!==null&&value<options.min){return options.min;}
return value;},_stop:function(event){if(!this.spinning){return;}
clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",event);},_setOption:function(key,value){if(key==="culture"||key==="numberFormat"){var prevValue=this._parse(this.element.val());this.options[key]=value;this.element.val(this._format(prevValue));return;}
if(key==="max"||key==="min"||key==="step"){if(typeof value==="string"){value=this._parse(value);}}
if(key==="icons"){this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(value.up);this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(value.down);}
this._super(key,value);if(key==="disabled"){if(value){this.element.prop("disabled",true);this.buttons.button("disable");}else{this.element.prop("disabled",false);this.buttons.button("enable");}}},_setOptions:modifier(function(options){this._super(options);this._value(this.element.val());}),_parse:function(val){if(typeof val==="string"&&val!==""){val=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(val,10,this.options.culture):+val;}
return val===""||isNaN(val)?null:val;},_format:function(value){if(value===""){return"";}
return window.Globalize&&this.options.numberFormat?Globalize.format(value,this.options.numberFormat,this.options.culture):value;},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())});},_value:function(value,allowAny){var parsed;if(value!==""){parsed=this._parse(value);if(parsed!==null){if(!allowAny){parsed=this._adjustValue(parsed);}
value=this._format(parsed);}}
this.element.val(value);this._refresh();},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",false).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element);},stepUp:modifier(function(steps){this._stepUp(steps);}),_stepUp:function(steps){if(this._start()){this._spin((steps||1)*this.options.step);this._stop();}},stepDown:modifier(function(steps){this._stepDown(steps);}),_stepDown:function(steps){if(this._start()){this._spin((steps||1)* -this.options.step);this._stop();}},pageUp:modifier(function(pages){this._stepUp((pages||1)*this.options.page);}),pageDown:modifier(function(pages){this._stepDown((pages||1)*this.options.page);}),value:function(newVal){if(!arguments.length){return this._parse(this.element.val());}
modifier(this._value).call(this,newVal);},widget:function(){return this.uiSpinner;}});}(jQuery));(function($,undefined){var tabId=0,rhash=/#.*$/;function getNextTabId(){return++tabId;}
function isLocal(anchor){return anchor.hash.length>1&&decodeURIComponent(anchor.href.replace(rhash,""))===decodeURIComponent(location.href.replace(rhash,""));}
$.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var that=this,options=this.options;this.running=false;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",options.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(event){if($(this).is(".ui-state-disabled")){event.preventDefault();}}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){if($(this).closest("li").is(".ui-state-disabled")){this.blur();}});this._processTabs();options.active=this._initialActive();if($.isArray(options.disabled)){options.disabled=$.unique(options.disabled.concat($.map(this.tabs.filter(".ui-state-disabled"),function(li){return that.tabs.index(li);}))).sort();}
if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(options.active);}else{this.active=$();}
this._refresh();if(this.active.length){this.load(options.active);}},_initialActive:function(){var active=this.options.active,collapsible=this.options.collapsible,locationHash=location.hash.substring(1);if(active===null){if(locationHash){this.tabs.each(function(i,tab){if($(tab).attr("aria-controls")===locationHash){active=i;return false;}});}
if(active===null){active=this.tabs.index(this.tabs.filter(".ui-tabs-active"));}
if(active===null||active===-1){active=this.tabs.length?0:false;}}
if(active!==false){active=this.tabs.index(this.tabs.eq(active));if(active===-1){active=collapsible?false:0;}}
if(!collapsible&&active===false&&this.anchors.length){active=0;}
return active;},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?$():this._getPanelForTab(this.active)};},_tabKeydown:function(event){var focusedTab=$(this.document[0].activeElement).closest("li"),selectedIndex=this.tabs.index(focusedTab),goingForward=true;if(this._handlePageNav(event)){return;}
switch(event.keyCode){case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:selectedIndex++;break;case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:goingForward=false;selectedIndex--;break;case $.ui.keyCode.END:selectedIndex=this.anchors.length-1;break;case $.ui.keyCode.HOME:selectedIndex=0;break;case $.ui.keyCode.SPACE:event.preventDefault();clearTimeout(this.activating);this._activate(selectedIndex);return;case $.ui.keyCode.ENTER:event.preventDefault();clearTimeout(this.activating);this._activate(selectedIndex===this.options.active?false:selectedIndex);return;default:return;}
event.preventDefault();clearTimeout(this.activating);selectedIndex=this._focusNextTab(selectedIndex,goingForward);if(!event.ctrlKey){focusedTab.attr("aria-selected","false");this.tabs.eq(selectedIndex).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",selectedIndex);},this.delay);}},_panelKeydown:function(event){if(this._handlePageNav(event)){return;}
if(event.ctrlKey&&event.keyCode===$.ui.keyCode.UP){event.preventDefault();this.active.focus();}},_handlePageNav:function(event){if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true;}
if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true;}},_findNextTab:function(index,goingForward){var lastTabIndex=this.tabs.length-1;function constrain(){if(index>lastTabIndex){index=0;}
if(index<0){index=lastTabIndex;}
return index;}
while($.inArray(constrain(),this.options.disabled)!==-1){index=goingForward?index+1:index-1;}
return index;},_focusNextTab:function(index,goingForward){index=this._findNextTab(index,goingForward);this.tabs.eq(index).focus();return index;},_setOption:function(key,value){if(key==="active"){this._activate(value);return;}
if(key==="disabled"){this._setupDisabled(value);return;}
this._super(key,value);if(key==="collapsible"){this.element.toggleClass("ui-tabs-collapsible",value);if(!value&&this.options.active===false){this._activate(0);}}
if(key==="event"){this._setupEvents(value);}
if(key==="heightStyle"){this._setupHeightStyle(value);}},_tabId:function(tab){return tab.attr("aria-controls")||"ui-tabs-"+getNextTabId();},_sanitizeSelector:function(hash){return hash?hash.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):"";},refresh:function(){var options=this.options,lis=this.tablist.children(":has(a[href])");options.disabled=$.map(lis.filter(".ui-state-disabled"),function(tab){return lis.index(tab);});this._processTabs();if(options.active===false||!this.anchors.length){options.active=false;this.active=$();}else if(this.active.length&&!$.contains(this.tablist[0],this.active[0])){if(this.tabs.length===options.disabled.length){options.active=false;this.active=$();}else{this._activate(this._findNextTab(Math.max(0,options.active-1),false));}}else{options.active=this.tabs.index(this.active);}
this._refresh();},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0);}else{this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0});this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"});}},_processTabs:function(){var that=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return $("a",this)[0];}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=$();this.anchors.each(function(i,anchor){var selector,panel,panelId,anchorId=$(anchor).uniqueId().attr("id"),tab=$(anchor).closest("li"),originalAriaControls=tab.attr("aria-controls");if(isLocal(anchor)){selector=anchor.hash;panel=that.element.find(that._sanitizeSelector(selector));}else{panelId=that._tabId(tab);selector="#"+panelId;panel=that.element.find(selector);if(!panel.length){panel=that._createPanel(panelId);panel.insertAfter(that.panels[i-1]||that.tablist);}
panel.attr("aria-live","polite");}
if(panel.length){that.panels=that.panels.add(panel);}
if(originalAriaControls){tab.data("ui-tabs-aria-controls",originalAriaControls);}
tab.attr({"aria-controls":selector.substring(1),"aria-labelledby":anchorId});panel.attr("aria-labelledby",anchorId);});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel");},_getList:function(){return this.element.find("ol,ul").eq(0);},_createPanel:function(id){return $("<div>").attr("id",id).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",true);},_setupDisabled:function(disabled){if($.isArray(disabled)){if(!disabled.length){disabled=false;}else if(disabled.length===this.anchors.length){disabled=true;}}
for(var i=0,li;(li=this.tabs[i]);i++){if(disabled===true||$.inArray(i,disabled)!==-1){$(li).addClass("ui-state-disabled").attr("aria-disabled","true");}else{$(li).removeClass("ui-state-disabled").removeAttr("aria-disabled");}}
this.options.disabled=disabled;},_setupEvents:function(event){var events={click:function(event){event.preventDefault();}};if(event){$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler";});}
this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,events);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs);},_setupHeightStyle:function(heightStyle){var maxHeight,parent=this.element.parent();if(heightStyle==="fill"){maxHeight=parent.height();maxHeight-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");if(position==="absolute"||position==="fixed"){return;}
maxHeight-=elem.outerHeight(true);});this.element.children().not(this.panels).each(function(){maxHeight-=$(this).outerHeight(true);});this.panels.each(function(){$(this).height(Math.max(0,maxHeight-
$(this).innerHeight()+$(this).height()));}).css("overflow","auto");}else if(heightStyle==="auto"){maxHeight=0;this.panels.each(function(){maxHeight=Math.max(maxHeight,$(this).height("").height());}).height(maxHeight);}},_eventHandler:function(event){var options=this.options,active=this.active,anchor=$(event.currentTarget),tab=anchor.closest("li"),clickedIsActive=tab[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():this._getPanelForTab(tab),toHide=!active.length?$():this._getPanelForTab(active),eventData={oldTab:active,oldPanel:toHide,newTab:collapsing?$():tab,newPanel:toShow};event.preventDefault();if(tab.hasClass("ui-state-disabled")||tab.hasClass("ui-tabs-loading")||this.running||(clickedIsActive&&!options.collapsible)||(this._trigger("beforeActivate",event,eventData)===false)){return;}
options.active=collapsing?false:this.tabs.index(tab);this.active=clickedIsActive?$():tab;if(this.xhr){this.xhr.abort();}
if(!toHide.length&&!toShow.length){$.error("jQuery UI Tabs: Mismatching fragment identifier.");}
if(toShow.length){this.load(this.tabs.index(tab),event);}
this._toggle(event,eventData);},_toggle:function(event,eventData){var that=this,toShow=eventData.newPanel,toHide=eventData.oldPanel;this.running=true;function complete(){that.running=false;that._trigger("activate",event,eventData);}
function show(){eventData.newTab.closest("li").addClass("ui-tabs-active ui-state-active");if(toShow.length&&that.options.show){that._show(toShow,that.options.show,complete);}else{toShow.show();complete();}}
if(toHide.length&&this.options.hide){this._hide(toHide,this.options.hide,function(){eventData.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");show();});}else{eventData.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");toHide.hide();show();}
toHide.attr({"aria-expanded":"false","aria-hidden":"true"});eventData.oldTab.attr("aria-selected","false");if(toShow.length&&toHide.length){eventData.oldTab.attr("tabIndex",-1);}else if(toShow.length){this.tabs.filter(function(){return $(this).attr("tabIndex")===0;}).attr("tabIndex",-1);}
toShow.attr({"aria-expanded":"true","aria-hidden":"false"});eventData.newTab.attr({"aria-selected":"true",tabIndex:0});},_activate:function(index){var anchor,active=this._findActive(index);if(active[0]===this.active[0]){return;}
if(!active.length){active=this.active;}
anchor=active.find(".ui-tabs-anchor")[0];this._eventHandler({target:anchor,currentTarget:anchor,preventDefault:$.noop});},_findActive:function(index){return index===false?$():this.tabs.eq(index);},_getIndex:function(index){if(typeof index==="string"){index=this.anchors.index(this.anchors.filter("[href$='"+index+"']"));}
return index;},_destroy:function(){if(this.xhr){this.xhr.abort();}
this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){if($.data(this,"ui-tabs-destroy")){$(this).remove();}else{$(this).removeClass("ui-state-default ui-state-active ui-state-disabled "+"ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role");}});this.tabs.each(function(){var li=$(this),prev=li.data("ui-tabs-aria-controls");if(prev){li.attr("aria-controls",prev).removeData("ui-tabs-aria-controls");}else{li.removeAttr("aria-controls");}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","");}},enable:function(index){var disabled=this.options.disabled;if(disabled===false){return;}
if(index===undefined){disabled=false;}else{index=this._getIndex(index);if($.isArray(disabled)){disabled=$.map(disabled,function(num){return num!==index?num:null;});}else{disabled=$.map(this.tabs,function(li,num){return num!==index?num:null;});}}
this._setupDisabled(disabled);},disable:function(index){var disabled=this.options.disabled;if(disabled===true){return;}
if(index===undefined){disabled=true;}else{index=this._getIndex(index);if($.inArray(index,disabled)!==-1){return;}
if($.isArray(disabled)){disabled=$.merge([index],disabled).sort();}else{disabled=[index];}}
this._setupDisabled(disabled);},load:function(index,event){index=this._getIndex(index);var that=this,tab=this.tabs.eq(index),anchor=tab.find(".ui-tabs-anchor"),panel=this._getPanelForTab(tab),eventData={tab:tab,panel:panel};if(isLocal(anchor[0])){return;}
this.xhr=$.ajax(this._ajaxSettings(anchor,event,eventData));if(this.xhr&&this.xhr.statusText!=="canceled"){tab.addClass("ui-tabs-loading");panel.attr("aria-busy","true");this.xhr.success(function(response){setTimeout(function(){panel.html(response);that._trigger("load",event,eventData);},1);}).complete(function(jqXHR,status){setTimeout(function(){if(status==="abort"){that.panels.stop(false,true);}
tab.removeClass("ui-tabs-loading");panel.removeAttr("aria-busy");if(jqXHR===that.xhr){delete that.xhr;}},1);});}},_ajaxSettings:function(anchor,event,eventData){var that=this;return{url:anchor.attr("href"),beforeSend:function(jqXHR,settings){return that._trigger("beforeLoad",event,$.extend({jqXHR:jqXHR,ajaxSettings:settings},eventData));}};},_getPanelForTab:function(tab){var id=$(tab).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+id));}});})(jQuery);(function($){var increments=0;function addDescribedBy(elem,id){var describedby=(elem.attr("aria-describedby")||"").split(/\s+/);describedby.push(id);elem.data("ui-tooltip-id",id).attr("aria-describedby",$.trim(describedby.join(" ")));}
function removeDescribedBy(elem){var id=elem.data("ui-tooltip-id"),describedby=(elem.attr("aria-describedby")||"").split(/\s+/),index=$.inArray(id,describedby);if(index!==-1){describedby.splice(index,1);}
elem.removeData("ui-tooltip-id");describedby=$.trim(describedby.join(" "));if(describedby){elem.attr("aria-describedby",describedby);}else{elem.removeAttr("aria-describedby");}}
$.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var title=$(this).attr("title")||"";return $("<a>").text(title).html();},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,tooltipClass:null,track:false,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};if(this.options.disabled){this._disable();}},_setOption:function(key,value){var that=this;if(key==="disabled"){this[value?"_disable":"_enable"]();this.options[key]=value;return;}
this._super(key,value);if(key==="content"){$.each(this.tooltips,function(id,element){that._updateContent(element);});}},_disable:function(){var that=this;$.each(this.tooltips,function(id,element){var event=$.Event("blur");event.target=event.currentTarget=element[0];that.close(event,true);});this.element.find(this.options.items).addBack().each(function(){var element=$(this);if(element.is("[title]")){element.data("ui-tooltip-title",element.attr("title")).attr("title","");}});},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var element=$(this);if(element.data("ui-tooltip-title")){element.attr("title",element.data("ui-tooltip-title"));}});},open:function(event){var that=this,target=$(event?event.target:this.element).closest(this.options.items);if(!target.length||target.data("ui-tooltip-id")){return;}
if(target.attr("title")){target.data("ui-tooltip-title",target.attr("title"));}
target.data("ui-tooltip-open",true);if(event&&event.type==="mouseover"){target.parents().each(function(){var parent=$(this),blurEvent;if(parent.data("ui-tooltip-open")){blurEvent=$.Event("blur");blurEvent.target=blurEvent.currentTarget=this;that.close(blurEvent,true);}
if(parent.attr("title")){parent.uniqueId();that.parents[this.id]={element:this,title:parent.attr("title")};parent.attr("title","");}});}
this._updateContent(target,event);},_updateContent:function(target,event){var content,contentOption=this.options.content,that=this,eventType=event?event.type:null;if(typeof contentOption==="string"){return this._open(event,target,contentOption);}
content=contentOption.call(target[0],function(response){if(!target.data("ui-tooltip-open")){return;}
that._delay(function(){if(event){event.type=eventType;}
this._open(event,target,response);});});if(content){this._open(event,target,content);}},_open:function(event,target,content){var tooltip,events,delayedShow,positionOption=$.extend({},this.options.position);if(!content){return;}
tooltip=this._find(target);if(tooltip.length){tooltip.find(".ui-tooltip-content").html(content);return;}
if(target.is("[title]")){if(event&&event.type==="mouseover"){target.attr("title","");}else{target.removeAttr("title");}}
tooltip=this._tooltip(target);addDescribedBy(target,tooltip.attr("id"));tooltip.find(".ui-tooltip-content").html(content);function position(event){positionOption.of=event;if(tooltip.is(":hidden")){return;}
tooltip.position(positionOption);}
if(this.options.track&&event&&/^mouse/.test(event.type)){this._on(this.document,{mousemove:position});position(event);}else{tooltip.position($.extend({of:target},this.options.position));}
tooltip.hide();this._show(tooltip,this.options.show);if(this.options.show&&this.options.show.delay){delayedShow=this.delayedShow=setInterval(function(){if(tooltip.is(":visible")){position(positionOption.of);clearInterval(delayedShow);}},$.fx.interval);}
this._trigger("open",event,{tooltip:tooltip});events={keyup:function(event){if(event.keyCode===$.ui.keyCode.ESCAPE){var fakeEvent=$.Event(event);fakeEvent.currentTarget=target[0];this.close(fakeEvent,true);}},remove:function(){this._removeTooltip(tooltip);}};if(!event||event.type==="mouseover"){events.mouseleave="close";}
if(!event||event.type==="focusin"){events.focusout="close";}
this._on(true,target,events);},close:function(event){var that=this,target=$(event?event.currentTarget:this.element),tooltip=this._find(target);if(this.closing){return;}
clearInterval(this.delayedShow);if(target.data("ui-tooltip-title")){target.attr("title",target.data("ui-tooltip-title"));}
removeDescribedBy(target);tooltip.stop(true);this._hide(tooltip,this.options.hide,function(){that._removeTooltip($(this));});target.removeData("ui-tooltip-open");this._off(target,"mouseleave focusout keyup");if(target[0]!==this.element[0]){this._off(target,"remove");}
this._off(this.document,"mousemove");if(event&&event.type==="mouseleave"){$.each(this.parents,function(id,parent){$(parent.element).attr("title",parent.title);delete that.parents[id];});}
this.closing=true;this._trigger("close",event,{tooltip:tooltip});this.closing=false;},_tooltip:function(element){var id="ui-tooltip-"+increments++,tooltip=$("<div>").attr({id:id,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+
(this.options.tooltipClass||""));$("<div>").addClass("ui-tooltip-content").appendTo(tooltip);tooltip.appendTo(this.document[0].body);this.tooltips[id]=element;return tooltip;},_find:function(target){var id=target.data("ui-tooltip-id");return id?$("#"+id):$();},_removeTooltip:function(tooltip){tooltip.remove();delete this.tooltips[tooltip.attr("id")];},_destroy:function(){var that=this;$.each(this.tooltips,function(id,element){var event=$.Event("blur");event.target=event.currentTarget=element[0];that.close(event,true);$("#"+id).remove();if(element.data("ui-tooltip-title")){element.attr("title",element.data("ui-tooltip-title"));element.removeData("ui-tooltip-title");}});}});}(jQuery));function openSeperateWindow(pageToLoad,winName,width,height,center)
{if(winName=='popuptip'){loc=2;}else{loc=0;}
args=getArgs(width,height,center,0,loc);if((parseInt(navigator.appVersion)>=4)&&(center)){if(window.sepwindow){sepwindow.close();sepwindow=window.open(pageToLoad,winName,args);}}
sepwindow=window.open(pageToLoad,winName,args);return false;}
function openGlobalhelp(pageToLoad,winName,width,height,center){if(winName=='popuptip'){loc=2;}else{loc=0;}
args=getArgs(width,height,center,0,loc);if((parseInt(navigator.appVersion)>=4)&&(center)){if(window.globalhelp){globalhelp.close();globalhelp=window.open(pageToLoad,winName,args);}}
globalhelp=window.open(pageToLoad,winName,args);return false;}
function getArgs(width,height,center,menu,loc){xposition=10;yposition=10;if((parseInt(navigator.appVersion)>=4)&&(center)){if(loc==0){xposition=(screen.width-width)-10;yposition=(screen.height-height)-58;}else if(loc==1){xposition=(screen.width-width)/2;yposition=((screen.height-height)/2)-67;}else if(loc==2){xposition=(screen.width-width)-10;yposition=0;}}
if(navigator.appName=='Netscape'){width=width+25;height=height+25;}
args="width="+width+",height="+height+",toolbar="+menu+",menubar="+menu
+",screenx="+xposition+",screeny="+yposition+",left="+xposition+",top="+
yposition+",resizable=1,scrollbars=1,";return args;}
function openSizedWindow(url,winname){if((navigator.appName=="Microsoft Internet Explorer")&&(parseFloat(navigator.appVersion)<4))
{return false;}
var parms='width=750'+',height=450'+',screenX=0'+',screenY=0'+',left=0'+',top=0'+',status=yes,toolbar=yes,menubar=yes,location=yes'+',scrollbars=yes,resizable=yes';win=window.open(url,winname,parms);win.focus();return false;}
function openBareWindow(url,winname){if((navigator.appName=="Microsoft Internet Explorer")&&(parseFloat(navigator.appVersion)<4))
{return false;}
var parms='width=750'+',height=450'+',screenX=0'+',screenY=0'+',left=0'+',top=0'+',status=no,toolbar=no,menubar=no,location=no'+',scrollbars=no,resizable=no';win=window.open(url,winname,parms);win.focus();return false;}
function openPopUpWindow(url,title,width,height,pos,menubar,toolbar,status,resizable,scrollbars,location){var features=createWindowFeatures(width,height,pos,menubar,toolbar,status,resizable,scrollbars,location);return window.open(url,title,features);}
function createWindowFeatures(width,height,pos,menubar,toolbar,status,resizable,scrollbars,location){var xpos=0;var ypos=0;var xfudge=20;var yfudge=40;switch(pos){case 1:xpos=0;ypos=0;break;case 2:xpos=(screen.width-width-xfudge)/2;ypos=0;break;case 3:xpos=screen.width-width-xfudge;ypos=0;break;case 4:xpos=0;ypos=(screen.height-height-yfudge)/2;break;case 5:xpos=(screen.width-width-xfudge)/2;ypos=(screen.height-height-yfudge)/2;break;case 6:xpos=screen.width-width-xfudge;ypos=(screen.height-height-yfudge)/2;break;case 7:xpos=0;ypos=(screen.height-height-yfudge);break;case 8:xpos=(screen.width-width-xfudge)/2;ypos=(screen.height-height-yfudge);break;case 9:xpos=(screen.width-width-xfudge);ypos=(screen.height-height-yfudge-20);break;case 10:xpos=(screen.width-width-10);ypos=0;break;}
args="width="+width+",height="+height+",screenx="+xpos+",left="+xpos+",screeny="+ypos+",top="+ypos+",menubar="+menubar+",toolbar="+toolbar+",location="+location+",status="+status+",resizable="+resizable+",scrollbars="+scrollbars;return args;}
function getJSCheckedUrl(url){url=url+"&javascript=t";return url;}
function getIEVersion(){var ua=window.navigator.userAgent;var msie=ua.indexOf('MSIE ');if(msie>0){return parseInt(ua.substring(msie+5,ua.indexOf('.',msie)),10);}
var trident=ua.indexOf('Trident/');if(trident>0){var rv=ua.indexOf('rv:');return parseInt(ua.substring(rv+3,ua.indexOf('.',rv)),10);}
var edge=ua.indexOf('Edge/');if(edge>0){return parseInt(ua.substring(edge+5,ua.indexOf('.',edge)),10);}
return false;}
function clearForm(form){for(var i=0;i<form.elements.length;i++){if(form.elements[i].type!="hidden"){if(form.elements[i].type=="checkbox"){form.elements[i].checked=false;}else{form.elements[i].value="";}}}
return false;}
function flipLogin(button,from){if(from=="loginbox"){var t=jQuery('#loginBox');var u=jQuery('#loginPlus');if(t.css('display')=="none"){t.css('display','block');u.removeClass('plus');u.addClass('minus bg2');}else{t.css('display','none');u.removeClass('minus bg2');u.addClass('plus');}
showLoginBoxPos();}
if(from=="logoutbox"){var t=jQuery('#logoutBox');var u=jQuery('#logoutPlus');if(t.css('display')=="none"){t.css('display','block');u.removeClass('plus');u.addClass('minus bg2');}else{t.css('display','none');u.removeClass('minus bg2');u.addClass('plus');}
showLogoutBoxPos();}}
function showLoginBoxPos(){var divJSLogin=jQuery('#divJSLogin');var divJSLoginWidth=jQuery('#divJSLogin').width();var loginBox=jQuery("#loginBox");var divJSLoginLeftPos=divJSLogin.offset().left;var totalWidthPos=divJSLoginLeftPos+divJSLoginWidth;var windowWidth=jQuery(window).width();loginBox.css('right',windowWidth-totalWidthPos);}
function showLogoutBoxPos(){var logoutPlus=jQuery('a#logoutPlus');var logoutPlusWidth=logoutPlus.width()+20;var logoutBox=jQuery("#logoutBox");var logoutPlusLeftPos=logoutPlus.offset().left;var totalWidthPos=logoutPlusLeftPos+logoutPlusWidth;var windowWidth=jQuery(window).width();logoutBox.css({'right':windowWidth-totalWidthPos,'top':'26px'});}
function submitForm(actionUri){var associationForm=document.getElementById("associationForm");associationForm.action=actionUri;jQuery("#associationForm input[name=http_method_name]").val("GET");associationForm.submit();}
jQuery.fn.selectRange=function(start,end){if(!end)end=start;return this.each(function(){if(this.setSelectionRange){this.focus();this.setSelectionRange(start,end);}else if(this.createTextRange){var range=this.createTextRange();range.collapse(true);range.moveEnd('character',end);range.moveStart('character',start);range.select();}});};function placeHolderInit(){var placeHolderSupport=false;var test=document.createElement('input');if('placeholder'in test)placeHolderSupport=true;if(!placeHolderSupport){jQuery('[placeholder]').unbind('keydown,blur,click').click(function(){jQuery(this).focus();jQuery(this).selectRange(0);}).keydown(function(){var input=jQuery(this);if(input.val()==input.attr('placeholder')){input.val('');input.removeClass('placeholder');}}).blur(function(){var input=jQuery(this);if(input.val()==''||input.val()==input.attr('placeholder')){input.addClass('placeholder');input.val(input.attr('placeholder'));}}).blur().parents('form').submit(function(){jQuery(this).find('[placeholder]').each(function(){var input=jQuery(this);if(input.val()==input.attr('placeholder')){input.val('');}});});}}
function processAlertClick(button){jQuery("#alertClick").val(button);document.SourceInfoForm.submit();}
jQuery(document).ready(function(){var txtZoneMsgBar=jQuery('#messageBar');if(txtZoneMsgBar.length){if(jQuery.trim(jQuery('#messageBar div').html())!=''){txtZoneMsgBar.addClass('displayBlock').removeClass('displayNone');}else{txtZoneMsgBar.addClass('displayNone').removeClass('displayBlock');}}
var pipeObj=jQuery("#hasjs");if(pipeObj!=null&&pipeObj!='undefined'&&pipeObj!=''){pipeObj.parent().css("background","none");}
if(jQuery('#logout_username').length&&jQuery('#settings-panel').length){myScopusCarsResponse();jQuery(window).resize(function(){setMyScopusPanelHeight();});}
if(jQuery('.ie9InfoMsgCnt').length){if(getIEVersion()==9){jQuery('.ie9InfoMsgCnt').removeClass('displayNone');}
else{jQuery('.ie9InfoMsgCnt').addClass('displayNone');}}});function myScopusCarsResponse(){var getLoginUserName=jQuery('#logout_username').text();var myScopusTxt=jQuery('#mainNav .myScopusTxt').text();jQuery('#settings-panel .CARS_panelTitle').html('<span>'+myScopusTxt+'</span><label class="carsUsrName">- '+getLoginUserName+'</label>').css({'display':'block'});setMyScopusPanelHeight();}
function setMyScopusPanelHeight(){jQuery('#settings-app-links-top').height('');jQuery('#modify-profile-group').height('');var settingAppLinksHeight=jQuery('#settings-app-links-top').height();var modifyProfileGrpHeight=jQuery('#modify-profile-group').height();if(settingAppLinksHeight>modifyProfileGrpHeight){jQuery('#modify-profile-group').css({'height':settingAppLinksHeight});}
else if(settingAppLinksHeight<modifyProfileGrpHeight){jQuery('#settings-app-links-top').css({'height':modifyProfileGrpHeight});}}
var InfoBubble={bubbleTimeout:2,currentBubble:null,timeoutBubbleID:null,show:function(aID){var aBubble=document.getElementById(aID);if(aBubble&&aBubble!=this.currentBubble){this.hide();aBubble.style.display='inline';this.currentBubble=aBubble;}
if(this.timeoutBubbleID){clearTimeout(this.timeoutBubbleID);}},hide:function(){if(this.currentBubble){this.currentBubble.style.display='none';this.currentBubble=null;if(this.timeoutBubbleID){clearTimeout(this.timeoutBubbleID);}}},timeout:function(){this.timeoutBubbleID=setTimeout('InfoBubble.hide()',this.bubbleTimeout*1000);}};function assertNotEmpty(control){assertNotEmpty(control,'');}
function assertNotEmpty(control,message){var reg=/\S/g;if(control.value==null||control.value==''||control.value.match(reg)==null){if(message!=null&&message!=''){alert(message);}
control.focus();control.select();return false;}
return true;}
function assertNotEmptyString(thisString){var reg=/\S/g;if(thisString==null||thisString==''||thisString.match(reg)==null){return false;}
return true;}
function assertChecked(control,message){if(control==null){return false;}
var isChecked=false;if((typeof(control)=="object")||(typeof(control)=="function")){if(control[0]!=undefined){for(var i=0;i<control.length;++i){if(control[i].checked){isChecked=control[i].checked;break;}}}
else{isChecked=control.checked;}}
if(arguments.length>1){if(!isChecked){if((message!=null)&&(message!="")){alert(message);}}}
return isChecked;}
var SortData={buildNav:function(isPreview){var primaryNavSize=SortData.NavItems.primaryNav.length;var isSelectedInPrimary=false;var isSelectedInSecondary=false;var replacerInPrimary=[];var sortNav=["<UL id='sortMainNav'>"];var keyArr=[];for(var i=0;i<primaryNavSize;i++){var navLinkClass=isPreview?"sortLinkNormal previewTxt":"sortLinkNormal";var navObj=SortData.NavItems.primaryNav[i];var key=navObj.key;var value=navObj.value;var title=navObj.title;var hrefVal=['href="#sort',value,'"'];if(SortData.selectedNav===key){isSelectedInPrimary=true;navLinkClass="sortLinkSelected";hrefVal=[];}
else{keyArr.push(key);}
if(!isSelectedInPrimary&&i===(primaryNavSize-1)){replacerInPrimary=["<li>",'<a id="',key,'" href="#sort',value,'" class="',navLinkClass,'" title="',title,'">',value,"</a></li>"];}
else{sortNav.push("<li>",'<a id="',key,'" ',hrefVal.join(''),' class="',navLinkClass,'" title="',title,'">',value,"</a></li>");}}
var secondaryNavSize=SortData.NavItems.secondaryNav.length;var bubbleNav=['<div class="bubble-source-data" id="showSortBubble-data"><ul id="sortBubbleNav">'];if(!isSelectedInPrimary){bubbleNav.push(replacerInPrimary.join(''));}
for(var i=0;i<secondaryNavSize;i++){var navLinkClass="sortLinkNormal";var navObj=SortData.NavItems.secondaryNav[i];var key=navObj.key;var value=navObj.value;var title=navObj.title;if(SortData.selectedNav===key){isSelectedInSecondary=true;navLinkClass="sortLinkSelected";sortNav.push("<li>",'<a id="',key,'" class="',navLinkClass,'" href="#sort',value,'" title="',title,'">',value,"</a></li>");}
else{bubbleNav.push("<li>",'<a id="',key,'" class="',navLinkClass,'" href="#sort',value,'" title="',title,'">',value,"</a></li>");keyArr.push(key);}}
bubbleNav.push('</ul></div>');sortNav.push('<li><a id="showSortBubble"  class="',isPreview?' bubbleLinkPreview':'bubbleLink','" title="',SortData.NavItems.otherTitle,'"',isPreview?"":'href="#showMoreSort"',' alt="',SortData.NavItems.otherTitle,'"',' ><span class="hidden-label">',SortData.NavItems.otherTitle,'</span><span aria-hidden="true">...</span></a></li>');sortNav.push("</ul>");jQuery("#navLoad").hide();jQuery("#sortNav").append(sortNav.join(''));if(!isSelectedInPrimary&&!isSelectedInSecondary){jQuery("#sortMainNav li:eq(0) a").removeClass("sortLinkNormal").addClass("sortLinkSelected").removeAttr("href");}
if(!isPreview){jQuery("#sortNav").append(bubbleNav.join(''));jQuery("#showSortBubble").unbind("click focus blur").bind("click",{position:Bubble.positionRight},Bubble.showBubble).bind('focus blur',SortData.bubbleFocus);jQuery("#sortNav").off("click.sort").on("click.sort",'a.sortLinkNormal',SortData.sortNavClick);jQuery("a.sortLinkSelected").die("click");}
else{jQuery("#sortNav").addClass("navPreview");}},bubbleFocus:function(event){if(event.type=="focus"){jQuery(event.target).addClass("bubbleLinkHover");}
else{jQuery(event.target).removeClass("bubbleLinkHover");}},authSortNavClick:function(event){var clickedId=event.target.id;sortField(clickedId,'sort',document.forms[formname]);jQuery("#"+clickedId).css("cursor","progress");return false;},docSortNavClick:function(event){var clickedId=event.target.id;sortFieldSub(clickedId,'sortField',document.SearchResultsForm);jQuery("#"+clickedId).css("cursor","progress");return false;}};var listItemHover={HoverTimer:150,init:function(){jQuery('#srchResultsList ul.resultItemLists li, #authPrevResultsList ul.resultItemLists li, #srchResultsListPopUp ul.resultItemLists li, #srchResultsList ul.coAuthList li').live('mouseenter',function(){jQuery(this).attr('data-hover','true');var obj=this;window.setTimeout(function(){listItemHover.onmouseoverLI(obj);},listItemHover.HoverTimer);});jQuery('#srchResultsList ul.resultItemLists li, #authPrevResultsList ul.resultItemLists li, #srchResultsListPopUp ul.resultItemLists li, #srchResultsList ul.coAuthList li').live('mouseleave',function(){jQuery(this).attr('data-hover','false');jQuery(this).removeClass('listItemHover');});jQuery('#srchResultsList ul.resultItemLists li input[type="checkbox"], #srchResultsList ul.resultItemLists li a, #authPrevResultsList ul.resultItemLists li input[type="checkbox"],#authPrevResultsList ul.resultItemLists li a,#srchResultsListPopUp ul.resultItemLists li input[type="checkbox"], #srchResultsListPopUp ul.resultItemLists li a').live('focus',listItemHover.addEffect);jQuery("#resultsPerPageSelectBoxIt").live('focus',function(event){var element=jQuery("ul.resultItemLists");element=element.find("li.listItemHover");if(element.length){listItemHover.removeEffect(element);}});},onmouseoverLI:function(obj){if(jQuery(obj).attr('data-hover')=='true'&&!jQuery(obj).hasClass('listItemHover')){jQuery(obj).addClass('listItemHover');}},addEffect:function(event){var element=jQuery(event.target);if(!element.is("li")){element=jQuery(element).closest("li");}
jQuery(element).attr('data-hover','true');window.setTimeout(function(){listItemHover.onmouseoverLI(element);},listItemHover.HoverTimer);var previousLI=jQuery(element).prev("li.listItemHover");listItemHover.removeEffect(previousLI);var previousLI=jQuery(element).next("li.listItemHover");listItemHover.removeEffect(previousLI);},removeEffect:function(element){jQuery(element).attr('data-hover','false');jQuery(element).removeClass('listItemHover');}};var listItemHoverCib={HoverTimer:150,init:function(){jQuery('div.listPadding').live('mouseenter',function(){jQuery(this).attr('data-hover','true');var obj=this;window.setTimeout(function(){listItemHoverCib.onmouseoverLI(obj);},listItemHoverCib.HoverTimer);});jQuery('div.listPadding').live('mouseleave',function(){jQuery(this).attr('data-hover','false');jQuery(this).removeClass('listItemHoverCib');});jQuery('div.listPadding a').live('focus',listItemHoverCib.addEffect);jQuery("#resultsPerPageSelectBoxIt").live('focus',function(event){var element=jQuery("ul.resultItemLists");element=element.find("div.listItemHoverCib");if(element.length){listItemHoverCib.removeEffect(element);}});},onmouseoverLI:function(obj){if(jQuery(obj).attr('data-hover')=='true'&&!jQuery(obj).hasClass('listItemHoverCib')){jQuery(obj).addClass('listItemHoverCib');}},addEffect:function(event){var element=jQuery(event.target);if(!element.is("div")){element=jQuery(element).closest("div");}
jQuery(element).attr('data-hover','true');window.setTimeout(function(){listItemHoverCib.onmouseoverLI(element);},listItemHoverCib.HoverTimer);var previousLI=jQuery(element).prev("div.listItemHoverCib");listItemHoverCib.removeEffect(previousLI);var previousLI=jQuery(element).next("div.listItemHoverCib");listItemHoverCib.removeEffect(previousLI);},removeEffect:function(element){jQuery(element).attr('data-hover','false');jQuery(element).removeClass('listItemHoverCib');}};var enableDisableLmtExcBtn={init:function(){jQuery('#sRefineResults').on('click','input:checkbox',function(){var isClusterChecked=true;if(jQuery("#sRefineResults input#exactSearch:checkbox:checked").length>0&&jQuery("#sRefineResults input:checkbox:checked").length==1){isClusterChecked=false;}
if(jQuery("#sRefineResults input:checkbox:checked").length>0&&isClusterChecked){jQuery("#sRefineResults .refineButtons input:submit").removeClass('btnLmtExcDisabled').addClass('btnLmtExcEnable').removeAttr('disabled');if(jQuery(this).closest('div.dummyNav').find("input:checkbox:checked").length>0){jQuery(this).closest('div.dummyNav').find("div.navOverlayItems input:submit").removeClass('btnLmtExcDisabled').addClass('btnLmtExcEnable').removeAttr('disabled');}else{jQuery(this).closest('div.dummyNav').find("div.navOverlayItems input:submit").addClass('btnLmtExcDisabled').removeClass('btnLmtExcEnable').attr('disabled','disabled');}
validateLmtExc();}
else{jQuery("#sRefineResults div.refineButtons input:submit").addClass('btnLmtExcDisabled').removeClass('btnLmtExcEnable').attr('disabled','disabled');jQuery("#sRefineResults div.navOverlayItems input:submit").addClass('btnLmtExcDisabled').removeClass('btnLmtExcEnable').attr('disabled','disabled');}});jQuery('#sRefineResults div.refineButtons input:submit,#sRefineResults div.overlayButtons input:submit').on('click',function(e){if(jQuery(this).hasClass('btnLmtExcDisabled')){e.preventDefault();}});if(jQuery.browser.mozilla){jQuery('.btnLmtExcDisabled,.btnLmtExcEnable').css({'padding':'0px 7px 2px'});}},noItemsSelected:function(){if(jQuery("#sRefineResults input:checkbox:checked").length>0){jQuery("#sRefineResults .refineButtons input:submit").removeClass('btnLmtExcDisabled').addClass('btnLmtExcEnable').removeAttr('disabled');jQuery('#sRefineResults div.navOverlayItems input:submit').removeClass('btnLmtExcDisabled').addClass('btnLmtExcEnable').removeAttr('disabled');validateLmtExc();}
else{jQuery("#sRefineResults div.refineButtons input:submit").addClass('btnLmtExcDisabled').removeClass('btnLmtExcEnable').attr('disabled','disabled');jQuery("#sRefineResults div.navOverlayItems input:submit").addClass('btnLmtExcDisabled').removeClass('btnLmtExcEnable').attr('disabled','disabled');jQuery("#sRefineResults div.navOverlayItems #showAnalyzeSources input").addClass('btnLmtExcEnable').removeClass('btnLmtExcDisabled').removeAttr('disabled');}}};function validateLmtExc(){jQuery('body').on('click','.btnLmtExcEnable',function(){var limitToBtn=jQuery(this).hasClass('limitToButton');var excludeBtn=jQuery(this).hasClass('excludeButton');if(limitToBtn){ValidateClusters('limit to');}
else if(excludeBtn){ValidateClusters('exclude');}});}
var Bubble={positionRight:"R",positionLeft:"L",positionCenter:"C",positionLeftDown:"LD",positionRightLeft:"RL",positionUnknown:"U",isBubbleVisible:{},elementIds:[],setDataBack:true,hideCallback:''};Bubble.showBubble=function(event){event.data.target=event.currentTarget;Bubble.show(event.data);if(jQuery.isFunction(event.preventDefault)){event.preventDefault();}};Bubble.show=function(data){var $position=data.position;if(typeof data.setDataBack!='undefined'){Bubble.setDataBack=data.setDataBack;}
if(typeof data.hideCallback!='undefined'){Bubble.hideCallback=data.hideCallback;}
var $element=jQuery(data.target),elementId=$element.attr("id"),$bubble=jQuery("#bubble-"+elementId),$bubbleContent=jQuery("#bubbleContent-"+elementId),$bubbleArrow=jQuery("#bubbleArrow-"+elementId),$dataElement=jQuery("#"+elementId+"-data");if(Bubble.isBubbleVisible[elementId]){Bubble.isBubbleVisible[elementId]=!Bubble.isBubbleVisible[elementId];if($dataElement.size()>0){var contentData=$bubbleContent.html();$dataElement.html(contentData);$bubbleContent.html('');var arrayIndex=jQuery.inArray(elementId,Bubble.elementIds);if(arrayIndex>-1){Bubble.elementIds.splice(arrayIndex,1);}}
if(jQuery.isFunction(Bubble.hideCallback)){Bubble.hideCallback();}}else{Bubble.isBubbleVisible[elementId]=true;if($bubble.length===0){$bubble=jQuery("<span>").attr("id","bubble-"+elementId).addClass("bubble");$element.parent().append($bubble);$bubbleContent=jQuery("<span>").attr("id","bubbleContent-"+elementId).addClass("bubble-content");$bubbleArrow=jQuery("<span>").attr("id","bubbleArrow-"+elementId).addClass("bubble-arrow");$bubble.append($bubbleContent).append($bubbleArrow);}
$bubbleArrow.removeClass("bubble-arrow-right");$bubbleArrow.removeClass("bubble-arrow-left");if($dataElement.size()>0){var contentData=$dataElement.html();$bubbleContent.html(contentData);$dataElement.html('');}
else{$bubbleContent.html("No data available to display");}
if(jQuery.inArray(elementId,Bubble.elementIds)==-1){Bubble.elementIds.push(elementId);}
if($position===Bubble.positionLeft){Bubble.setLeft({$element:$element,$bubbleArrow:$bubbleArrow,$bubble:$bubble,$bubbleContent:$bubbleContent});}
else if($position===Bubble.positionRight){Bubble.setRight({$element:$element,$bubbleArrow:$bubbleArrow,$bubble:$bubble,$bubbleContent:$bubbleContent});}
else if($position===Bubble.positionCenter){Bubble.setCenter({$element:$element,$bubbleArrow:$bubbleArrow,$bubble:$bubble,$bubbleContent:$bubbleContent});}
else if($position===Bubble.positionLeftDown){Bubble.setLeftDown({$element:$element,$bubbleArrow:$bubbleArrow,$bubble:$bubble,$bubbleContent:$bubbleContent});}
else if($position===Bubble.positionRightLeft){Bubble.setRightLeft({$element:$element,$bubbleArrow:$bubbleArrow,$bubble:$bubble,$bubbleContent:$bubbleContent});}
else{Bubble.setWithElementLocation({$element:$element,$bubbleArrow:$bubbleArrow,$bubble:$bubble,$bubbleContent:$bubbleContent});}}
$bubble.toggle();};Bubble.hide=function(e){var elementId=e.data.elementId;if(Bubble.isBubbleVisible[elementId]){Bubble.isBubbleVisible[elementId]=!Bubble.isBubbleVisible[elementId];var $bubble=jQuery("#bubble-"+elementId),$bubbleContent=jQuery("#bubbleContent-"+elementId);if(Bubble.setDataBack){var data=$bubbleContent.html(),$dataElement=jQuery("#"+elementId+"-data");$dataElement.html(data);}
$bubbleContent.html('');var arrayIndex=jQuery.inArray(elementId,Bubble.elementIds);if(arrayIndex>-1){Bubble.elementIds.splice(arrayIndex,1);}
$bubble.toggle();}
if(jQuery.isFunction(Bubble.hideCallback)){Bubble.hideCallback();}};Bubble.forceHideAll=function(e){var bubbleCnt=Bubble.elementIds.length;for(var i=0;i<bubbleCnt;i++){var elementId=Bubble.elementIds[i];e["data"]={'elementId':elementId};Bubble.hide(e);}};Bubble.hideAll=function(e){var bubbleCnt=Bubble.elementIds.length;for(var i=0;i<bubbleCnt;i++){var elementId=Bubble.elementIds[i];if(!jQuery(e.target).closest('#'+elementId)[0]&&!jQuery(e.target).closest('#bubble-'+elementId)[0]){e["data"]={'elementId':elementId};Bubble.hide(e);}}};Bubble.setRight=function(data){var element=data.$element.get(0);var top=jQuery(element).position().top+data.$element.outerHeight();var bubbleWidth=data.$bubble.outerWidth();var right=jQuery(element).position().left-(bubbleWidth-(data.$element.outerWidth()));data.$bubbleArrow.addClass("bubble-arrow-right");data.$bubbleArrow.css({left:(bubbleWidth-32)+"px"});data.$bubble.css({top:top+"px",left:right+"px"});};Bubble.setCenter=function(data){var element=data.$element.get(0);var top=jQuery(element).position().top+data.$element.outerHeight();var center=parseInt(data.$element.outerWidth()/2);var bubbleWidth=data.$bubble.outerWidth();var left=jQuery(element).position().left+center;var bubbleCenter=left-(bubbleWidth/2);data.$bubbleArrow.css({left:(bubbleWidth/2)+"px"});data.$bubbleArrow.addClass("bubble-arrow-center")
data.$bubble.css({top:top+"px",left:bubbleCenter+"px"});};Bubble.setLeftDown=function(data){var element=data.$element.get(0);var bottom=jQuery(element).position().top+data.$element.outerHeight();var center=parseInt(data.$element.outerWidth()/2);var bubbleWidth=data.$bubble.outerWidth();var bubbleHeight=data.$bubble.outerHeight();var left=jQuery(element).position().left+center;var bubbleCenter=left-(bubbleWidth/2);data.$bubbleArrow.css({'left':Math.floor(bubbleWidth/4),'top':(bubbleHeight+11)});data.$bubbleArrow.addClass("bubble-arrow-center")
data.$bubble.css({bottom:bottom,left:bubbleCenter,top:'auto'});};Bubble.setLeft=function(data){var element=data.$element.get(0);var top=jQuery(element).position().top+data.$element.outerHeight();var bubbleWidth=data.$bubble.outerWidth();var right=jQuery(element).position().left-12;data.$bubbleArrow.css({width:bubbleWidth+"px",left:5+"px"});data.$bubble.css({top:top+"px",left:right+"px"});};Bubble.setRightLeft=function(data){var element=data.$element.get(0);var top=jQuery(element).position().top+data.$element.outerHeight();var bubbleWidth=data.$bubble.outerWidth();var right=jQuery(element).position().left-(bubbleWidth*.88);data.$bubbleArrow.css({left:(bubbleWidth*.86)});data.$bubble.css({top:top+"px",left:right+"px"});};Bubble.setWithElementLocation=function(data){var $element=data.$element.get(0);var top=$element.position().top;var left=$element.position().left;var height=$element.outerHeight();var width=$element.outerWidth();var bubbleWidth=$bubble.outerWidth();var bubbleLeft=(left+(width/2))-bubbleWidth/2;var arrowLeft=(bubbleWidth/2.5);$bubble.css({top:(top+height)+"px",left:bubbleLeft+"px"});$bubbleArrow.css("left",arrowLeft+"px");if(bubbleWidth>width){var windowWidth=jQuery(window).width();var right=windowWidth-(left+width);if(right<bubbleWidth){bubbleLeft=windowWidth-(bubbleWidth+right);$bubble.css({left:bubbleLeft+"px"});$bubbleArrow.css({left:(bubbleWidth)+"px"});$bubbleArrow.addClass("bubble-arrow-right");}
else if(bubbleLeft<bubbleWidth){bubbleLeft=left;var arrowLeft=left-4;$bubbleArrow.css({left:arrowLeft+"px"});$bubbleArrow.addClass("bubble-arrow-left");$bubble.css({left:bubbleLeft+"px"});}}};var previewabstractrow=null;var previewAbstract=null;var plusminus=null;var previewAbstractLinkText=null;var absPreviewBaseUrl="abstractpreview.uri";var allAbstractsRetrieved=false;var count=0;var resultsPerPage=0;var offset=0;var clusterRowDisplayCount=0;var gWorking=false;if(document.getElementById('previewAllAbstractsLinkText')!=null){document.getElementById('previewAllAbstractsLinkText').style.display="inline";}
function toggleShowAbstract(closed,limit,sort,showAllAbstractSelected,originationType,resultsCount,rowID,EID){if(document.SearchResultsForm.sort!=null){sort=document.SearchResultsForm.sort.value;}
if(gWorking){if(closed){jQuery('#previewAbstractLinkText'+rowID.toString()).html(reterivingVar+"...").removeClass("openpreview").addClass("abstractRetrieving");}
setTimeout("toggleShowAbstract('"+closed+"','"+limit+"','"+sort+"','"+showAllAbstractSelected+"','"+originationType+"','"+resultsCount+"','"+rowID+"','"+EID+"')",1000);return false;}
gWorking=true;$previewAbstractLinkObj=jQuery('#previewAbstractLinkText'+rowID+" a");$previewAbstractLinkTextObj=jQuery('#previewAbstractLinkText'+rowID);previewAbstractLinkText=document.getElementById('previewAbstractLinkText'+rowID.toString());previewAbstract=document.getElementById('previewAbstract'+rowID.toString());if(closed){var classes="closepreview";previewAbstractLinkText.innerHTML=reterivingVar+"...";AllAbstract.showAbstract(rowID);if(previewAbstract.innerHTML==""||allAbstractsRetrieved==false){computeCount(limit,sort,originationType,resultsCount,EID,rowID);}else{if(EID!=null){logRecordPageKeyEvent(EID,rowID);}
previewAbstractLinkText.innerHTML='<a href="#" class="'+classes+'" onclick="return toggleShowAbstract(false,'+limit+',\''+sort+'\','+showAllAbstractSelected+',\''+originationType+'\',\''+resultsCount+'\','+rowID+', \''+'null'+'\')">'+hideAbstract+'</a>';gWorking=false;}}else{var classes="openpreview";AllAbstract.hideAbstract(rowID);previewAbstractLinkText.innerHTML='<a href="#" class="'+classes+'" onclick="return toggleShowAbstract(true,'+limit+',\''+sort+'\','+showAllAbstractSelected+',\''+originationType+'\',\''+resultsCount+'\','+rowID+', \''+EID+'\')">'+showAbstract+'</a>';gWorking=false;}
return false;}
var AllAbstract={SHOW:"show",HIDE:"hide",ShowTime:300,HideTime:300,previewAbstractLinkTextInnerHtmls:{},toggleAllAbstracts:function(event){var params=event.data;var showHideState=params.showHideState;var $previewAllAbstractLink=jQuery('#previewAllAbstractsLinkText a');var $previewAbstractLinkText=null;var $previewAbstractLink=null;var sort=params.sort;if(document.SearchResultsForm.sort!=null){sort=document.SearchResultsForm.sort.value;}
var param={isClosed:true,limit:params.limit,sort:params.sort,showAllAbstractSelected:params.showAllAbstractSelected,originationType:params.originationType,resultsCount:params.resultsCount,rowId:0,EId:null};if(showHideState===AllAbstract.HIDE&&allAbstractsRetrieved===true){params.showHideState=AllAbstract.SHOW;$previewAllAbstractLink.attr("onclick","").html(toggleShowAbstractAll).unbind("click").click(params,AllAbstract.toggleAllAbstracts);setShowHideSessionState(showHideState,sort,params.resultsCount,params.originationType);for(var i=1;i<=resultsPerPage;i++){$previewAbstractLink=jQuery('#previewAbstractLinkText'+i+" a");param.rowId=i;if($previewAbstractLink.length){$previewAbstractLink.html(showAbstract).attr("onclick",'return toggleShowAbstract(true,'+params.limit+',\''+params.sort+'\','+params.showAllAbstractSelected+',\''+params.originationType+'\',\''+params.resultsCount+'\','+i+', \'null\')').removeClass("closepreview").addClass('openpreview');}
AllAbstract.hideAbstract(i);}}
else if(showHideState==AllAbstract.SHOW){params.showHideState=AllAbstract.HIDE;$previewAllAbstractLink.html(toggleHideAbstractAll).prop("onclick",null).unbind("click").click(params,AllAbstract.toggleAllAbstracts);if(params.showAllAbstractSelected==true||allAbstractsRetrieved==true){for(var i=1;i<=resultsPerPage;i++){$previewAbstractLink=jQuery('#previewAbstractLinkText'+i+" a");param.rowId=i;param.isClosed=false;if($previewAbstractLink!=null&&$previewAbstractLink.length){$previewAbstractLink.html(hideAbstract).attr("onclick",'return toggleShowAbstract(false,'+params.limit+',\''+params.sort+'\','+params.showAllAbstractSelected+',\''+params.originationType+'\',\''+params.resultsCount+'\','+i+', \'null\')').removeClass("openpreview").addClass('closepreview');}
AllAbstract.showAbstract(i);}
setShowHideSessionState(showHideState,sort,params.resultsCount,params.originationType);}
else{showAllAbstractSelected=true;for(var i=1;i<=resultsPerPage;i++){$previewAbstractLinkText=jQuery('#previewAbstractLinkText'+i);if($previewAbstractLinkText!=null&&$previewAbstractLinkText.lenght){previewAbstractLinkTextInnerHtmls[i]=$previewAbstractLinkText.html();$previewAbstractLinkText.html(reterivingVar+"...").addClass('abstractRetrieving').removeClass("openpreview");}}
computeCount(params.limit,params.sort,params.originationType,params.resultsCount,null,null);}}},toggleShowAbstract:function(event){var data=event.data;toggleShowAbstract(data.isClosed,data.limit,data.sort,data.showAllAbstractSelected,data.originationType,data.resultsCount,data.rowId,data.EId);},showAbstract:function(rowId){var $previewabstractrow=jQuery("#previewabstractrow"+rowId);if($previewabstractrow.length>0){$previewabstractrow.parent().addClass("noborder");$previewabstractrow.slideDown(AllAbstract.ShowTime);}},hideAbstract:function(rowId){var $previewabstractrow=jQuery("#previewabstractrow"+rowId);if($previewabstractrow.length>0){$previewabstractrow.slideUp(AllAbstract.HideTime);$previewabstractrow.parent().removeClass("noborder");}}};var allAbsPreviewBaseUrl="showallabstractspreview.uri";function toggleShowAllAbstracts(showHideState,limit,sort,showAllAbstractSelected,originationType,resultsCount){var event={data:{showHideState:showHideState,limit:limit,sort:sort,showAllAbstractSelected:showAllAbstractSelected,originationType:originationType,resultsCount:resultsCount}};AllAbstract.toggleAllAbstracts(event);return false;}
function showAllAbstractsBatch(searchString,resultsPerPage,offset,limit,count,sort,isBatch,batchId,originationType,clusterRowDisplayCount,resultsCount,EID,rowID){var countParam="count="+count;var offsetParam="&offset="+offset;var origSearchTerm=jQuery('#origSearch').val();if(typeof origSearchTerm!='undefined'){searchString="&searchString="
+encodeURIComponent(origSearchTerm);}else{searchString=searchString.replace(/&#034;/g,"\"");searchString="&searchString="+encodeURIComponent(searchString);}
var sortType="&sortType="+sort;var origin="&origin=resultslist";var originType="&originationType="+originationType;var resultPerPage="&resultsPerPage="+resultsPerPage;var clusteringRowDisplayCount="&clusterRowDisplayCount="+clusterRowDisplayCount;var resultCount="&resultsCount="+resultsCount;var docEID="&eid="+EID;var listId="";var cite="";var authorCitedId="";var citedByRefId="";var refVal="";var citeId="";var cluster="";var recent="";var clusterAttr=jQuery('#origCluster').val();if(typeof clusterAttr!='undefined'){cluster="&cluster="+encodeURIComponent(clusterAttr);}
if(document.SearchResultsForm!=null){if(document.SearchResultsForm.citedAuthorId!=null){authorCitedId=document.SearchResultsForm.citedAuthorId.value;}
if(document.SearchResultsForm.cite!=null){cite=document.SearchResultsForm.cite.value;}
if(document.SearchResultsForm.refeid!=null){citedByRefId=document.SearchResultsForm.refeid.value;}
if(document.SearchResultsForm.listId!=null){listId=document.SearchResultsForm.listId.value;if(listId=="-1"){listId="myList";}}
if(document.SearchResultsForm.ref!=null){refVal=document.SearchResultsForm.ref.value;}
if(document.SearchResultsForm.citingId!=null){citeId=document.SearchResultsForm.citingId.value;}
if(document.SearchResultsForm.rr!=null){recent=document.SearchResultsForm.rr.value;}}
var citeIdParam="&citingId="+citeId;var authorCitedParam="&citedAuthorId="+authorCitedId;var listIdParam="&listId="+listId;var citeParam="&cite="+cite;var citedRefId="&refeid="+citedByRefId;var refQueryVal="&ref="+refVal;var recentVal="&recent="+recent;var recordIndex="&recordIndex="+rowID;var param=countParam+offsetParam+searchString+sortType+origin+originType+clusteringRowDisplayCount+resultPerPage+resultCount+docEID+listIdParam+citeParam+authorCitedParam+citeIdParam+citedRefId+refQueryVal+cluster+recentVal+recordIndex;var xmlhttp=GetXmlHttpObject();xmlhttp.onreadystatechange=function(){stateChanged(xmlhttp,offset,isBatch,batchId,limit,searchString,resultsPerPage,count,sort,originationType,clusterRowDisplayCount,resultsCount,rowID);};if(EID==null){xmlhttp.open("POST",allAbsPreviewBaseUrl,true);}
else{xmlhttp.open("POST",absPreviewBaseUrl,true);}
xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlhttp.setRequestHeader("Content-length",param.length);xmlhttp.setRequestHeader("Connection","close");xmlhttp.send(param);return;}
function setShowHideSessionState(showHideState,sort,resultsCount,originationType){if(document.SearchResultsForm!=null){resultsPerPage=document.SearchResultsForm.resultsPerPage.value;offset=document.SearchResultsForm.offset.value;clusterRowDisplayCount=document.SearchResultsForm.cc.value;}
var showHide="@showHideState="+showHideState;var clusteringRowDisplayCount="&clusterRowDisplayCount="+clusterRowDisplayCount;var sortType="&sortType="+sort;var origin="&origin=resultslist";var offsetParam="&offset="+offset;var resultCount="&resultsCount="+resultsCount;var resultPerPage="&resultsPerPage="+resultsPerPage;var originType="&originationType="+originationType;var allAbsPreviewUrl=allAbsPreviewBaseUrl+showHide+clusteringRowDisplayCount+sortType+origin+offsetParam+resultCount+resultPerPage+originType;var xmlhttp=GetXmlHttpObject();xmlhttp.open("GET",allAbsPreviewUrl,true);xmlhttp.send(null);return;}
function stateChanged(xmlhttp,offset,isBatch,batchId,limit,searchString,resultsPerPage,count,sort,originationType,clusterRowDisplayCount,resultsCount,rowID)
{if(xmlhttp.readyState==4){if(isBatch==true){offset=(batchId*limit)+1;}else{offset=1;}
var abstracts;abstracts=xmlhttp.responseText.substr(0,xmlhttp.responseText.indexOf(']')+1);var spanIndex=-1;var abstractArray=eval(abstracts);if(rowID!=null){for(var i=offset;i<(offset+abstractArray.length);i++){if(document.getElementById('previewabstractrow'+i)!=null&&document.getElementById('previewAbstract'+i)!=null&&document.getElementById('thirdParty'+i)!=null){document.getElementById('previewAbstract'+i).innerHTML=abstractArray[i-(offset)];}}
var $previewAbstractLinkText=jQuery('#previewAbstractLinkText'+rowID);if(document.getElementById('previewAbstractLinkText'+rowID)!=null){$previewAbstractLinkText.html('<a href="#" class="closepreview" onclick="return toggleShowAbstract(false,'+limit+',\''+sort+'\',false,\''+originationType+'\',\''+resultsCount+'\', '+rowID+', null)" >'+hideAbstract+'</a>');}
AllAbstract.showAbstract(rowID);document.getElementById('previewAbstract'+rowID).innerHTML=abstractArray[rowID-(offset)];}
else{for(var i=offset;i<(offset+abstractArray.length);i++){var $previewAbstractLinkText=jQuery('#previewAbstractLinkText'+i);if($previewAbstractLinkText.length>0){$previewAbstractLinkText.html('<a href="#" class="closepreview" onclick = "return toggleShowAbstract(false,'+limit+',\''+sort+'\',true,\''+originationType+'\',\''+resultsCount+'\', '+i+', null)" >'+hideAbstract+'</a>');}
if(document.getElementById('previewabstractrow'+i)!=null&&document.getElementById('previewAbstract'+i)!=null&&document.getElementById('thirdParty'+i)!=null){AllAbstract.showAbstract(i);var abstractContent=abstractArray[i-(offset)];spanIndex=abstractContent.indexOf('<span>');if(spanIndex==-1){abstractContent=["<span>"+abstractContent+"</span>"];abstractContent=abstractContent.join('');}
document.getElementById('previewAbstract'+i).innerHTML=abstractContent;}}}
gWorking=false;allAbstractsRetrieved=true;}}
function GetXmlHttpObject()
{if(window.XMLHttpRequest){return new XMLHttpRequest();}
if(window.ActiveXObject){return new ActiveXObject("Microsoft.XMLHTTP");}
return null;}
function computeCount(limit,sort,originationType,resultsCount,EID,rowID){if(document.SearchResultsForm!=null){resultsPerPage=document.SearchResultsForm.resultsPerPage.value;offset=document.SearchResultsForm.offset.value;clusterRowDisplayCount=document.SearchResultsForm.cc.value;}
if(limit>=resultsPerPage){count=resultsPerPage;if(EID!=null){showAllAbstractsBatch(searchString,resultsPerPage,offset-1,limit,count,sort,false,'0',originationType,clusterRowDisplayCount,resultsCount,EID,rowID);}
else{showAllAbstractsBatch(searchString,resultsPerPage,offset-1,limit,count,sort,false,'0',originationType,clusterRowDisplayCount,resultsCount,null,null);}}else{batchsize=Math.floor(resultsPerPage/limit);batchexceeds=resultsPerPage%limit;for(var i=0;i<batchsize;i++){count=limit;if(i==batchsize&&batchexceeds!=0){count=batchexceeds;}
var offsetnew;if(i==0){offsetnew=offset-1;}else{offsetnew=offsetnew+count;}
if(EID!=null){showAllAbstractsBatch(searchString,resultsPerPage,offsetnew,limit,count,sort,true,i,originationType,clusterRowDisplayCount,resultsCount,EID,rowID);}
else{showAllAbstractsBatch(searchString,resultsPerPage,offsetnew,limit,count,sort,true,i,originationType,clusterRowDisplayCount,resultsCount,null,null);}}}}
function logRecordPageKeyEvent(EID,rowId){var param="?eid="+EID+"&recordIndex="+rowId;var isAbstractAlreadyRetrievedParam="&allAbstractsRetrieved="+allAbstractsRetrieved;var absPreviewUrl=absPreviewBaseUrl+param+isAbstractAlreadyRetrievedParam;var xmlhttp=GetXmlHttpObject();xmlhttp.open("GET",absPreviewUrl,true);xmlhttp.send(null);return;}
AllAbstract.isAllAbstractDisplayed=jQuery("#isAbsExpanded").val()==="true";allAbstractsRetrieved=AllAbstract.isAllAbstractDisplayed;jQuery(document).ready(function(){AllAbstract.isAllAbstractDisplayed=jQuery("#isAbsExpanded").val();allAbstractsRetrieved=jQuery("#isAbsExpanded").val()==="true";});var isIE7=jQuery.browser.msie&&+jQuery.browser.version===7;netscape="";ver=navigator.appVersion;len=ver.length;for(var iln=0;iln<len;iln++){if(ver.charAt(iln)=="("){break;}}
netscape=(ver.charAt(iln+1).toUpperCase()!="C");function checkKeyStroke(DnEvents){key=(netscape)?DnEvents.which:window.event.keyCode;if(key==13){with(document.SearchResultsForm)
{if(news.value!=''){document.SearchResultsForm.searchWithinResultsDefault.value="t";document.SearchResultsForm.searchWithinResults.focus();document.forms[SearchResultsForm].submit();}}}}
function setSelectedLink(linkname){jQuery("form[name='SearchResultsForm'] input[name='clickedLink']").val(linkname);jQuery("form[name='SearchResultsForm']").attr('target','_self');if(linkname=="RemoveAuthorDocumentsButton"){jQuery("form[name='SearchResultsForm']").attr('target','_blank');}
jQuery("form[name='SearchResultsForm']").submit();}
function ValidateClusters(clusteringAction){if(document.SearchResultsForm.news.value!=''){return false;}
document.SearchResultsForm.clickedLink.value='';var cluster=document.SearchResultsForm.selectedSourceClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedAuthorClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedCountryClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedYearClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedDocTypeClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedSubjectClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedKeywordClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedLanguageClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedAffiliationClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedSourceTypeClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedScirusClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedContentSourceClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedPatentOfficeClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedInformationTypeClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedStatusTypeClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
cluster=document.SearchResultsForm.selectedAuthorCiteClusterCategories;if(assertChecked(cluster)){return(clearPreviousCheckMarks());}
return false;}
function clearPreviousCheckMarks()
{var isOneResultOnPageSelected="false";var array=document.getElementsByName("selectedEIDs");for(var i=0;i<array.length;i++)
{if(array[i].checked)
{isOneResultOnPageSelected="true";break;}}
if(isOneResultOnPageSelected=="true"&&isAnyResultMarked=="true"){jOk=confirm(messages.results_info_scope_reduction_searchjs());return jOk;}
return true;}
function selectDeselectAll(form,curElem){onoff=curElem.checked;selectDeselectResults(form,onoff);if(!onoff){if(form.scount){form.scount.value="0";}
if(form.pageselecttotal){form.pageselecttotal.value="0";}}
form.selectDeselectAllAttempt.value="clicked";}
function selectDeselectResults(form,state){for(var i=0;i<form.elements.length;i++)
{if(form.elements[i].name=="selectedEIDs"||(form.elements[i].name=="selectPageCheckBox"&&!ResultsDataHeader.isAllSelected))
{form.elements[i].checked=state;}}}
function selectDeselectResult(form,checkbox)
{if(!checkbox.checked){form.selectPageCheckBox.checked=false;if(ResultsDataHeader.isAllSelected){jQuery("#allPageCheckBox").attr("checked",false);jQuery("#selectAllTop").attr("checked",false);ResultsDataHeader.isAllSelected=false;}
else if(ResultsDataHeader.isPageSelected){jQuery("#allPageCheckBox").attr("checked",false);jQuery("#selectPageTop").attr("checked",false);ResultsDataHeader.isPageSelected=false;}
ResultsDataHeader.setAllPageDefaultSelected();}
else{var page=true&&!ResultsDataHeader.isAllSelected;for(var i=0;i<form.elements.length;i++){if(form.elements[i].name=="selectedEIDs"&&!form.elements[i].checked){page=false;break;}}
if(page){jQuery("#selectPageTop").attr("checked",true);jQuery("#allPageCheckBox").attr("checked",true);ResultsDataHeader.isPageSelected=true;}}}
function selectDeselectPage(form,curElem)
{onoff=curElem.checked;if(ResultsDataHeader.isAllSelected){selectDeselectAll(form,curElem);}
selectDeselectResults(form,onoff);if(onoff==false){jQuery("#selectPageTop").attr("checked",false);}}
if(netscape){document.addEventListener("keydown",checkKeyStroke,false);document.addEventListener("keyup",checkKeyStroke,false);}
function submitRecord(id,pos,citecnt){document.SearchResultsForm.clustering.value='';document.SearchResultsForm.recordid.value=id;document.SearchResultsForm.relpos.value=pos;document.SearchResultsForm.citebycnt=citecnt;document.SearchResultsForm.target="_self";document.SearchResultsForm.submit();}
var ResultsDataHeader={isPageSelected:false,isAllSelected:false,pageCheckboxClass:"pageCheckbox",allCheckboxClass:"allCheckbox",pageSelectTooltip:messages.resultlist.header.selectpage.tooltip(),pageUnselectTooltip:messages.resultlist.header.unselectpage.tooltip(),allSelectTooltip:messages.resultlist.header.selectall.tooltip(),allUnselectTooltip:messages.resultlist.header.unselectall.tooltip(),selectAllText:messages.resultlist.header.checkbox.text.all(),selectPageText:messages.resultlist.header.checkbox.text.page(),pageAllDelay:'',selection:'All',currentSelection:'All',init:function(){var toolTip="";if(jQuery("#selectAllTop").attr("checked")){ResultsDataHeader.setDefaultSelected();ResultsDataHeader.isAllSelected=true;toolTip=ResultsDataHeader.allUnselectTooltip;jQuery("#selectPageTop").attr("checked",false);jQuery("#allPageCheckBox").attr("checked","checked");jQuery("#allPageSelectedValue").text(jQuery('#selectAllTop').attr('attr-sel'));jQuery('#selectAllTop').closest('li').addClass('selectedChkBoxTxt');jQuery('#selectPageTop').closest('li').removeClass('selectedChkBoxTxt');jQuery("#allPageCheckBox").attr("title",ResultsDataHeader.allUnselectTooltip);selectDeselectResults(document.SearchResultsForm,ResultsDataHeader.isAllSelected);}else if(jQuery("#selectPageTop").attr("checked")){ResultsDataHeader.setDefaultSelected();ResultsDataHeader.isPageSelected=true;toolTip=ResultsDataHeader.pageUnselectTooltip;jQuery("#selectAllTop").attr("checked",false);jQuery("#selectPageTop").attr("checked",true);jQuery("#allPageCheckBox").attr("checked",true);jQuery("#allPageSelectedValue").text(jQuery('#selectPageTop').attr('attr-sel'));jQuery('#selectPageTop').closest('li').addClass('selectedChkBoxTxt');jQuery('#selectAllTop').closest('li').removeClass('selectedChkBoxTxt');jQuery("#allPageCheckBox").attr("title",ResultsDataHeader.pageUnselectTooltip);selectDeselectResults(document.SearchResultsForm,ResultsDataHeader.isPageSelected);}
if(ResultsDataHeader.isAllSelected||ResultsDataHeader.isPageSelected){jQuery("#allPageCheckBox").attr("checked",true).attr("title",toolTip);}
ResultsDataHeader.setAllPageDefaultSelected();},toggleAllPageCheckbox:function(event){var targetElement=event.target;var isTargetChecked=jQuery(targetElement).attr("checked");if(!ResultsDataHeader.isAllSelected&&!ResultsDataHeader.isPageSelected&&isTargetChecked){ResultsDataHeader.setAllPageSelectedItems(event);ResultsDataHeader.setAllPageDefaultSelected();}
else if(ResultsDataHeader.isAllSelected){selectDeselectAll(document.SearchResultsForm,event.target);jQuery("#selectAllTop").attr("checked",false);ResultsDataHeader.isAllSelected=false;jQuery("#selectPageTop").attr("checked",false);jQuery("#allPageCheckBox").attr("title",ResultsDataHeader.allSelectTooltip);}
else if(ResultsDataHeader.isPageSelected){selectDeselectPage(document.SearchResultsForm,targetElement);jQuery("#selectPageTop").attr("checked",false);ResultsDataHeader.isPageSelected=false;jQuery("#allPageCheckBox").attr("title",ResultsDataHeader.allSelectTooltip);}},triggerPageCheckBoxClick:function(event){ResultsDataHeader.isPageSelected=event.target.checked;jQuery("#selectPageTop").click("checked",true);selectDeselectPage(document.SearchResultsForm,event.target);},triggerAllCheckBoxClick:function(event){ResultsDataHeader.isAllSelected=event.target.checked;jQuery("#selectAllTop").click("checked",true);selectDeselectAll(document.SearchResultsForm,event.target);},togglePageCheckbox:function(event){jQuery(event.target).attr("checked",true);ResultsDataHeader.isPageSelected=true;jQuery("#allPageCheckBox").attr({"checked":true,"title":ResultsDataHeader.pageUnselectTooltip});selectDeselectPage(document.SearchResultsForm,event.target);if(ResultsDataHeader.isAllSelected&&ResultsDataHeader.isPageSelected){jQuery("#selectAllTop").attr("checked",false);ResultsDataHeader.isAllSelected=!ResultsDataHeader.isAllSelected;}},toggleAllCheckbox:function(event){jQuery(event.target).attr("checked",true);ResultsDataHeader.isAllSelected=true;jQuery("#allPageCheckBox").attr({"checked":"checked","title":ResultsDataHeader.allUnselectTooltip});jQuery("#selectPageTop").attr("checked",false);selectDeselectAll(document.SearchResultsForm,event.target);if(ResultsDataHeader.isPageSelected){jQuery("#selectPageTop").attr("checked",false);ResultsDataHeader.isPageSelected=false;}},onFormSubmit:function(event){if(!jQuery("#allPageCheckBox").attr("checked")){jQuery("#selectPageTop").attr("checked",false);jQuery("#selectAllTop").attr("checked",false);}},selectedCheckboxValue:function(e){if(!jQuery("#allPageCheckBox").attr("checked")){jQuery('#selectAllTop, #selectPageTop').closest('li').removeClass('selectedChkBoxTxt');ResultsDataHeader.setAllPageDefaultSelected();}
else if(jQuery("#selectPageTop").attr("checked")){ResultsDataHeader.setDefaultSelected();jQuery('#selectPageTop').closest('li').addClass('selectedChkBoxTxt');jQuery('#selectAllTop').closest('li').removeClass('selectedChkBoxTxt');ResultsDataHeader.selectBubbleHide(e,'selectPageTop');ResultsDataHeader.selection='Page';}
else if(jQuery("#selectAllTop").attr("checked")){ResultsDataHeader.setDefaultSelected();jQuery('#selectAllTop').closest('li').addClass('selectedChkBoxTxt');jQuery('#selectPageTop').closest('li').removeClass('selectedChkBoxTxt');ResultsDataHeader.selectBubbleHide(e,'selectAllTop');ResultsDataHeader.selection='All';}},selectBubbleHide:function(e,chkBoxID){ResultsDataHeader.pageAllDelay=setTimeout(function(){Bubble.forceHideAll(e);jQuery("#allPageSelectedValue").text(jQuery('#'+chkBoxID).attr('attr-sel'));},3000);},setPageAllTxt:function(event){if(jQuery("#selectPageTop").attr("checked")){jQuery("#allPageSelectedValue").text(jQuery('#selectPageTop').attr('attr-sel'));}
else if(jQuery("#selectAllTop").attr("checked")){jQuery("#allPageSelectedValue").text(jQuery('#selectAllTop').attr('attr-sel'));}},setDefaultSelected:function(){jQuery('#selectAllTopDefault, #selectPageTopDefault').addClass('displayNone').removeClass('setTxtbold');jQuery('#selectAllTopCnt, #selectPageTopCnt').removeClass('displayNone');},setAllPageDefaultSelected:function(){if(jQuery('#allPageSelectedValue').text()==ResultsDataHeader.selectAllText){jQuery('#selectAllTopDefault').removeClass('displayNone').addClass('setTxtbold');jQuery('#selectPageTopDefault').addClass('displayNone').removeClass('setTxtbold');jQuery('#selectAllTopCnt').addClass('displayNone');jQuery('#selectPageTopCnt').removeClass('displayNone');}
else if(jQuery('#allPageSelectedValue').text()==ResultsDataHeader.selectPageText){jQuery('#selectPageTopDefault').removeClass('displayNone').addClass('setTxtbold');jQuery('#selectAllTopDefault').addClass('displayNone').removeClass('setTxtbold');jQuery('#selectPageTopCnt').addClass('displayNone');jQuery('#selectAllTopCnt').removeClass('displayNone');}},setAllPageSelectedItems:function(event){if(jQuery('#allPageSelectedValue').text()==ResultsDataHeader.selectAllText){ResultsDataHeader.triggerAllCheckBoxClick(event);jQuery("#selectAllTop").attr("checked",true);jQuery("#allPageCheckBox").attr("title",ResultsDataHeader.allUnselectTooltip);}
else if(jQuery('#allPageSelectedValue').text()==ResultsDataHeader.selectPageText){ResultsDataHeader.triggerPageCheckBoxClick(event);jQuery("#selectPageTop").attr("checked",true);jQuery("#allPageCheckBox").attr("title",ResultsDataHeader.pageUnselectTooltip);}},storeAllPageSelection:function(){if(ResultsDataHeader.currentSelection!=ResultsDataHeader.selection){ResultsDataHeader.currentSelection=ResultsDataHeader.selection;var pageName=jQuery("#allPageBubble").attr('attr-currentPage');jQuery.ajax({type:"POST",url:'../selection.uri',data:{selectionText:ResultsDataHeader.selection,page:pageName},success:function(data){}});}}};function documentSortInit(isPreview){var relevancySort={key:"r-f",value:messages.DOCSORT_FIELD_RELEVANCY(),title:messages.DOCSORT_FIELD_RELEVANCY_TITLE()};var src=jQuery("input:hidden[name='src']").val();if(src==='p'){SortData.NavItems={primaryNav:[{key:"plf-f",value:messages.DOCSORT_FIELD_DATENEW(),title:messages.DOCSORT_FIELD_DATENEW_TITLE()},{key:"r-f",value:messages.DOCSORT_FIELD_RELEVANCY(),title:messages.DOCSORT_FIELD_RELEVANCY_TITLE()}],secondaryNav:[],otherTitle:messages.DOCSORT_FIELD_OTHER_TITLE()};}else{SortData.NavItems={primaryNav:[{key:"plf-f",value:messages.DOCSORT_FIELD_DATENEW(),title:messages.DOCSORT_FIELD_DATENEW_TITLE()},{key:"cp-f",value:messages.DOCSORT_FIELD_CITEDBY(),title:messages.DOCSORT_FIELD_CITEDBY_TITLE()}],secondaryNav:[{key:"plf-t",value:messages.DOCSORT_FIELD_DATEOLD(),title:messages.DOCSORT_FIELD_DATEOLD_TITLE()},{key:"lfp-t",value:messages.DOCSORT_FIELD_AUTHASC(),title:messages.DOCSORT_FIELD_AUTHASC_TITLE()},{key:"lfp-f",value:messages.DOCSORT_FIELD_AUTHDES(),title:messages.DOCSORT_FIELD_AUTHDES_TITLE()},{key:"tp-t",value:messages.DOCSORT_FIELD_SOURCETITLE(),title:messages.DOCSORT_FIELD_SOURCETITLE_TITLE()}],otherTitle:messages.DOCSORT_FIELD_OTHER_TITLE()};}
var hiddenSotVal=document.SearchResultsForm.sot.value;var isPrimaryResults=hiddenSotVal.indexOf('cite')>-1?false:true;if(isPrimaryResults&&!(src==='p')){SortData.NavItems.primaryNav.push(relevancySort);}
SortData.sortNavClick=SortData.docSortNavClick;var selectedNav=jQuery("input:hidden[name='sort']").val();if(typeof selectedNav!='undefined'&&selectedNav.length>5){var intmselectedNav=selectedNav.split("-");intmselectedNav[0]=intmselectedNav[0].substring(0,3);SortData.selectedNav=intmselectedNav.join('-');}
else{SortData.selectedNav=selectedNav;}
SortData.secNavReplPosc=2;SortData.buildNav(isPreview);if(src==='p'){jQuery("#showSortBubble").remove();}}
jQuery("#moreLink").click(function(e){var $dataElement=jQuery("#moreOptions");if(jQuery(this).parent('span').hasClass('lnkDisabled')){$dataElement.css("display","none");}
else{if($dataElement.size()>0){if($dataElement.css("display")=='none'){$dataElement.show();if($dataElement.width()>150){$dataElement.css("left",this.offsetLeft-10+"px");}
else{$dataElement.css("left",this.offsetLeft+19+"px");}
var topAdjuster=30;if(isIE7){topAdjuster=30;}
$dataElement.css("top",this.offsetTop+topAdjuster+"px");}else{$dataElement.hide();}}}
e.preventDefault();});jQuery('body').bind('click',function(e){if(!jQuery(e.target).closest('#moreLink')[0]){jQuery('#moreOptions').hide();}
if(!jQuery(e.target).closest('#exportTrigger')[0]){Bubble.hideAll(e);}
if(!jQuery(e.target).closest('#bubble-showAllPageBubble')[0]){clearTimeout(ResultsDataHeader.pageAllDelay);ResultsDataHeader.setPageAllTxt();}});function resultsSaveToList(event){if(jQuery(".docHeaderLinks.lnkDisabled").length>0){return;}
event.preventDefault();MessageContainer.removeMsgContatiner();var saveListURL=[];saveListURL.push('/results/handle.uri?view=&command=list&src=s&eid=');saveListURL.push('&type=AJAX');var frm=jQuery("#searchResFormId");var serData=frm.serialize();serData=serData.replace('&origin=resultslist','&origin=savedlist');jQuery.ajax({url:saveListURL.join(''),data:serData,dataType:"html",cache:false,type:"POST",success:function(data){if(data!==null&&data!==''){jQuery('#saveListResults-data').html(data);event["data"]={position:Bubble.positionLeft,setDataBack:false};Bubble.showBubble(event);jQuery("#saveTolistSubmit").on('click',listSetUpSave);jQuery('#listPopupClose').on('click',closeListPopUp);setWaterMarkList();ddlOnloadforSelectmenu();}},error:function(){if(typeof console!=="undefined"){console.log('error in getting the save list pop up');}}});}
jQuery("#showAllPageBubble").on("click",function(e){e["data"]={position:Bubble.positionLeft,setDataBack:true};Bubble.showBubble(e);var bubblePosleft=jQuery('#bubble-showAllPageBubble').position().left;var allPageText=jQuery('#allPageSelectedValue').width();var setLeftBubblePos=bubblePosleft+allPageText;jQuery('#bubble-showAllPageBubble').css({'left':setLeftBubblePos});});jQuery("#selectAllTop").live("click",function(e){ResultsDataHeader.toggleAllCheckbox(e);enableLnk();ResultsDataHeader.selectedCheckboxValue(e);ResultsDataHeader.storeAllPageSelection()});jQuery('#selectAllTopDefault input[type="checkbox"]').live("click",function(){jQuery("#selectAllTop").click()});jQuery("#selectPageTop").live("click",function(e){ResultsDataHeader.togglePageCheckbox(e);enableLnk();ResultsDataHeader.selectedCheckboxValue(e);ResultsDataHeader.storeAllPageSelection()});jQuery('#selectPageTopDefault input[type="checkbox"]').live("click",function(){jQuery("#selectPageTop").click()});jQuery('#resultsPageOptions').on("click","#allPageCheckBox",function(e){ResultsDataHeader.toggleAllPageCheckbox(e);enableLnk();ResultsDataHeader.selectedCheckboxValue(e);});jQuery('#srchResultsList ul.documentDataList li input:checkbox').on('click',enableLnk);jQuery(document.SearchResultsForm).on("submit",ResultsDataHeader.onFormSubmit);jQuery(function(){ResultsDataHeader.init();enableDisableLmtExcBtn.init();});var fastAffilCallDone=new Array();fastAffilCallDone['AFFIL']=new Array('false');var clusterAtrributesBaseUrl="../standard/retrieveClusterAttributes.uri";var resultList;var sciverse;var documentResultsList={};function showClusterStateInSession(clusterState){if(clusterState!=null&&clusterState.length>0){var clusterStateString=clusterState.substring(1,clusterState.length-1);clusterStateString=clusterStateString.replace(/^\s\s*/,'').replace(/\s\s*$/,'');var clusterStateArray=clusterStateString.split(",");for(var i=0;i<clusterStateArray.length;i++){if(clusterStateArray[i].replace()!=''){var clusterNameState=clusterStateArray[i].split("=");var countState=clusterNameState[1].split("-");var clusterType=clusterNameState[0].replace(/^\s\s*/,'').replace(/\s\s*$/,'');if(countState[1]=="open"){if(clusterType=='AFFIL'&&fastAffilCallDone[clusterType][0]=='false'){retrieveClusterAttributesFromFAST(countState[0],numClusterCat,searchType,clusterType,'selectedAffiliationClusterCategories');}
if(document.getElementById("heading_"+clusterType)!=null){document.getElementById("heading_"+clusterType).style.borderBottom="1px solid #9B9B9B";}
if(document.getElementById("body_"+clusterType)!=null){document.getElementById("body_"+clusterType).style.display="block";}
if(document.getElementById("collapse_"+clusterType)!=null){document.getElementById("collapse_"+clusterType).innerHTML="<div class='clickBox' onclick=\"collapseSection('"+clusterType+"','collapse')\"><div class='floatR'><span id=\"checkCount_"+clusterType+"\"  class='displayNone selectedText floatL'></span> <span class='btn_collapse floatL' alt='"+toggleCloseCluster+"' title='"+toggleCloseCluster+"' >&nbsp;</span></div><div class='clearBoth'></div></div>";}}
if(countState[1]=="collapse"){if(document.getElementById("heading_"+clusterType)!=null){document.getElementById("heading_"+clusterType).style.borderBottom="none";}
if(document.getElementById("body_"+clusterType)!=null){document.getElementById("body_"+clusterType).style.display="none";}
if(document.getElementById("collapse_"+clusterType)!=null){document.getElementById("collapse_"+clusterType).innerHTML="<div class='clickBox' onclick=\"expandSection('"+clusterType+"','open')\"><div class='floatR'><span id=\"checkCount_"+clusterType+"\" class='displayNone selectedText floatL'></span> <span class='btn_expand floatL' alt='"+toggleOpenCluster+"' title='"+toggleOpenCluster+"' >&nbsp;</span></div><div class='clearBoth'></div></div>";}}
if(clusterType!='AFFIL'&&countState[0]=="10"){displayCluster(clusterType);}}}}}
function displayCluster(clusterType){if(document.getElementById("hidden_"+clusterType)!=null){document.getElementById("hidden_"+clusterType).style.display="block";}
if(document.getElementById("viewDivider_"+clusterType)!=null){document.getElementById("viewDivider_"+clusterType).style.display="inline";document.getElementById("viewDivider_"+clusterType).style.color="#B7B7B7";}
var viewLessCountObj=document.getElementById("viewLessCount_"+clusterType);if(document.getElementById("totalClusterCount_"+clusterType)!=null){var totalCount=Number(document.getElementById("totalClusterCount_"
+clusterType).innerHTML);var viewLessCountObj=document.getElementById("viewLessCount_"+clusterType);if(totalCount>10){document.getElementById("viewMoreCount_"+clusterType).innerHTML=10;viewLessCountObj.innerHTML=5;}else{if(document.getElementById("viewMoreLink_"+clusterType)!=null){document.getElementById("viewMoreLink_"+clusterType).style.display="none";document.getElementById("viewDivider_"+clusterType).style.display="none";}
if(totalCount>5&&totalCount<=10){viewLessCountObj.innerHTML=5;}}
var viewFewerLinkObj=document.getElementById("viewFewerLink_"+clusterType);if(viewFewerLinkObj!=null&&viewLessCountObj.innerHTML>0){viewFewerLinkObj.style.display="inline";}}
var viewFewerLinkObj=document.getElementById("viewFewerLink_"+clusterType);if(viewLessCountObj.innerHTML>0&&viewFewerLinkObj!=null){viewFewerLinkObj.style.display="inline";}}
function buildDocumentURL(nextClusterCount,originationType,clusterType,clusterCategory){var citeAuthorId="";if(document.SearchResultsForm.citedAuthorId!=null){citeAuthorId=document.SearchResultsForm.citedAuthorId.value;}
var citedById="";if(document.SearchResultsForm.cite!=null){citedById=document.SearchResultsForm.cite.value;}
var citedByRefId="";if(document.SearchResultsForm.refeid!=null){citedByRefId=document.SearchResultsForm.refeid.value;}
var query="";if(document.SearchResultsForm.s!=null){query=document.SearchResultsForm.s.value;}else if(searchString!=""){if(citeAuthorId==""&&citedById==""&&citedByRefId==""){query=searchString;query=query.replace(/&#034;/g,"\"");}}
if(query!=""){query=encodeURIComponent(query);query=query.replace(new RegExp("%C2%A0","g"),"");}
var refVal="";if(document.SearchResultsForm.ref!=null){refVal=document.SearchResultsForm.ref.value;}
var st1="";if(document.SearchResultsForm.st1!=null){st1=document.SearchResultsForm.st1.value;}
var st2="";if(document.SearchResultsForm.st2!=null){st2=document.SearchResultsForm.st2.value;}
var sot=document.SearchResultsForm.sot.value;var sid=document.SearchResultsForm.sid.value;var sdt="";if(document.SearchResultsForm.sdt!=null){sdt=document.SearchResultsForm.sdt.value;}
var sort="";if(document.SearchResultsForm.sort!=null){sort=document.SearchResultsForm.sort.value;}
var citeId="";if(document.SearchResultsForm.citingId!=null){citeId=document.SearchResultsForm.citingId.value;}
var listId="";if(document.SearchResultsForm.listId!=null){listId=document.SearchResultsForm.listId.value;}
var origin="resultslist";var source=document.SearchResultsForm.src.value;var affilName="";var affilCity="";var affilCntry="";var affilId="";if(document.SearchResultsForm.affilName!=null){affilName=document.SearchResultsForm.affilName.value;}
if(document.SearchResultsForm.affilCity!=null){affilCity=document.SearchResultsForm.affilCity.value;}
if(document.SearchResultsForm.affilCntry!=null){affilCntry=document.SearchResultsForm.affilCntry.value;}
if(document.SearchResultsForm.affiliationId!=null){affilId=document.SearchResultsForm.affiliationId.value;}
var cluster="";if(document.SearchResultsForm.cluster!=null){var clusterAtt=document.SearchResultsForm.cluster.value;cluster=escape(clusterAtt);cluster=cluster.replace(/\+/g,'%2B');}
var offset=jQuery("#searchResFormId input:hidden[name='offset']").val();var scla="";var sclaIndex="";if(document.SearchResultsForm.scla!=null){sclaIndex=document.SearchResultsForm.scla.selectedIndex;if(sclaIndex!=""&&sclaIndex>0){scla=document.SearchResultsForm.scla.options[sclaIndex].value;}}
var sclc="";var sclcIndex="";if(document.SearchResultsForm.sclc!=null){sclcIndex=document.SearchResultsForm.sclc.selectedIndex;if(sclcIndex!=""&&sclcIndex>0){sclc=document.SearchResultsForm.sclc.options[sclcIndex].value;}}
var scls="";var sclsIndex="";if(document.SearchResultsForm.scls!=null){sclsIndex=document.SearchResultsForm.scls.selectedIndex;if(sclsIndex!=""&&sclsIndex>0){scls=document.SearchResultsForm.scls.options[sclsIndex].value;}}
var sclk="";var sclkIndex="";if(document.SearchResultsForm.sclk!=null){sclkIndex=document.SearchResultsForm.sclk.selectedIndex;if(sclkIndex!=""&&sclkIndex>0){sclk=document.SearchResultsForm.sclk.options[sclkIndex].value;}}
var scll="";var scllIndex="";if(document.SearchResultsForm.scll!=null){scllIndex=document.SearchResultsForm.scll.selectedIndex;if(scllIndex!=null&&scllIndex>0){scll=document.SearchResultsForm.scll.options[scllIndex].value;}}
var sclsb="";var sclsbIndex="";if(document.SearchResultsForm.sclsb!=null){sclsbIndex=document.SearchResultsForm.sclsb.selectedIndex;if(sclsbIndex!=""&&sclsbIndex>0){sclsb=document.SearchResultsForm.sclsb.options[sclsbIndex].value;}}
var displayCount="clusterDisplayCount="+nextClusterCount;var originType="&sot="+originationType;var dimensionName="&navigatorName="+clusterType;var selectedCategory="&clusterCategory="+clusterCategory;var searchQuery="&s="+query;var srchTerm1="&st1="+st1;var srchTerm2="&st2="+st2;var sotParam="";var sidParam="&sid="+sid;var sdtParam="&sdt="+sdt;var sortType="&sort="+sort;var originParam="&origin="+origin;var sourceParam="&src="+source;var affCity="&affilCity="+affilCity;var affName="&affilName="+affilName;var affCntry="&affilCntry="+affilCntry;var affId="&affiliationId="+affilId;var clusterData="&cluster="+cluster;var offsetParam="&offset="+offset;var sclaParam="&scla="+scla;var sclsParam="&scls="+scls;var sclkParam="&sclk="+sclk;var scllParam="&scll="+scll;var sclsbParam="&sclsb="+sclsb;var sclcParam="&sclc="+sclc;var citeIdParam="&citingId="+citeId;var citeAuthIdParam="&citedAuthorId="+citeAuthorId;var listIdParam="&listId="+listId;var citedId="&cite="+citedById;var citedRefId="&refeid="+citedByRefId;var refQueryVal="&ref="+refVal;var documentURL=displayCount+originType+dimensionName
+selectedCategory+citedId+citedRefId+searchQuery+srchTerm1
+srchTerm2+sotParam+sidParam+sdtParam+sortType
+citeIdParam+citeAuthIdParam+listIdParam+originParam
+sourceParam+affCity+affName+affCntry+affId+clusterData
+offsetParam+sclaParam+sclsParam+sclkParam+scllParam
+sclsbParam+sclcParam+refQueryVal;return documentURL;}
function retrieveClusterAttributesFromFAST(countState,nextClusterCount,originationType,clusterType,clusterCategory){var docURL=buildDocumentURL(nextClusterCount,originationType,clusterType,clusterCategory);var xmlhttp=GetXmlHttpObject();xmlhttp.onreadystatechange=function(){putClusterAttributeInArray(countState,xmlhttp,clusterType);};xmlhttp.open("POST",clusterAtrributesBaseUrl,true);xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlhttp.setRequestHeader("Content-length",docURL.length);xmlhttp.setRequestHeader("Connection","close");xmlhttp.send(docURL);}
function putClusterAttributeInArray(countState,xmlhttp,clusterType){if(xmlhttp.readyState==4){var clusterVal=xmlhttp.responseText;if(clusterVal!=null&&clusterVal!=''&&clusterVal.search("refineResults")){clusterAttributeAffilArray=clusterVal;jQuery('#clusterAttribute_'+clusterType).html(clusterAttributeAffilArray);fastAffilCallDone[clusterType][0]='true';if(countState==10){displayCluster(clusterType);}}
else{window.location.reload();}}}
function GetXmlHttpObject(){if(window.XMLHttpRequest){return new XMLHttpRequest();}
if(window.ActiveXObject){return new ActiveXObject("Microsoft.XMLHTTP");}
return null;}
function loadAffilCluster(clusterType){if(fastAffilCallDone[clusterType][0]=='false'){retrieveClusterAttributesFromFAST(0,numClusterCat,searchType,clusterType,'selectedAffiliationClusterCategories');}}
function showPatTab(tabData){var patCount=0;var fedlink='';var fedDisplayText='';var fedTag='';patCount=parseInt(tabData.PatentCount);fedlink=tabData.FedLink;fedDisplayText=tabData.FedDisplayText;var $externalLink=jQuery("#external_results");if(patCount<=0&&fedlink.length<=0){$externalLink.hide();$externalLink.prev().hide();jQuery('.resultsOptionalLinks span.analyzeSep').hide();}else{jQuery("#hubLinksContainer").removeClass("displayNone");$externalLink.show();$externalLink.prev().show();jQuery('.resultsOptionalLinks span.analyzeSep').show();}
jQuery('#patentLink').next(".divider").hide();if(!isNaN(patCount)&&(patCount>0)){if(patCount<2){jQuery('#patentLink').prop('title',messages.resultlist.querybar.link.patent.single.alt());jQuery('#patentLink').text(messages.resultlist.querybar.link.patent.single(patCount));}else{jQuery('#patentLink').prop('title',messages.resultlist.querybar.link.patent.alt());jQuery('#patentLink').text(messages.resultlist.querybar.link.patent(patCount));}
jQuery('#hubLinksContainer').show();}
if(fedlink.length>0||jQuery('.resultsOptionalLinks a.citationOverview').length>0){jQuery('#patentLink').next(".divider").show();}
if(fedlink.length>0){var federAlt=feder.JS_FEDER_FEDERATED_OUTWARD_LINK_TOOLTIP();fedTag=["<a  href='"];fedTag.push(fedlink);fedTag.push("'  target='_blank' onClick='return openSizedWindow(");fedTag.push('"',fedlink,'"','"_blank")',"'");fedTag.push("title=","'",fedDisplayText,federAlt,"'",">",fedDisplayText,"</a>");if(jQuery('.resultsOptionalLinks a.citationOverview').length>0){fedTag.push("<span class='link_sep'>|</span>");}
jQuery('#feder').html(fedTag.join(''));}}
function hidePatTab(){jQuery('#hubLinksContainer').hide();jQuery('#patentLink').next(".divider").next(".divider").hide();}
function updatePatTab(){jQuery.ajax({type:"GET",url:"patCount.uri",dataType:'json',success:function(response){if(response===null||typeof(response)==='undefined')
return;showPatTab(response);},error:function(){OnErrorCall();hidePatTab();}});function OnErrorCall(response){if(typeof console!="undefined"){console.log("There is a problem while making AJAX call to Display Hub Counts and Federated Outward Search Links on the Scopus results Page");}}}
function OhubLinkGeneration(){var linkToReplace={};var pattern=/_OHUB/i;$("a[class=outwardTextLink][id*=_OHUB]").each(function(index,obj){linkToReplace[obj.id.replace(pattern,"")]=obj.href;});jQuery.ajax({url:"ohubajax.uri",data:linkToReplace,dataType:'json',type:"POST",error:OnErrorCallOHUB,success:function(data){if(data===null||typeof(data)==='undefined')
return;var dataCount=0;for(var key in data){var val=data[key];var anchorid=key+"_OHUB";if(val===null||typeof(val)==='undefined'||val===""){var spanid=document.getElementById(anchorid+"_Div");spanid.style.display='none';}else{var el=document.getElementById(anchorid);if(el===null||typeof(el)==='undefined')
return;else{el.style.display='inline';el.href=val;var ocl=el.onclick;ocl=ocl.toString().replace("AjaxOHUB"+key+"AjaxOHUB",val);el.onclick=ocl;}}
dataCount++;}
ResultData.setDefaultLinkVisible();}});function OnErrorCallOHUB(response){if(typeof console!="undefined"){console.log("There is a problem while making AJAX call to Display OHUB related Outward Links on the Scopus results Page");}}}
var ResultData={setDefaultLinkVisible:function(){jQuery('div.linkRow').each(function(index){var linkCount=jQuery(this).find('a.outwardTextLink').length;linkCount=+jQuery(this).find('a.outwardLink').length;var totalLink=jQuery(this).find('a').length;if(totalLink==linkCount||totalLink==1){jQuery(this).find('span.divider').last().addClass("displayNone");}
if(linkCount>1){linkCount--;jQuery(this).find('span.divider').slice(0,linkCount).addClass("visibleLink");}});}};function displayNavigatorsRestoreLinks(){if(currentClusterOrder!=defaultClusterOrder){jQuery("div.restoreDiv").css('display','block');if(profileClusterOrder==""&&isShowSaveSettings=="true"){jQuery("#saveSettingsDivider").css('display','inline-block');jQuery("#saveNavigatorSettings").css('display','inline-block');}else{jQuery("#saveSettingsDivider").css('display','none');jQuery("#saveNavigatorSettings").css('display','none');}}}
function tempMyListPopup(bubbleTargetId,showDefault){var objId=bubbleTargetId;var regButtonTargetId=bubbleTargetId+'Regclk';var loginButtonTargetId=bubbleTargetId+'Logclk';var divObj=jQuery("<div>",{id:objId+'-data',"class":"bubble-source-data"});var listDivObj=jQuery("<div>",{"class":"myListPopup",});var listCloseDivObj=jQuery("<div>",{"class":"myListClose",});listDivObj.append(listCloseDivObj);var clsAncObj=jQuery("<a>",{"href":"#","alt":"","title":feder.JS_FEDER_MYLIST_TEMP_POPUP_CLOSE(),"class":"clsListBubble","onClick":"closeSaveBubble(event)"});listCloseDivObj.append(clsAncObj);var listInnerDivObj=jQuery("<div>",{"class":"myListMsg","html":feder.JS_FEDER_MYLIST_TEMP_POPUP_MSG()});listDivObj.append(listInnerDivObj);var buttonDivObj=jQuery("<div>",{"class":"emailButtons"});var buttonRegObj=jQuery("<input>",{"type":"button","value":feder.JS_FEDER_MYLIST_TEMP_POPUP_REGISTER(),"title":feder.JS_FEDER_MYLIST_TEMP_POPUP_REGISTER_TOOLTIP(),"class":"mylistReg","id":regButtonTargetId,"onClick":"regListBubble(event);myListLoginKE()"});var buttonLogObj=jQuery("<input>",{"type":"button","value":feder.JS_FEDER_MYLIST_TEMP_POPUP_LOGIN(),"title":feder.JS_FEDER_MYLIST_TEMP_POPUP_LOGIN_TOOLTIP(),"id":loginButtonTargetId,"onClick":"loginListBubble(event);myListLoginKE()"});buttonDivObj.append(buttonRegObj).append(buttonLogObj);listDivObj.append(buttonDivObj);var listHelpDivObj=jQuery("<div>",{"class":"myListHelp",});var helpAncObj=jQuery("<a>",{"href":"#help","alt":"","title":feder.JS_FEDER_MYLIST_TEMP_POPUP_HELP_TOOLTIP(),"class":"list_help_icon","text":feder.JS_FEDER_MYLIST_TEMP_POPUP_HELP(),"onclick":"helpRedirect(event)"});listHelpDivObj.append(helpAncObj);listDivObj.append(listHelpDivObj);divObj.append(listDivObj);var bubbleTarget=jQuery("#"+bubbleTargetId).append(divObj);if(typeof showDefault==='undefined'){bubbleTarget.on('click',function(e){e["data"]={position:Bubble.positionLeft,setDataBack:true};var $element=jQuery(e.target),elementId=$element.attr("id");var isBubbleVisible=Bubble.isBubbleVisible[elementId];if(isBubbleVisible){var loginRegPopupData=jQuery("#loginRegPopup-data").html();if(loginRegPopupData!=''){Bubble["loginReg"]=loginRegPopupData;e["data"].hideCallback=saveThisListCallBack;}}
Bubble.showBubble(e);e.preventDefault();if(jQuery('#loginRegPopup').parent().hasClass('CARS_panelClass')){jQuery('#loginRegPopup').parent().removeClass('CARS_panelClass');}});}else{var data={position:Bubble.positionLeft,setDataBack:true,target:bubbleTarget};Bubble.show(data);if(jQuery('#saveRegPopup').parent().hasClass('CARS_panelClass')){jQuery('#saveRegPopup').parent().removeClass('CARS_panelClass');}}}
function saveDocsToList(event){event.preventDefault();if(jQuery("#saveRegPopup").length>0){jQuery("#saveRegPopup-data").remove();}
var targetObj=$(event.currentTarget);tempMyListPopup(targetObj.attr('id'),true);}
function helpRedirect(e){var helpUrl="../../https@help.elsevier.com/app/answers/detail/a_id/2356/p/8150";window.open(helpUrl,"_blank");}
function closeSaveBubble(e){Bubble.forceHideAll(e);e.preventDefault();}
function regListBubble(event){var regUrl
var targetObj=event.target.id;if(targetObj=='loginRegPopupRegclk'){regUrl=jQuery('#regSaveURL').val();}else{regUrl=jQuery('#regURL').val();}
window.open(regUrl,"_self");}
function loginListBubble(e){var loginUrl;var targetObj=e.target.id;if(targetObj=='loginRegPopupLogclk'){e["data"]={'elementId':'loginRegPopup'};Bubble.hide(e);var mylistPopupData=jQuery("#loginRegPopup-data").html();jQuery("#loginPopup-data").html(mylistPopupData);jQuery("#loginRegPopup-data").html('');e.target.id='loginRegPopup';jQuery('#loginRegPopup').parent().addClass('CARS_panelClass');setBubbleCnt.buildBubble('loginRegPopup','.resultsQueryBar',jQuery('#login_pop_container').html(),e,loginRegReset);}else{e["data"]={'elementId':'saveRegPopup'};Bubble.hide(e);var mylistPopupData=jQuery('#saveRegPopup-data').html();jQuery('#savePopup-data').html(mylistPopupData);jQuery('#saveRegPopup-data').html('');e.target.id='saveRegPopup';jQuery('#saveRegPopup').parent().addClass('CARS_panelClass');setBubbleCnt.buildBubble('saveRegPopup','#resultsPageOptions',jQuery('#login_pop_container').html(),e,saveRegReset);}}
function myListLoginKE(){jQuery("#bubbleContent-loginRegPopup #login_pop_container_logform form [name='origin']").val("mylist");jQuery("#bubbleContent-loginRegPopup #login_pop_container_logform form [name='zone']").val("header");jQuery("#bubbleContent-saveRegPopup #login_pop_container_logform form [name='origin']").val("mylist");jQuery("#bubbleContent-saveRegPopup #login_pop_container_logform form [name='zone']").val("header");}
function loginRegReset(){var mylistPopupData=jQuery("#loginPopup-data").html();jQuery("#loginPopup-data").html('');jQuery("#loginRegPopup-data").html(mylistPopupData);}
function saveRegReset(){var mylistPopupData=jQuery("#savePopup-data").html();jQuery("#savePopup-data").html('');jQuery("#saveRegPopup-data").html(mylistPopupData);}
function saveThisListCallBack(){var loginRegPopupDataObj=jQuery("#loginRegPopup-data");if(Bubble.hasOwnProperty("loginReg")){var loginRegPopupData=Bubble.loginReg;loginRegPopupDataObj.html(loginRegPopupData);}}
documentResultsList.adjustResultsColumn=function(){var lastColWidth=jQuery('#documentListUl li').last().find('div.dataCol1').width();var getLstChkVal=jQuery('#documentListUl li').last().find('div.dataCol1 .listItemCount').text().length;jQuery('#documentListUl li').find('div.dataCol1').width(lastColWidth);jQuery('#resultsPageOptions span.selectOptions > span').width(lastColWidth);if(getLstChkVal==3){jQuery('#resultsPageOptions span.selectOptions span').css({'right':'-1.5px'});jQuery('#srchResultsList div.linkRow').css({'margin-left':'6px'});}
if(getLstChkVal==4){jQuery('#resultsPageOptions span.selectOptions span').css({'right':'-3px'});jQuery('#srchResultsList div.linkRow').css({'margin-left':'12px'});}};var scivalModalOverlay={orig:"resultslist",eidList:{},exportSVClick:function(){var isSavedList=jQuery("#isSavedList").val();if(isSavedList=="true"){scivalModalOverlay.orig="savedlist";}
var sid=jQuery("#scival").attr("data-sid");var src=jQuery("#scival").attr("data-src");var param="origin="+scivalModalOverlay.orig+"&src="+src+"&sid="+sid+"&all=t";jQuery.ajax({type:"POST",url:'exportscival.uri',data:param,success:function(data){scivalModalOverlay.eidList=data;}});scivalModalOverlay.drawScivalOverlay();scivalModalOverlay.setOpacityModalOverlay();jQuery('.scivalModalHdrCnt').addClass("displayNone");jQuery('#firstContainer').removeClass("displayNone");jQuery('#secondContainer').addClass("displayNone");jQuery("#scivalExportMsg").addClass("displayNone");},drawScivalOverlay:function(){jQuery("#scivalModalOverlay-dialog").dialog({modal:true,width:496,height:352,zIndex:200000}).removeClass("displayNone");jQuery(".ui-dialog .ui-dialog-titlebar").hide();jQuery("#scivalModalOverlay-dialog").dialog("close").dialog("open");jQuery('body').css('overflow','hidden');scivalModalOverlay.modalOverlayPos();jQuery("#closeModal,#cancelScival").live("click",function(ev){jQuery("#scivalModalOverlay-dialog").dialog("close");jQuery('body').css({'overflow':'inherit'});ev.preventDefault();});},modalOverlayPos:function(){var winHeight=jQuery(window).height();var modalOverlayHeight=jQuery('.modalOverlayPopUp').parent().height();var totalTopVal=(winHeight-modalOverlayHeight)/2;var setTopPos=totalTopVal+10;var winWidth=jQuery(window).width();var modalOverlayWidth=jQuery('#scivalModalOverlay-dialog').width();var totalLeftVal=(winWidth-modalOverlayWidth)/2;var setLeftPos=totalLeftVal;if(jQuery("#scivalModalOverlay-dialog").parent().hasClass('ui-dialog')){jQuery("#scivalModalOverlay-dialog").parent().css({'position':'absolute','top':setTopPos,'left':setLeftPos,'z-index':'200002'});}},callScivalAction:function(){var redirectUrl='/results/exportscival.uri?'
+'&activity=KER'
+'&origin='+scivalModalOverlay.orig;jQuery.ajax({type:"GET",url:redirectUrl,success:function(data){}});var targWinName='hubDataInNewWindow';var isEidListEmpty=scivalModalOverlay.eidList.params["docs"].length;if(isEidListEmpty){window["scivalWin_"]=window.open('',targWinName,"");jQuery("body").append('<form id="scivalForm"></form>');jQuery('#scivalForm').attr("method","post").attr("target",targWinName).append('<input type="hidden" name="docSet" id="docSet" value='+jQuery.stringify(scivalModalOverlay.eidList.params)+'>');jQuery('#scivalForm').attr('action',scivalModalOverlay.eidList.url).submit();jQuery('.scivalModalHdrCnt').removeClass("displayNone");jQuery('#firstContainer').addClass("displayNone");jQuery('#secondContainer').removeClass("displayNone");}else{jQuery("#scivalModalOverlay-dialog").dialog("close");jQuery('body').css('overflow','auto');jQuery("#scivalExportMsg").removeClass("displayNone");}},callScivalPopup:function(){jQuery('#scivalModalOverlay-dialog').hide();jQuery('.ui-widget-overlay').remove();var sid=jQuery("#scival").attr("data-sid");var src=jQuery("#scival").attr("data-src");var param="@all=t&sid="+sid+"&src="+src+"&origin="+scivalModalOverlay.orig;window.location='../list/form/setupStep.uri'+param;},setOpacityModalOverlay:function(){jQuery('#scivalModalOverlay-dialog').parent().prev().css({'background-color':'#000000','opacity':'0.5','z-index':'200001'});}};jQuery(document).ready(function(){displayNavigatorsRestoreLinks();showHideLastDocHeaderLnk();enableDisableFeatureRowLnkInit();listItemHover.init();showClusterStateInSession(clusterState);jQuery(window).resize(function(){if(jQuery("#scivalModalOverlay-dialog").length>0){scivalModalOverlay.modalOverlayPos();}
showHideLastDocHeaderLnk();});if(jQuery("#confirmMsgContainer,#errorMsgContainer,#warningMsgContainer,#infoMsgContainer").length){jQuery('.ariaHidden').focus();}
if(jQuery('#exportScival').length){jQuery('#exportScival').on("click",scivalModalOverlay.exportSVClick);}
tempMyListPopup('loginRegPopup');jQuery('#saveRegPopup').on('click',saveDocsToList);jQuery('#loginRegPopup').click();});documentResultsList.adjustResultsColumn();if(typeof isPreviewPage!='undefined'){documentSortInit(isPreviewPage);}
OhubLinkGeneration();var isPatLinkEnabled=jQuery(".resultsOptionalLinks").attr("data-isPatLink")==="true";if(isPatLinkEnabled){updatePatTab();}
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory);}else{factory(jQuery);}}(function($){$.ui=$.ui||{};$.extend($.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});$.fn.extend({scrollParent:function(includeHidden){var position=this.css("position"),excludeStaticParent=position==="absolute",overflowRegex=includeHidden?/(auto|scroll|hidden)/:/(auto|scroll)/,scrollParent=this.parents().filter(function(){var parent=$(this);if(excludeStaticParent&&parent.css("position")==="static"){return false;}
return overflowRegex.test(parent.css("overflow")+parent.css("overflow-y")+parent.css("overflow-x"));}).eq(0);return position==="fixed"||!scrollParent.length?$(this[0].ownerDocument||document):scrollParent;},uniqueId:(function(){var uuid=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++uuid);}});};})(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){$(this).removeAttr("id");}});}});function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false;}
img=$("img[usemap='#"+mapName+"']")[0];return!!img&&visible(img);}
return(/^(input|select|textarea|button|object)$/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element);}
function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return $.css(this,"visibility")==="hidden";}).length;}
$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName);};}):function(elem,i,match){return!!$.data(elem,match[3]);},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")));},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN);}});if(!$("<a>").outerWidth(1).jquery){$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;if(border){size-=parseFloat($.css(elem,"border"+this+"Width"))||0;}
if(margin){size-=parseFloat($.css(elem,"margin"+this))||0;}});return size;}
$.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this);}
return this.each(function(){$(this).css(type,reduce(this,size)+"px");});};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size);}
return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px");});};});}
if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};}
if($("<a>").data("a-b","a").removeData("a-b").data("a-b")){$.fn.removeData=(function(removeData){return function(key){if(arguments.length){return removeData.call(this,$.camelCase(key));}else{return removeData.call(this);}};})($.fn.removeData);}
$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());$.fn.extend({focus:(function(orig){return function(delay,fn){return typeof delay==="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();if(fn){fn.call(elem);}},delay);}):orig.apply(this,arguments);};})($.fn.focus),disableSelection:(function(){var eventType="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(eventType+".ui-disableSelection",function(event){event.preventDefault();});};})(),enableSelection:function(){return this.unbind(".ui-disableSelection");},zIndex:function(zIndex){if(zIndex!==undefined){return this.css("zIndex",zIndex);}
if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value;}}
elem=elem.parent();}}
return 0;}});$.ui.plugin={add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]]);}},call:function(instance,name,args,allowDisconnected){var i,set=instance.plugins[name];if(!set){return;}
if(!allowDisconnected&&(!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11)){return;}
for(i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args);}}}};var widget_uuid=0,widget_slice=Array.prototype.slice;$.cleanData=(function(orig){return function(elems){var events,elem,i;for(i=0;(elem=elems[i])!=null;i++){try{events=$._data(elem,"events");if(events&&events.remove){$(elem).triggerHandler("remove");}}catch(e){}}
orig(elems);};})($.cleanData);$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget;}
$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName);};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element);}
if(arguments.length){this._createWidget(options,element);}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base();basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return;}
proxiedPrototype[prop]=(function(){var _super=function(){return base.prototype[prop].apply(this,arguments);},_superApply=function(args){return base.prototype[prop].apply(this,args);};return function(){var __super=this._super,__superApply=this._superApply,returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue;};})();});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?(basePrototype.widgetEventPrefix||name):name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto);});delete existingConstructor._childConstructors;}else{base._childConstructors.push(constructor);}
$.widget.bridge(name,constructor);return constructor;};$.widget.extend=function(target){var input=widget_slice.call(arguments,1),inputIndex=0,inputLength=input.length,key,value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value);}else{target[key]=value;}}}}
return target;};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=widget_slice.call(arguments,1),returnValue=this;if(isMethodCall){this.each(function(){var methodValue,instance=$.data(this,fullName);if(options==="instance"){returnValue=instance;return false;}
if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'");}
if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance");}
methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false;}});}else{if(args.length){options=$.widget.extend.apply(null,[options].concat(args));}
this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{});if(instance._init){instance._init();}}else{$.data(this,fullName,new object(options,this));}});}
return returnValue;};};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=widget_uuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=$();this.hoverable=$();this.focusable=$();if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===element){this.destroy();}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow);}
this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this._create();this._trigger("create",null,this._getCreateEventData());this._init();},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");},_destroy:$.noop,widget:function(){return this.element;},option:function(key,value){var options=key,parts,curOption,i;if(arguments.length===0){return $.widget.extend({},this.options);}
if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]];}
key=parts.pop();if(arguments.length===1){return curOption[key]===undefined?null:curOption[key];}
curOption[key]=value;}else{if(arguments.length===1){return this.options[key]===undefined?null:this.options[key];}
options[key]=value;}}
this._setOptions(options);return this;},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key]);}
return this;},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled",!!value);if(value){this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");}}
return this;},enable:function(){return this._setOptions({disabled:false});},disable:function(){return this._setOptions({disabled:true});},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false;}
if(!handlers){handlers=element;element=this.element;delegateElement=this.widget();}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element);}
$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return;}
return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++;}
var match=event.match(/^([\w:-]*)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];if(selector){delegateElement.delegate(selector,eventName,handlerProxy);}else{element.bind(eventName,handlerProxy);}});},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+
this.eventNamespace;element.unbind(eventName).undelegate(eventName);this.bindings=$(this.bindings.not(element).get());this.focusable=$(this.focusable.not(element).get());this.hoverable=$(this.hoverable.not(element).get());},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
var instance=this;return setTimeout(handlerProxy,delay||0);},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover");},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover");}});},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus");},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus");}});},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop];}}}
this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented());}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options};}
var hasOptions,effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options};}
hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay);}
if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options);}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback);}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0]);}
next();});}};});var widget=$.widget;var mouseHandled=false;$(document).mouseup(function(){mouseHandled=false;});var mouse=$.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.bind("mousedown."+this.widgetName,function(event){return that._mouseDown(event);}).bind("click."+this.widgetName,function(event){if(true===$.data(event.target,that.widgetName+".preventClickEvent")){$.removeData(event.target,that.widgetName+".preventClickEvent");event.stopImmediatePropagation();return false;}});this.started=false;},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);}},_mouseDown:function(event){if(mouseHandled){return;}
this._mouseMoved=false;(this._mouseStarted&&this._mouseUp(event));this._mouseDownEvent=event;var that=this,btnIsLeft=(event.which===1),elIsCancel=(typeof this.options.cancel==="string"&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:false);if(!btnIsLeft||elIsCancel||!this._mouseCapture(event)){return true;}
this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=true;},this.options.delay);}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(event)!==false);if(!this._mouseStarted){event.preventDefault();return true;}}
if(true===$.data(event.target,this.widgetName+".preventClickEvent")){$.removeData(event.target,this.widgetName+".preventClickEvent");}
this._mouseMoveDelegate=function(event){return that._mouseMove(event);};this._mouseUpDelegate=function(event){return that._mouseUp(event);};this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);event.preventDefault();mouseHandled=true;return true;},_mouseMove:function(event){if(this._mouseMoved){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button){return this._mouseUp(event);}else if(!event.which){return this._mouseUp(event);}}
if(event.which||event.button){this._mouseMoved=true;}
if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault();}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,event)!==false);(this._mouseStarted?this._mouseDrag(event):this._mouseUp(event));}
return!this._mouseStarted;},_mouseUp:function(event){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(event.target===this._mouseDownEvent.target){$.data(event.target,this.widgetName+".preventClickEvent",true);}
this._mouseStop(event);}
mouseHandled=false;return false;},_mouseDistanceMet:function(event){return(Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance);},_mouseDelayMet:function(){return this.mouseDelayMet;},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true;}});(function(){$.ui=$.ui||{};var cachedScrollbarWidth,supportsOffsetFractions,max=Math.max,abs=Math.abs,round=Math.round,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)];}
function parseCss(element,property){return parseInt($.css(element,property),10)||0;}
function getDimensions(elem){var raw=elem[0];if(raw.nodeType===9){return{width:elem.width(),height:elem.height(),offset:{top:0,left:0}};}
if($.isWindow(raw)){return{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}};}
if(raw.preventDefault){return{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}};}
return{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()};}
$.position={scrollbarWidth:function(){if(cachedScrollbarWidth!==undefined){return cachedScrollbarWidth;}
var w1,w2,div=$("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];$("body").append(div);w1=innerDiv.offsetWidth;div.css("overflow","scroll");w2=innerDiv.offsetWidth;if(w1===w2){w2=div[0].clientWidth;}
div.remove();return(cachedScrollbarWidth=w1-w2);},getScrollInfo:function(within){var overflowX=within.isWindow||within.isDocument?"":within.element.css("overflow-x"),overflowY=within.isWindow||within.isDocument?"":within.element.css("overflow-y"),hasOverflowX=overflowX==="scroll"||(overflowX==="auto"&&within.width<within.element[0].scrollWidth),hasOverflowY=overflowY==="scroll"||(overflowY==="auto"&&within.height<within.element[0].scrollHeight);return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0};},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]),isDocument=!!withinElement[0]&&withinElement[0].nodeType===9;return{element:withinElement,isWindow:isWindow,isDocument:isDocument,offset:withinElement.offset()||{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:isWindow||isDocument?withinElement.width():withinElement.outerWidth(),height:isWindow||isDocument?withinElement.height():withinElement.outerHeight()};}};$.fn.position=function(options){if(!options||!options.of){return _position.apply(this,arguments);}
options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};dimensions=getDimensions(target);if(target[0].preventDefault){options.at="left top";}
targetWidth=dimensions.width;targetHeight=dimensions.height;targetOffset=dimensions.offset;basePosition=$.extend({},targetOffset);$.each(["my","at"],function(){var pos=(options[this]||"").split(" "),horizontalOffset,verticalOffset;if(pos.length===1){pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"];}
pos[0]=rhorizontal.test(pos[0])?pos[0]:"center";pos[1]=rvertical.test(pos[1])?pos[1]:"center";horizontalOffset=roffset.exec(pos[0]);verticalOffset=roffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]];});if(collision.length===1){collision[1]=collision[0];}
if(options.at[0]==="right"){basePosition.left+=targetWidth;}else if(options.at[0]==="center"){basePosition.left+=targetWidth/2;}
if(options.at[1]==="bottom"){basePosition.top+=targetHeight;}else if(options.at[1]==="center"){basePosition.top+=targetHeight/2;}
atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==="right"){position.left-=elemWidth;}else if(options.my[0]==="center"){position.left-=elemWidth/2;}
if(options.my[1]==="bottom"){position.top-=elemHeight;}else if(options.my[1]==="center"){position.top-=elemHeight/2;}
position.left+=myOffset[0];position.top+=myOffset[1];if(!supportsOffsetFractions){position.left=round(position.left);position.top=round(position.top);}
collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]]){$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem});}});if(options.using){using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":left>0?"right":"center",vertical:bottom<0?"top":top>0?"bottom":"middle"};if(targetWidth<elemWidth&&abs(left+right)<targetWidth){feedback.horizontal="center";}
if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight){feedback.vertical="middle";}
if(max(abs(left),abs(right))>max(abs(top),abs(bottom))){feedback.important="horizontal";}else{feedback.important="vertical";}
options.using.call(this,props,feedback);};}
elem.offset($.extend(position,{using:using}));});};$.ui.position={fit:{left:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;if(data.collisionWidth>outerWidth){if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset;position.left+=overLeft-newOverRight;}else if(overRight>0&&overLeft<=0){position.left=withinOffset;}else{if(overLeft>overRight){position.left=withinOffset+outerWidth-data.collisionWidth;}else{position.left=withinOffset;}}}else if(overLeft>0){position.left+=overLeft;}else if(overRight>0){position.left-=overRight;}else{position.left=max(position.left-collisionPosLeft,position.left);}},top:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset,newOverBottom;if(data.collisionHeight>outerHeight){if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset;position.top+=overTop-newOverBottom;}else if(overBottom>0&&overTop<=0){position.top=withinOffset;}else{if(overTop>overBottom){position.top=withinOffset+outerHeight-data.collisionHeight;}else{position.top=withinOffset;}}}else if(overTop>0){position.top+=overTop;}else if(overBottom>0){position.top-=overBottom;}else{position.top=max(position.top-collisionPosTop,position.top);}}},flip:{left:function(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,atOffset=data.at[0]==="left"?data.targetWidth:data.at[0]==="right"?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft)){position.left+=myOffset+atOffset+offset;}}else if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight){position.left+=myOffset+atOffset+offset;}}},top:function(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]==="top",myOffset=top?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:data.at[1]==="bottom"?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset;if(newOverBottom<0||newOverBottom<abs(overTop)){position.top+=myOffset+atOffset+offset;}}else if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop;if(newOverTop>0||abs(newOverTop)<overBottom){position.top+=myOffset+atOffset+offset;}}}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments);$.ui.position.fit.left.apply(this,arguments);},top:function(){$.ui.position.flip.top.apply(this,arguments);$.ui.position.fit.top.apply(this,arguments);}}};(function(){var testElement,testElementParent,testElementStyle,offsetLeft,i,body=document.getElementsByTagName("body")[0],div=document.createElement("div");testElement=document.createElement(body?"div":"body");testElementStyle={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(body){$.extend(testElementStyle,{position:"absolute",left:"-1000px",top:"-1000px"});}
for(i in testElementStyle){testElement.style[i]=testElementStyle[i];}
testElement.appendChild(div);testElementParent=body||document.documentElement;testElementParent.insertBefore(testElement,testElementParent.firstChild);div.style.cssText="position: absolute; left: 10.7432222px;";offsetLeft=$(div).offset().left;supportsOffsetFractions=offsetLeft>10&&offsetLeft<11;testElement.innerHTML="";testElementParent.removeChild(testElement);})();})();var position=$.ui.position;$.widget("ui.draggable",$.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"){this._setPositionRelative();}
if(this.options.addClasses){this.element.addClass("ui-draggable");}
if(this.options.disabled){this.element.addClass("ui-draggable-disabled");}
this._setHandleClassName();this._mouseInit();},_setOption:function(key,value){this._super(key,value);if(key==="handle"){this._removeHandleClassName();this._setHandleClassName();}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return;}
this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._removeHandleClassName();this._mouseDestroy();},_mouseCapture:function(event){var o=this.options;this._blurActiveElement(event);if(this.helper||o.disabled||$(event.target).closest(".ui-resizable-handle").length>0){return false;}
this.handle=this._getHandle(event);if(!this.handle){return false;}
this._blockFrames(o.iframeFix===true?"iframe":o.iframeFix);return true;},_blockFrames:function(selector){this.iframeBlocks=this.document.find(selector).map(function(){var iframe=$(this);return $("<div>").css("position","absolute").appendTo(iframe.parent()).outerWidth(iframe.outerWidth()).outerHeight(iframe.outerHeight()).offset(iframe.offset())[0];});},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks;}},_blurActiveElement:function(event){var document=this.document[0];if(!this.handleElement.is(event.target)){return;}
try{if(document.activeElement&&document.activeElement.nodeName.toLowerCase()!=="body"){$(document.activeElement).blur();}}catch(error){}},_mouseStart:function(event){var o=this.options;this.helper=this._createHelper(event);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if($.ui.ddmanager){$.ui.ddmanager.current=this;}
this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return $(this).css("position")==="fixed";}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(event);this.originalPosition=this.position=this._generatePosition(event,false);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));this._setContainment();if(this._trigger("start",event)===false){this._clear();return false;}
this._cacheHelperProportions();if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}
this._normalizeRightBottom();this._mouseDrag(event,true);if($.ui.ddmanager){$.ui.ddmanager.dragStart(this,event);}
return true;},_refreshOffsets:function(event){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:event.pageX-this.offset.left,top:event.pageY-this.offset.top};},_mouseDrag:function(event,noPropagation){if(this.hasFixedAncestor){this.offset.parent=this._getParentOffset();}
this.position=this._generatePosition(event,true);this.positionAbs=this._convertPositionTo("absolute");if(!noPropagation){var ui=this._uiHash();if(this._trigger("drag",event,ui)===false){this._mouseUp({});return false;}
this.position=ui.position;}
this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";if($.ui.ddmanager){$.ui.ddmanager.drag(this,event);}
return false;},_mouseStop:function(event){var that=this,dropped=false;if($.ui.ddmanager&&!this.options.dropBehaviour){dropped=$.ui.ddmanager.drop(this,event);}
if(this.dropped){dropped=this.dropped;this.dropped=false;}
if((this.options.revert==="invalid"&&!dropped)||(this.options.revert==="valid"&&dropped)||this.options.revert===true||($.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped))){$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(that._trigger("stop",event)!==false){that._clear();}});}else{if(this._trigger("stop",event)!==false){this._clear();}}
return false;},_mouseUp:function(event){this._unblockFrames();if($.ui.ddmanager){$.ui.ddmanager.dragStop(this,event);}
if(this.handleElement.is(event.target)){this.element.focus();}
return $.ui.mouse.prototype._mouseUp.call(this,event);},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({});}else{this._clear();}
return this;},_getHandle:function(event){return this.options.handle?!!$(event.target).closest(this.element.find(this.options.handle)).length:true;},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this.handleElement.addClass("ui-draggable-handle");},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle");},_createHelper:function(event){var o=this.options,helperIsFunction=$.isFunction(o.helper),helper=helperIsFunction?$(o.helper.apply(this.element[0],[event])):(o.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!helper.parents("body").length){helper.appendTo((o.appendTo==="parent"?this.element[0].parentNode:o.appendTo));}
if(helperIsFunction&&helper[0]===this.element[0]){this._setPositionRelative();}
if(helper[0]!==this.element[0]&&!(/(fixed|absolute)/).test(helper.css("position"))){helper.css("position","absolute");}
return helper;},_setPositionRelative:function(){if(!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative";}},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ");}
if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}
if("left"in obj){this.offset.click.left=obj.left+this.margins.left;}
if("right"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}
if("top"in obj){this.offset.click.top=obj.top+this.margins.top;}
if("bottom"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_isRootNode:function(element){return(/(html|body)/i).test(element.tagName)||element===this.document[0];},_getParentOffset:function(){var po=this.offsetParent.offset(),document=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}
if(this._isRootNode(this.offsetParent[0])){po={top:0,left:0};}
return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition!=="relative"){return{top:0,left:0};}
var p=this.element.position(),scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+(!scrollIsRootNode?this.scrollParent.scrollTop():0),left:p.left-(parseInt(this.helper.css("left"),10)||0)+(!scrollIsRootNode?this.scrollParent.scrollLeft():0)};},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var isUserScrollable,c,ce,o=this.options,document=this.document[0];this.relativeContainer=null;if(!o.containment){this.containment=null;return;}
if(o.containment==="window"){this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-this.helperProportions.width-this.margins.left,$(window).scrollTop()+($(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return;}
if(o.containment==="document"){this.containment=[0,0,$(document).width()-this.helperProportions.width-this.margins.left,($(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return;}
if(o.containment.constructor===Array){this.containment=o.containment;return;}
if(o.containment==="parent"){o.containment=this.helper[0].parentNode;}
c=$(o.containment);ce=c[0];if(!ce){return;}
isUserScrollable=/(scroll|auto)/.test(c.css("overflow"));this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(isUserScrollable?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-
(parseInt(c.css("borderRightWidth"),10)||0)-
(parseInt(c.css("paddingRight"),10)||0)-
this.helperProportions.width-
this.margins.left-
this.margins.right,(isUserScrollable?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-
(parseInt(c.css("borderBottomWidth"),10)||0)-
(parseInt(c.css("paddingBottom"),10)||0)-
this.helperProportions.height-
this.margins.top-
this.margins.bottom];this.relativeContainer=c;},_convertPositionTo:function(d,pos){if(!pos){pos=this.position;}
var mod=d==="absolute"?1:-1,scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:(pos.top+
this.offset.relative.top*mod+
this.offset.parent.top*mod-
((this.cssPosition==="fixed"?-this.offset.scroll.top:(scrollIsRootNode?0:this.offset.scroll.top))*mod)),left:(pos.left+
this.offset.relative.left*mod+
this.offset.parent.left*mod-
((this.cssPosition==="fixed"?-this.offset.scroll.left:(scrollIsRootNode?0:this.offset.scroll.left))*mod))};},_generatePosition:function(event,constrainPosition){var containment,co,top,left,o=this.options,scrollIsRootNode=this._isRootNode(this.scrollParent[0]),pageX=event.pageX,pageY=event.pageY;if(!scrollIsRootNode||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()};}
if(constrainPosition){if(this.containment){if(this.relativeContainer){co=this.relativeContainer.offset();containment=[this.containment[0]+co.left,this.containment[1]+co.top,this.containment[2]+co.left,this.containment[3]+co.top];}else{containment=this.containment;}
if(event.pageX-this.offset.click.left<containment[0]){pageX=containment[0]+this.offset.click.left;}
if(event.pageY-this.offset.click.top<containment[1]){pageY=containment[1]+this.offset.click.top;}
if(event.pageX-this.offset.click.left>containment[2]){pageX=containment[2]+this.offset.click.left;}
if(event.pageY-this.offset.click.top>containment[3]){pageY=containment[3]+this.offset.click.top;}}
if(o.grid){top=o.grid[1]?this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;pageY=containment?((top-this.offset.click.top>=containment[1]||top-this.offset.click.top>containment[3])?top:((top-this.offset.click.top>=containment[1])?top-o.grid[1]:top+o.grid[1])):top;left=o.grid[0]?this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;pageX=containment?((left-this.offset.click.left>=containment[0]||left-this.offset.click.left>containment[2])?left:((left-this.offset.click.left>=containment[0])?left-o.grid[0]:left+o.grid[0])):left;}
if(o.axis==="y"){pageX=this.originalPageX;}
if(o.axis==="x"){pageY=this.originalPageY;}}
return{top:(pageY-
this.offset.click.top-
this.offset.relative.top-
this.offset.parent.top+
(this.cssPosition==="fixed"?-this.offset.scroll.top:(scrollIsRootNode?0:this.offset.scroll.top))),left:(pageX-
this.offset.click.left-
this.offset.relative.left-
this.offset.parent.left+
(this.cssPosition==="fixed"?-this.offset.scroll.left:(scrollIsRootNode?0:this.offset.scroll.left)))};},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove();}
this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy();}},_normalizeRightBottom:function(){if(this.options.axis!=="y"&&this.helper.css("right")!=="auto"){this.helper.width(this.helper.width());this.helper.css("right","auto");}
if(this.options.axis!=="x"&&this.helper.css("bottom")!=="auto"){this.helper.height(this.helper.height());this.helper.css("bottom","auto");}},_trigger:function(type,event,ui){ui=ui||this._uiHash();$.ui.plugin.call(this,type,[event,ui,this],true);if(/^(drag|start|stop)/.test(type)){this.positionAbs=this._convertPositionTo("absolute");ui.offset=this.positionAbs;}
return $.Widget.prototype._trigger.call(this,type,event,ui);},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs};}});$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.sortables=[];$(draggable.options.connectToSortable).each(function(){var sortable=$(this).sortable("instance");if(sortable&&!sortable.options.disabled){draggable.sortables.push(sortable);sortable.refreshPositions();sortable._trigger("activate",event,uiSortable);}});},stop:function(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.cancelHelperRemoval=false;$.each(draggable.sortables,function(){var sortable=this;if(sortable.isOver){sortable.isOver=0;draggable.cancelHelperRemoval=true;sortable.cancelHelperRemoval=false;sortable._storedCSS={position:sortable.placeholder.css("position"),top:sortable.placeholder.css("top"),left:sortable.placeholder.css("left")};sortable._mouseStop(event);sortable.options.helper=sortable.options._helper;}else{sortable.cancelHelperRemoval=true;sortable._trigger("deactivate",event,uiSortable);}});},drag:function(event,ui,draggable){$.each(draggable.sortables,function(){var innermostIntersecting=false,sortable=this;sortable.positionAbs=draggable.positionAbs;sortable.helperProportions=draggable.helperProportions;sortable.offset.click=draggable.offset.click;if(sortable._intersectsWith(sortable.containerCache)){innermostIntersecting=true;$.each(draggable.sortables,function(){this.positionAbs=draggable.positionAbs;this.helperProportions=draggable.helperProportions;this.offset.click=draggable.offset.click;if(this!==sortable&&this._intersectsWith(this.containerCache)&&$.contains(sortable.element[0],this.element[0])){innermostIntersecting=false;}
return innermostIntersecting;});}
if(innermostIntersecting){if(!sortable.isOver){sortable.isOver=1;draggable._parent=ui.helper.parent();sortable.currentItem=ui.helper.appendTo(sortable.element).data("ui-sortable-item",true);sortable.options._helper=sortable.options.helper;sortable.options.helper=function(){return ui.helper[0];};event.target=sortable.currentItem[0];sortable._mouseCapture(event,true);sortable._mouseStart(event,true,true);sortable.offset.click.top=draggable.offset.click.top;sortable.offset.click.left=draggable.offset.click.left;sortable.offset.parent.left-=draggable.offset.parent.left-
sortable.offset.parent.left;sortable.offset.parent.top-=draggable.offset.parent.top-
sortable.offset.parent.top;draggable._trigger("toSortable",event);draggable.dropped=sortable.element;$.each(draggable.sortables,function(){this.refreshPositions();});draggable.currentItem=draggable.element;sortable.fromOutside=draggable;}
if(sortable.currentItem){sortable._mouseDrag(event);ui.position=sortable.position;}}else{if(sortable.isOver){sortable.isOver=0;sortable.cancelHelperRemoval=true;sortable.options._revert=sortable.options.revert;sortable.options.revert=false;sortable._trigger("out",event,sortable._uiHash(sortable));sortable._mouseStop(event,true);sortable.options.revert=sortable.options._revert;sortable.options.helper=sortable.options._helper;if(sortable.placeholder){sortable.placeholder.remove();}
ui.helper.appendTo(draggable._parent);draggable._refreshOffsets(event);ui.position=draggable._generatePosition(event,true);draggable._trigger("fromSortable",event);draggable.dropped=false;$.each(draggable.sortables,function(){this.refreshPositions();});}}});}});$.ui.plugin.add("draggable","cursor",{start:function(event,ui,instance){var t=$("body"),o=instance.options;if(t.css("cursor")){o._cursor=t.css("cursor");}
t.css("cursor",o.cursor);},stop:function(event,ui,instance){var o=instance.options;if(o._cursor){$("body").css("cursor",o._cursor);}}});$.ui.plugin.add("draggable","opacity",{start:function(event,ui,instance){var t=$(ui.helper),o=instance.options;if(t.css("opacity")){o._opacity=t.css("opacity");}
t.css("opacity",o.opacity);},stop:function(event,ui,instance){var o=instance.options;if(o._opacity){$(ui.helper).css("opacity",o._opacity);}}});$.ui.plugin.add("draggable","scroll",{start:function(event,ui,i){if(!i.scrollParentNotHidden){i.scrollParentNotHidden=i.helper.scrollParent(false);}
if(i.scrollParentNotHidden[0]!==i.document[0]&&i.scrollParentNotHidden[0].tagName!=="HTML"){i.overflowOffset=i.scrollParentNotHidden.offset();}},drag:function(event,ui,i){var o=i.options,scrolled=false,scrollParent=i.scrollParentNotHidden[0],document=i.document[0];if(scrollParent!==document&&scrollParent.tagName!=="HTML"){if(!o.axis||o.axis!=="x"){if((i.overflowOffset.top+scrollParent.offsetHeight)-event.pageY<o.scrollSensitivity){scrollParent.scrollTop=scrolled=scrollParent.scrollTop+o.scrollSpeed;}else if(event.pageY-i.overflowOffset.top<o.scrollSensitivity){scrollParent.scrollTop=scrolled=scrollParent.scrollTop-o.scrollSpeed;}}
if(!o.axis||o.axis!=="y"){if((i.overflowOffset.left+scrollParent.offsetWidth)-event.pageX<o.scrollSensitivity){scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft+o.scrollSpeed;}else if(event.pageX-i.overflowOffset.left<o.scrollSensitivity){scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft-o.scrollSpeed;}}}else{if(!o.axis||o.axis!=="x"){if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);}else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}}
if(!o.axis||o.axis!=="y"){if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);}else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}}
if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(i,event);}}});$.ui.plugin.add("draggable","snap",{start:function(event,ui,i){var o=i.options;i.snapElements=[];$(o.snap.constructor!==String?(o.snap.items||":data(ui-draggable)"):o.snap).each(function(){var $t=$(this),$o=$t.offset();if(this!==i.element[0]){i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left});}});},drag:function(event,ui,inst){var ts,bs,ls,rs,l,r,t,b,i,first,o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height;for(i=inst.snapElements.length-1;i>=0;i--){l=inst.snapElements[i].left-inst.margins.left;r=l+inst.snapElements[i].width;t=inst.snapElements[i].top-inst.margins.top;b=t+inst.snapElements[i].height;if(x2<l-d||x1>r+d||y2<t-d||y1>b+d||!$.contains(inst.snapElements[i].item.ownerDocument,inst.snapElements[i].item)){if(inst.snapElements[i].snapping){(inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));}
inst.snapElements[i].snapping=false;continue;}
if(o.snapMode!=="inner"){ts=Math.abs(t-y2)<=d;bs=Math.abs(b-y1)<=d;ls=Math.abs(l-x2)<=d;rs=Math.abs(r-x1)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top;}
if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top;}
if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left;}
if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left;}}
first=(ts||bs||ls||rs);if(o.snapMode!=="outer"){ts=Math.abs(t-y1)<=d;bs=Math.abs(b-y2)<=d;ls=Math.abs(l-x1)<=d;rs=Math.abs(r-x2)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top;}
if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top;}
if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left;}
if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left;}}
if(!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first)){(inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));}
inst.snapElements[i].snapping=(ts||bs||ls||rs||first);}}});$.ui.plugin.add("draggable","stack",{start:function(event,ui,instance){var min,o=instance.options,group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0);});if(!group.length){return;}
min=parseInt($(group[0]).css("zIndex"),10)||0;$(group).each(function(i){$(this).css("zIndex",min+i);});this.css("zIndex",(min+group.length));}});$.ui.plugin.add("draggable","zIndex",{start:function(event,ui,instance){var t=$(ui.helper),o=instance.options;if(t.css("zIndex")){o._zIndex=t.css("zIndex");}
t.css("zIndex",o.zIndex);},stop:function(event,ui,instance){var o=instance.options;if(o._zIndex){$(ui.helper).css("zIndex",o._zIndex);}}});var draggable=$.ui.draggable;$.widget("ui.resizable",$.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(value){return parseInt(value,10)||0;},_isNumber:function(value){return!isNaN(parseInt(value,10));},_hasScroll:function(el,a){if($(el).css("overflow")==="hidden"){return false;}
var scroll=(a&&a==="left")?"scrollLeft":"scrollTop",has=false;if(el[scroll]>0){return true;}
el[scroll]=1;has=(el[scroll]>0);el[scroll]=0;return has;},_create:function(){var n,i,handle,axis,hname,that=this,o=this.options;this.element.addClass("ui-resizable");$.extend(this,{_aspectRatio:!!(o.aspectRatio),aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize();}
this.handles=o.handles||(!$(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});this._handles=$();if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw";}
n=this.handles.split(",");this.handles={};for(i=0;i<n.length;i++){handle=$.trim(n[i]);hname="ui-resizable-"+handle;axis=$("<div class='ui-resizable-handle "+hname+"'></div>");axis.css({zIndex:o.zIndex});if("se"===handle){axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se");}
this.handles[handle]=".ui-resizable-"+handle;this.element.append(axis);}}
this._renderAxis=function(target){var i,axis,padPos,padWrapper;target=target||this.element;for(i in this.handles){if(this.handles[i].constructor===String){this.handles[i]=this.element.children(this.handles[i]).first().show();}else if(this.handles[i].jquery||this.handles[i].nodeType){this.handles[i]=$(this.handles[i]);this._on(this.handles[i],{"mousedown":that._mouseDown});}
if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){axis=$(this.handles[i],this.element);padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth();padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");target.css(padPos,padWrapper);this._proportionallyResize();}
this._handles=this._handles.add(this.handles[i]);}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.mouseover(function(){if(!that.resizing){if(this.className){axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);}
that.axis=axis&&axis[1]?axis[1]:"se";}});if(o.autoHide){this._handles.hide();$(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(o.disabled){return;}
$(this).removeClass("ui-resizable-autohide");that._handles.show();}).mouseleave(function(){if(o.disabled){return;}
if(!that.resizing){$(this).addClass("ui-resizable-autohide");that._handles.hide();}});}
this._mouseInit();},_destroy:function(){this._mouseDestroy();var wrapper,_destroy=function(exp){$(exp).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove();};if(this.elementIsWrapper){_destroy(this.element);wrapper=this.element;this.originalElement.css({position:wrapper.css("position"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css("top"),left:wrapper.css("left")}).insertAfter(wrapper);wrapper.remove();}
this.originalElement.css("resize",this.originalResizeStyle);_destroy(this.originalElement);return this;},_mouseCapture:function(event){var i,handle,capture=false;for(i in this.handles){handle=$(this.handles[i])[0];if(handle===event.target||$.contains(handle,event.target)){capture=true;}}
return!this.options.disabled&&capture;},_mouseStart:function(event){var curleft,curtop,cursor,o=this.options,el=this.element;this.resizing=true;this._renderProxy();curleft=this._num(this.helper.css("left"));curtop=this._num(this.helper.css("top"));if(o.containment){curleft+=$(o.containment).scrollLeft()||0;curtop+=$(o.containment).scrollTop()||0;}
this.offset=this.helper.offset();this.position={left:curleft,top:curtop};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:el.width(),height:el.height()};this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()};this.originalPosition={left:curleft,top:curtop};this.originalMousePosition={left:event.pageX,top:event.pageY};this.aspectRatio=(typeof o.aspectRatio==="number")?o.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);cursor=$(".ui-resizable-"+this.axis).css("cursor");$("body").css("cursor",cursor==="auto"?this.axis+"-resize":cursor);el.addClass("ui-resizable-resizing");this._propagate("start",event);return true;},_mouseDrag:function(event){var data,props,smp=this.originalMousePosition,a=this.axis,dx=(event.pageX-smp.left)||0,dy=(event.pageY-smp.top)||0,trigger=this._change[a];this._updatePrevProperties();if(!trigger){return false;}
data=trigger.apply(this,[event,dx,dy]);this._updateVirtualBoundaries(event.shiftKey);if(this._aspectRatio||event.shiftKey){data=this._updateRatio(data,event);}
data=this._respectSize(data,event);this._updateCache(data);this._propagate("resize",event);props=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize();}
if(!$.isEmptyObject(props)){this._updatePrevProperties();this._trigger("resize",event,this.ui());this._applyChanges();}
return false;},_mouseStop:function(event){this.resizing=false;var pr,ista,soffseth,soffsetw,s,left,top,o=this.options,that=this;if(this._helper){pr=this._proportionallyResizeElements;ista=pr.length&&(/textarea/i).test(pr[0].nodeName);soffseth=ista&&this._hasScroll(pr[0],"left")?0:that.sizeDiff.height;soffsetw=ista?0:that.sizeDiff.width;s={width:(that.helper.width()-soffsetw),height:(that.helper.height()-soffseth)};left=(parseInt(that.element.css("left"),10)+
(that.position.left-that.originalPosition.left))||null;top=(parseInt(that.element.css("top"),10)+
(that.position.top-that.originalPosition.top))||null;if(!o.animate){this.element.css($.extend(s,{top:top,left:left}));}
that.helper.height(that.size.height);that.helper.width(that.size.width);if(this._helper&&!o.animate){this._proportionallyResize();}}
$("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",event);if(this._helper){this.helper.remove();}
return false;},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height};},_applyChanges:function(){var props={};if(this.position.top!==this.prevPosition.top){props.top=this.position.top+"px";}
if(this.position.left!==this.prevPosition.left){props.left=this.position.left+"px";}
if(this.size.width!==this.prevSize.width){props.width=this.size.width+"px";}
if(this.size.height!==this.prevSize.height){props.height=this.size.height+"px";}
this.helper.css(props);return props;},_updateVirtualBoundaries:function(forceAspectRatio){var pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b,o=this.options;b={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||forceAspectRatio){pMinWidth=b.minHeight*this.aspectRatio;pMinHeight=b.minWidth/this.aspectRatio;pMaxWidth=b.maxHeight*this.aspectRatio;pMaxHeight=b.maxWidth/this.aspectRatio;if(pMinWidth>b.minWidth){b.minWidth=pMinWidth;}
if(pMinHeight>b.minHeight){b.minHeight=pMinHeight;}
if(pMaxWidth<b.maxWidth){b.maxWidth=pMaxWidth;}
if(pMaxHeight<b.maxHeight){b.maxHeight=pMaxHeight;}}
this._vBoundaries=b;},_updateCache:function(data){this.offset=this.helper.offset();if(this._isNumber(data.left)){this.position.left=data.left;}
if(this._isNumber(data.top)){this.position.top=data.top;}
if(this._isNumber(data.height)){this.size.height=data.height;}
if(this._isNumber(data.width)){this.size.width=data.width;}},_updateRatio:function(data){var cpos=this.position,csize=this.size,a=this.axis;if(this._isNumber(data.height)){data.width=(data.height*this.aspectRatio);}else if(this._isNumber(data.width)){data.height=(data.width/this.aspectRatio);}
if(a==="sw"){data.left=cpos.left+(csize.width-data.width);data.top=null;}
if(a==="nw"){data.top=cpos.top+(csize.height-data.height);data.left=cpos.left+(csize.width-data.width);}
return data;},_respectSize:function(data){var o=this._vBoundaries,a=this.axis,ismaxw=this._isNumber(data.width)&&o.maxWidth&&(o.maxWidth<data.width),ismaxh=this._isNumber(data.height)&&o.maxHeight&&(o.maxHeight<data.height),isminw=this._isNumber(data.width)&&o.minWidth&&(o.minWidth>data.width),isminh=this._isNumber(data.height)&&o.minHeight&&(o.minHeight>data.height),dw=this.originalPosition.left+this.originalSize.width,dh=this.position.top+this.size.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);if(isminw){data.width=o.minWidth;}
if(isminh){data.height=o.minHeight;}
if(ismaxw){data.width=o.maxWidth;}
if(ismaxh){data.height=o.maxHeight;}
if(isminw&&cw){data.left=dw-o.minWidth;}
if(ismaxw&&cw){data.left=dw-o.maxWidth;}
if(isminh&&ch){data.top=dh-o.minHeight;}
if(ismaxh&&ch){data.top=dh-o.maxHeight;}
if(!data.width&&!data.height&&!data.left&&data.top){data.top=null;}else if(!data.width&&!data.height&&!data.top&&data.left){data.left=null;}
return data;},_getPaddingPlusBorderDimensions:function(element){var i=0,widths=[],borders=[element.css("borderTopWidth"),element.css("borderRightWidth"),element.css("borderBottomWidth"),element.css("borderLeftWidth")],paddings=[element.css("paddingTop"),element.css("paddingRight"),element.css("paddingBottom"),element.css("paddingLeft")];for(;i<4;i++){widths[i]=(parseInt(borders[i],10)||0);widths[i]+=(parseInt(paddings[i],10)||0);}
return{height:widths[0]+widths[2],width:widths[1]+widths[3]};},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return;}
var prel,i=0,element=this.helper||this.element;for(;i<this._proportionallyResizeElements.length;i++){prel=this._proportionallyResizeElements[i];if(!this.outerDimensions){this.outerDimensions=this._getPaddingPlusBorderDimensions(prel);}
prel.css({height:(element.height()-this.outerDimensions.height)||0,width:(element.width()-this.outerDimensions.width)||0});}},_renderProxy:function(){var el=this.element,o=this.options;this.elementOffset=el.offset();if(this._helper){this.helper=this.helper||$("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex});this.helper.appendTo("body").disableSelection();}else{this.helper=this.element;}},_change:{e:function(event,dx){return{width:this.originalSize.width+dx};},w:function(event,dx){var cs=this.originalSize,sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx};},n:function(event,dx,dy){var cs=this.originalSize,sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy};},s:function(event,dx,dy){return{height:this.originalSize.height+dy};},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]);(n!=="resize"&&this._trigger(n,event,this.ui()));},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition};}});$.ui.plugin.add("resizable","animate",{stop:function(event){var that=$(this).resizable("instance"),o=that.options,pr=that._proportionallyResizeElements,ista=pr.length&&(/textarea/i).test(pr[0].nodeName),soffseth=ista&&that._hasScroll(pr[0],"left")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width,style={width:(that.size.width-soffsetw),height:(that.size.height-soffseth)},left=(parseInt(that.element.css("left"),10)+
(that.position.left-that.originalPosition.left))||null,top=(parseInt(that.element.css("top"),10)+
(that.position.top-that.originalPosition.top))||null;that.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseInt(that.element.css("width"),10),height:parseInt(that.element.css("height"),10),top:parseInt(that.element.css("top"),10),left:parseInt(that.element.css("left"),10)};if(pr&&pr.length){$(pr[0]).css({width:data.width,height:data.height});}
that._updateCache(data);that._propagate("resize",event);}});}});$.ui.plugin.add("resizable","containment",{start:function(){var element,p,co,ch,cw,width,height,that=$(this).resizable("instance"),o=that.options,el=that.element,oc=o.containment,ce=(oc instanceof $)?oc.get(0):(/parent/.test(oc))?el.parent().get(0):oc;if(!ce){return;}
that.containerElement=$(ce);if(/document/.test(oc)||oc===document){that.containerOffset={left:0,top:0};that.containerPosition={left:0,top:0};that.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight};}else{element=$(ce);p=[];$(["Top","Right","Left","Bottom"]).each(function(i,name){p[i]=that._num(element.css("padding"+name));});that.containerOffset=element.offset();that.containerPosition=element.position();that.containerSize={height:(element.innerHeight()-p[3]),width:(element.innerWidth()-p[1])};co=that.containerOffset;ch=that.containerSize.height;cw=that.containerSize.width;width=(that._hasScroll(ce,"left")?ce.scrollWidth:cw);height=(that._hasScroll(ce)?ce.scrollHeight:ch);that.parentData={element:ce,left:co.left,top:co.top,width:width,height:height};}},resize:function(event){var woset,hoset,isParent,isOffsetRelative,that=$(this).resizable("instance"),o=that.options,co=that.containerOffset,cp=that.position,pRatio=that._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=that.containerElement,continueResize=true;if(ce[0]!==document&&(/static/).test(ce.css("position"))){cop=co;}
if(cp.left<(that._helper?co.left:0)){that.size.width=that.size.width+
(that._helper?(that.position.left-co.left):(that.position.left-cop.left));if(pRatio){that.size.height=that.size.width/that.aspectRatio;continueResize=false;}
that.position.left=o.helper?co.left:0;}
if(cp.top<(that._helper?co.top:0)){that.size.height=that.size.height+
(that._helper?(that.position.top-co.top):that.position.top);if(pRatio){that.size.width=that.size.height*that.aspectRatio;continueResize=false;}
that.position.top=that._helper?co.top:0;}
isParent=that.containerElement.get(0)===that.element.parent().get(0);isOffsetRelative=/relative|absolute/.test(that.containerElement.css("position"));if(isParent&&isOffsetRelative){that.offset.left=that.parentData.left+that.position.left;that.offset.top=that.parentData.top+that.position.top;}else{that.offset.left=that.element.offset().left;that.offset.top=that.element.offset().top;}
woset=Math.abs(that.sizeDiff.width+
(that._helper?that.offset.left-cop.left:(that.offset.left-co.left)));hoset=Math.abs(that.sizeDiff.height+
(that._helper?that.offset.top-cop.top:(that.offset.top-co.top)));if(woset+that.size.width>=that.parentData.width){that.size.width=that.parentData.width-woset;if(pRatio){that.size.height=that.size.width/that.aspectRatio;continueResize=false;}}
if(hoset+that.size.height>=that.parentData.height){that.size.height=that.parentData.height-hoset;if(pRatio){that.size.width=that.size.height*that.aspectRatio;continueResize=false;}}
if(!continueResize){that.position.left=that.prevPosition.left;that.position.top=that.prevPosition.top;that.size.width=that.prevSize.width;that.size.height=that.prevSize.height;}},stop:function(){var that=$(this).resizable("instance"),o=that.options,co=that.containerOffset,cop=that.containerPosition,ce=that.containerElement,helper=$(that.helper),ho=helper.offset(),w=helper.outerWidth()-that.sizeDiff.width,h=helper.outerHeight()-that.sizeDiff.height;if(that._helper&&!o.animate&&(/relative/).test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}
if(that._helper&&!o.animate&&(/static/).test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}}});$.ui.plugin.add("resizable","alsoResize",{start:function(){var that=$(this).resizable("instance"),o=that.options;$(o.alsoResize).each(function(){var el=$(this);el.data("ui-resizable-alsoresize",{width:parseInt(el.width(),10),height:parseInt(el.height(),10),left:parseInt(el.css("left"),10),top:parseInt(el.css("top"),10)});});},resize:function(event,ui){var that=$(this).resizable("instance"),o=that.options,os=that.originalSize,op=that.originalPosition,delta={height:(that.size.height-os.height)||0,width:(that.size.width-os.width)||0,top:(that.position.top-op.top)||0,left:(that.position.left-op.left)||0};$(o.alsoResize).each(function(){var el=$(this),start=$(this).data("ui-resizable-alsoresize"),style={},css=el.parents(ui.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);if(sum&&sum>=0){style[prop]=sum||null;}});el.css(style);});},stop:function(){$(this).removeData("resizable-alsoresize");}});$.ui.plugin.add("resizable","ghost",{start:function(){var that=$(this).resizable("instance"),o=that.options,cs=that.size;that.ghost=that.originalElement.clone();that.ghost.css({opacity:0.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof o.ghost==="string"?o.ghost:"");that.ghost.appendTo(that.helper);},resize:function(){var that=$(this).resizable("instance");if(that.ghost){that.ghost.css({position:"relative",height:that.size.height,width:that.size.width});}},stop:function(){var that=$(this).resizable("instance");if(that.ghost&&that.helper){that.helper.get(0).removeChild(that.ghost.get(0));}}});$.ui.plugin.add("resizable","grid",{resize:function(){var outerDimensions,that=$(this).resizable("instance"),o=that.options,cs=that.size,os=that.originalSize,op=that.originalPosition,a=that.axis,grid=typeof o.grid==="number"?[o.grid,o.grid]:o.grid,gridX=(grid[0]||1),gridY=(grid[1]||1),ox=Math.round((cs.width-os.width)/gridX)*gridX,oy=Math.round((cs.height-os.height)/gridY)*gridY,newWidth=os.width+ox,newHeight=os.height+oy,isMaxWidth=o.maxWidth&&(o.maxWidth<newWidth),isMaxHeight=o.maxHeight&&(o.maxHeight<newHeight),isMinWidth=o.minWidth&&(o.minWidth>newWidth),isMinHeight=o.minHeight&&(o.minHeight>newHeight);o.grid=grid;if(isMinWidth){newWidth+=gridX;}
if(isMinHeight){newHeight+=gridY;}
if(isMaxWidth){newWidth-=gridX;}
if(isMaxHeight){newHeight-=gridY;}
if(/^(se|s|e)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;}else if(/^(ne)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.top=op.top-oy;}else if(/^(sw)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.left=op.left-ox;}else{if(newHeight-gridY<=0||newWidth-gridX<=0){outerDimensions=that._getPaddingPlusBorderDimensions(this);}
if(newHeight-gridY>0){that.size.height=newHeight;that.position.top=op.top-oy;}else{newHeight=gridY-outerDimensions.height;that.size.height=newHeight;that.position.top=op.top+os.height-newHeight;}
if(newWidth-gridX>0){that.size.width=newWidth;that.position.left=op.left-ox;}else{newWidth=gridX-outerDimensions.width;that.size.width=newWidth;that.position.left=op.left+os.width-newWidth;}}}});var resizable=$.ui.resizable;var lastActive,baseClasses="ui-button ui-widget ui-state-default ui-corner-all",typeClasses="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",formResetHandler=function(){var form=$(this);setTimeout(function(){form.find(":ui-button").button("refresh");},1);},radioGroup=function(radio){var name=radio.name,form=radio.form,radios=$([]);if(name){name=name.replace(/'/g,"\\'");if(form){radios=$(form).find("[name='"+name+"'][type=radio]");}else{radios=$("[name='"+name+"'][type=radio]",radio.ownerDocument).filter(function(){return!this.form;});}}
return radios;};$.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,formResetHandler);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.prop("disabled");}else{this.element.prop("disabled",this.options.disabled);}
this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var that=this,options=this.options,toggleButton=this.type==="checkbox"||this.type==="radio",activeClass=!toggleButton?"ui-state-active":"";if(options.label===null){options.label=(this.type==="input"?this.buttonElement.val():this.buttonElement.html());}
this._hoverable(this.buttonElement);this.buttonElement.addClass(baseClasses).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(options.disabled){return;}
if(this===lastActive){$(this).addClass("ui-state-active");}}).bind("mouseleave"+this.eventNamespace,function(){if(options.disabled){return;}
$(this).removeClass(activeClass);}).bind("click"+this.eventNamespace,function(event){if(options.disabled){event.preventDefault();event.stopImmediatePropagation();}});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus");},blur:function(){this.buttonElement.removeClass("ui-state-focus");}});if(toggleButton){this.element.bind("change"+this.eventNamespace,function(){that.refresh();});}
if(this.type==="checkbox"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(options.disabled){return false;}});}else if(this.type==="radio"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(options.disabled){return false;}
$(this).addClass("ui-state-active");that.buttonElement.attr("aria-pressed","true");var radio=that.element[0];radioGroup(radio).not(radio).map(function(){return $(this).button("widget")[0];}).removeClass("ui-state-active").attr("aria-pressed","false");});}else{this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(options.disabled){return false;}
$(this).addClass("ui-state-active");lastActive=this;that.document.one("mouseup",function(){lastActive=null;});}).bind("mouseup"+this.eventNamespace,function(){if(options.disabled){return false;}
$(this).removeClass("ui-state-active");}).bind("keydown"+this.eventNamespace,function(event){if(options.disabled){return false;}
if(event.keyCode===$.ui.keyCode.SPACE||event.keyCode===$.ui.keyCode.ENTER){$(this).addClass("ui-state-active");}}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){$(this).removeClass("ui-state-active");});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(event){if(event.keyCode===$.ui.keyCode.SPACE){$(this).click();}});}}
this._setOption("disabled",options.disabled);this._resetButton();},_determineButtonType:function(){var ancestor,labelSelector,checked;if(this.element.is("[type=checkbox]")){this.type="checkbox";}else if(this.element.is("[type=radio]")){this.type="radio";}else if(this.element.is("input")){this.type="input";}else{this.type="button";}
if(this.type==="checkbox"||this.type==="radio"){ancestor=this.element.parents().last();labelSelector="label[for='"+this.element.attr("id")+"']";this.buttonElement=ancestor.find(labelSelector);if(!this.buttonElement.length){ancestor=ancestor.length?ancestor.siblings():this.element.siblings();this.buttonElement=ancestor.filter(labelSelector);if(!this.buttonElement.length){this.buttonElement=ancestor.find(labelSelector);}}
this.element.addClass("ui-helper-hidden-accessible");checked=this.element.is(":checked");if(checked){this.buttonElement.addClass("ui-state-active");}
this.buttonElement.prop("aria-pressed",checked);}else{this.buttonElement=this.element;}},widget:function(){return this.buttonElement;},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(baseClasses+" ui-state-active "+typeClasses).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title");}},_setOption:function(key,value){this._super(key,value);if(key==="disabled"){this.widget().toggleClass("ui-state-disabled",!!value);this.element.prop("disabled",!!value);if(value){if(this.type==="checkbox"||this.type==="radio"){this.buttonElement.removeClass("ui-state-focus");}else{this.buttonElement.removeClass("ui-state-focus ui-state-active");}}
return;}
this._resetButton();},refresh:function(){var isDisabled=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");if(isDisabled!==this.options.disabled){this._setOption("disabled",isDisabled);}
if(this.type==="radio"){radioGroup(this.element[0]).each(function(){if($(this).is(":checked")){$(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true");}else{$(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false");}});}else if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true");}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false");}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label);}
return;}
var buttonElement=this.buttonElement.removeClass(typeClasses),buttonText=$("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(buttonElement.empty()).text(),icons=this.options.icons,multipleIcons=icons.primary&&icons.secondary,buttonClasses=[];if(icons.primary||icons.secondary){if(this.options.text){buttonClasses.push("ui-button-text-icon"+(multipleIcons?"s":(icons.primary?"-primary":"-secondary")));}
if(icons.primary){buttonElement.prepend("<span class='ui-button-icon-primary ui-icon "+icons.primary+"'></span>");}
if(icons.secondary){buttonElement.append("<span class='ui-button-icon-secondary ui-icon "+icons.secondary+"'></span>");}
if(!this.options.text){buttonClasses.push(multipleIcons?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){buttonElement.attr("title",$.trim(buttonText));}}}else{buttonClasses.push("ui-button-text-only");}
buttonElement.addClass(buttonClasses.join(" "));}});$.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset");},_init:function(){this.refresh();},_setOption:function(key,value){if(key==="disabled"){this.buttons.button("option",key,value);}
this._super(key,value);},refresh:function(){var rtl=this.element.css("direction")==="rtl",allButtons=this.element.find(this.options.items),existingButtons=allButtons.filter(":ui-button");allButtons.not(":ui-button").button();existingButtons.button("refresh");this.buttons=allButtons.map(function(){return $(this).button("widget")[0];}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(rtl?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(rtl?"ui-corner-left":"ui-corner-right").end().end();},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return $(this).button("widget")[0];}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");}});var button=$.ui.button;var menu=$.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0});if(this.options.disabled){this.element.addClass("ui-state-disabled").attr("aria-disabled","true");}
this._on({"mousedown .ui-menu-item":function(event){event.preventDefault();},"click .ui-menu-item":function(event){var target=$(event.target);if(!this.mouseHandled&&target.not(".ui-state-disabled").length){this.select(event);if(!event.isPropagationStopped()){this.mouseHandled=true;}
if(target.has(".ui-menu").length){this.expand(event);}else if(!this.element.is(":focus")&&$(this.document[0].activeElement).closest(".ui-menu").length){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer);}}}},"mouseenter .ui-menu-item":function(event){if(this.previousFilter){return;}
var target=$(event.currentTarget);target.siblings(".ui-state-active").removeClass("ui-state-active");this.focus(event,target);},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(event,keepActiveItem){var item=this.active||this.element.find(this.options.items).eq(0);if(!keepActiveItem){this.focus(event,item);}},blur:function(event){this._delay(function(){if(!$.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(event);}});},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(event){if(this._closeOnDocumentClick(event)){this.collapseAll(event);}
this.mouseHandled=false;}});},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var elem=$(this);if(elem.data("ui-menu-submenu-carat")){elem.remove();}});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content");},_keydown:function(event){var match,prev,character,skip,preventDefault=true;switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move("first","first",event);break;case $.ui.keyCode.END:this._move("last","last",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(event);}
break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=false;prev=this.previousFilter||"";character=String.fromCharCode(event.keyCode);skip=false;clearTimeout(this.filterTimer);if(character===prev){skip=true;}else{character=prev+character;}
match=this._filterMenuItems(character);match=skip&&match.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):match;if(!match.length){character=String.fromCharCode(event.keyCode);match=this._filterMenuItems(character);}
if(match.length){this.focus(event,match);this.previousFilter=character;this.filterTimer=this._delay(function(){delete this.previousFilter;},1000);}else{delete this.previousFilter;}}
if(preventDefault){event.preventDefault();}},_activate:function(event){if(!this.active.is(".ui-state-disabled")){if(this.active.is("[aria-haspopup='true']")){this.expand(event);}else{this.select(event);}}},refresh:function(){var menus,items,that=this,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);submenus.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var menu=$(this),item=menu.parent(),submenuCarat=$("<span>").addClass("ui-menu-icon ui-icon "+icon).data("ui-menu-submenu-carat",true);item.attr("aria-haspopup","true").prepend(submenuCarat);menu.attr("aria-labelledby",item.attr("id"));});menus=submenus.add(this.element);items=menus.find(this.options.items);items.not(".ui-menu-item").each(function(){var item=$(this);if(that._isDivider(item)){item.addClass("ui-widget-content ui-menu-divider");}});items.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()});items.filter(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!$.contains(this.element[0],this.active[0])){this.blur();}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role];},_setOption:function(key,value){if(key==="icons"){this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(value.submenu);}
if(key==="disabled"){this.element.toggleClass("ui-state-disabled",!!value).attr("aria-disabled",value);}
this._super(key,value);},focus:function(event,item){var nested,focused;this.blur(event,event&&event.type==="focus");this._scrollIntoView(item);this.active=item.first();focused=this.active.addClass("ui-state-focus").removeClass("ui-state-active");if(this.options.role){this.element.attr("aria-activedescendant",focused.attr("id"));}
this.active.parent().closest(".ui-menu-item").addClass("ui-state-active");if(event&&event.type==="keydown"){this._close();}else{this.timer=this._delay(function(){this._close();},this.delay);}
nested=item.children(".ui-menu");if(nested.length&&event&&(/^mouse/.test(event.type))){this._startOpening(nested);}
this.activeMenu=item.parent();this._trigger("focus",event,{item:item});},_scrollIntoView:function(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;if(this._hasScroll()){borderTop=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0;paddingTop=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0;offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop;scroll=this.activeMenu.scrollTop();elementHeight=this.activeMenu.height();itemHeight=item.outerHeight();if(offset<0){this.activeMenu.scrollTop(scroll+offset);}else if(offset+itemHeight>elementHeight){this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight);}}},blur:function(event,fromFocus){if(!fromFocus){clearTimeout(this.timer);}
if(!this.active){return;}
this.active.removeClass("ui-state-focus");this.active=null;this._trigger("blur",event,{item:this.active});},_startOpening:function(submenu){clearTimeout(this.timer);if(submenu.attr("aria-hidden")!=="true"){return;}
this.timer=this._delay(function(){this._close();this._open(submenu);},this.delay);},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden","true");submenu.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(position);},collapseAll:function(event,all){clearTimeout(this.timer);this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(".ui-menu"));if(!currentMenu.length){currentMenu=this.element;}
this._close(currentMenu);this.blur(event);this.activeMenu=currentMenu;},this.delay);},_close:function(startMenu){if(!startMenu){startMenu=this.active?this.active.parent():this.element;}
startMenu.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active");},_closeOnDocumentClick:function(event){return!$(event.target).closest(".ui-menu").length;},_isDivider:function(item){return!/[^\-\u2014\u2013\s]/.test(item.text());},collapse:function(event){var newItem=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(newItem&&newItem.length){this._close();this.focus(event,newItem);}},expand:function(event){var newItem=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();if(newItem&&newItem.length){this._open(newItem.parent());this._delay(function(){this.focus(event,newItem);});}},next:function(event){this._move("next","first",event);},previous:function(event){this._move("prev","last",event);},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length;},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length;},_move:function(direction,filter,event){var next;if(this.active){if(direction==="first"||direction==="last"){next=this.active
[direction==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1);}else{next=this.active
[direction+"All"](".ui-menu-item").eq(0);}}
if(!next||!next.length||!this.active){next=this.activeMenu.find(this.options.items)[filter]();}
this.focus(event,next);},nextPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}
if(this.isLastItem()){return;}
if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base-height<0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.find(this.options.items)
[!this.active?"first":"last"]());}},previousPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}
if(this.isFirstItem()){return;}
if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base+height>0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.find(this.options.items).first());}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight");},select:function(event){this.active=this.active||$(event.target).closest(".ui-menu-item");var ui={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(event,true);}
this._trigger("select",event,ui);},_filterMenuItems:function(character){var escapedCharacter=character.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),regex=new RegExp("^"+escapedCharacter,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return regex.test($.trim($(this).text()));});}});var selectmenu=$.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var selectmenuId=this.element.uniqueId().attr("id");this.ids={element:selectmenuId,button:selectmenuId+"-button",menu:selectmenuId+"-menu"};this._drawButton();this._drawMenu();if(this.options.disabled){this.disable();}},_drawButton:function(){var that=this;this.label=$("label[for='"+this.ids.element+"']").attr("for",this.ids.button);this._on(this.label,{click:function(event){this.button.focus();event.preventDefault();}});this.element.hide();this.button=$("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element);$("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button);this.buttonText=$("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button);this._setText(this.buttonText,this.element.find("option:selected").text());this._resizeButton();this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){if(!that.menuItems){that._refreshMenu();}});this._hoverable(this.button);this._focusable(this.button);},_drawMenu:function(){var that=this;this.menu=$("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=$("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo());this.menuInstance=this.menu.menu({role:"listbox",select:function(event,ui){event.preventDefault();that._setSelection();that._select(ui.item.data("ui-selectmenu-item"),event);},focus:function(event,ui){var item=ui.item.data("ui-selectmenu-item");if(that.focusIndex!=null&&item.index!==that.focusIndex){that._trigger("focus",event,{item:item});if(!that.isOpen){that._select(item,event);}}
that.focusIndex=item.index;that.button.attr("aria-activedescendant",that.menuItems.eq(item.index).attr("id"));}}).menu("instance");this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return false;};this.menuInstance._isDivider=function(){return false;};},refresh:function(){this._refreshMenu();this._setText(this.buttonText,this._getSelectedItem().text());if(!this.options.width){this._resizeButton();}},_refreshMenu:function(){this.menu.empty();var item,options=this.element.find("option");if(!options.length){return;}
this._parseOptions(options);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup");item=this._getSelectedItem();this.menuInstance.focus(null,item);this._setAria(item.data("ui-selectmenu-item"));this._setOption("disabled",this.element.prop("disabled"));},open:function(event){if(this.options.disabled){return;}
if(!this.menuItems){this._refreshMenu();}else{this.menu.find(".ui-state-focus").removeClass("ui-state-focus");this.menuInstance.focus(null,this._getSelectedItem());}
this.isOpen=true;this._toggleAttr();this._resizeMenu();this._position();this._on(this.document,this._documentClick);this._trigger("open",event);},_position:function(){this.menuWrap.position($.extend({of:this.button},this.options.position));},close:function(event){if(!this.isOpen){return;}
this.isOpen=false;this._toggleAttr();this.range=null;this._off(this.document);this._trigger("close",event);},widget:function(){return this.button;},menuWidget:function(){return this.menu;},_renderMenu:function(ul,items){var that=this,currentOptgroup="";$.each(items,function(index,item){if(item.optgroup!==currentOptgroup){$("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+
(item.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:item.optgroup}).appendTo(ul);currentOptgroup=item.optgroup;}
that._renderItemData(ul,item);});},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-selectmenu-item",item);},_renderItem:function(ul,item){var li=$("<li>");if(item.disabled){li.addClass("ui-state-disabled");}
this._setText(li,item.label);return li.appendTo(ul);},_setText:function(element,value){if(value){element.text(value);}else{element.html("&#160;");}},_move:function(direction,event){var item,next,filter=".ui-menu-item";if(this.isOpen){item=this.menuItems.eq(this.focusIndex);}else{item=this.menuItems.eq(this.element[0].selectedIndex);filter+=":not(.ui-state-disabled)";}
if(direction==="first"||direction==="last"){next=item[direction==="first"?"prevAll":"nextAll"](filter).eq(-1);}else{next=item[direction+"All"](filter).eq(0);}
if(next.length){this.menuInstance.focus(event,next);}},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex);},_toggle:function(event){this[this.isOpen?"close":"open"](event);},_setSelection:function(){var selection;if(!this.range){return;}
if(window.getSelection){selection=window.getSelection();selection.removeAllRanges();selection.addRange(this.range);}else{this.range.select();}
this.button.focus();},_documentClick:{mousedown:function(event){if(!this.isOpen){return;}
if(!$(event.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length){this.close(event);}}},_buttonEvents:{mousedown:function(){var selection;if(window.getSelection){selection=window.getSelection();if(selection.rangeCount){this.range=selection.getRangeAt(0);}}else{this.range=document.selection.createRange();}},click:function(event){this._setSelection();this._toggle(event);},keydown:function(event){var preventDefault=true;switch(event.keyCode){case $.ui.keyCode.TAB:case $.ui.keyCode.ESCAPE:this.close(event);preventDefault=false;break;case $.ui.keyCode.ENTER:if(this.isOpen){this._selectFocusedItem(event);}
break;case $.ui.keyCode.UP:if(event.altKey){this._toggle(event);}else{this._move("prev",event);}
break;case $.ui.keyCode.DOWN:if(event.altKey){this._toggle(event);}else{this._move("next",event);}
break;case $.ui.keyCode.SPACE:if(this.isOpen){this._selectFocusedItem(event);}else{this._toggle(event);}
break;case $.ui.keyCode.LEFT:this._move("prev",event);break;case $.ui.keyCode.RIGHT:this._move("next",event);break;case $.ui.keyCode.HOME:case $.ui.keyCode.PAGE_UP:this._move("first",event);break;case $.ui.keyCode.END:case $.ui.keyCode.PAGE_DOWN:this._move("last",event);break;default:this.menu.trigger(event);preventDefault=false;}
if(preventDefault){event.preventDefault();}}},_selectFocusedItem:function(event){var item=this.menuItems.eq(this.focusIndex);if(!item.hasClass("ui-state-disabled")){this._select(item.data("ui-selectmenu-item"),event);}},_select:function(item,event){var oldIndex=this.element[0].selectedIndex;this.element[0].selectedIndex=item.index;this._setText(this.buttonText,item.label);this._setAria(item);this._trigger("select",event,{item:item});if(item.index!==oldIndex){this._trigger("change",event,{item:item});}
this.close(event);},_setAria:function(item){var id=this.menuItems.eq(item.index).attr("id");this.button.attr({"aria-labelledby":id,"aria-activedescendant":id});this.menu.attr("aria-activedescendant",id);},_setOption:function(key,value){if(key==="icons"){this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(value.button);}
this._super(key,value);if(key==="appendTo"){this.menuWrap.appendTo(this._appendTo());}
if(key==="disabled"){this.menuInstance.option("disabled",value);this.button.toggleClass("ui-state-disabled",value).attr("aria-disabled",value);this.element.prop("disabled",value);if(value){this.button.attr("tabindex",-1);this.close();}else{this.button.attr("tabindex",0);}}
if(key==="width"){this._resizeButton();}},_appendTo:function(){var element=this.options.appendTo;if(element){element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0);}
if(!element||!element[0]){element=this.element.closest(".ui-front");}
if(!element.length){element=this.document[0].body;}
return element;},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen);this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen);this.menu.attr("aria-hidden",!this.isOpen);},_resizeButton:function(){var width=this.options.width;if(!width){width=this.element.show().outerWidth();this.element.hide();}
this.button.outerWidth(width);},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1));},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")};},_parseOptions:function(options){var data=[];options.each(function(index,item){var option=$(item),optgroup=option.parent("optgroup");data.push({element:option,index:index,value:option.val(),label:option.text(),optgroup:optgroup.attr("label")||"",disabled:optgroup.prop("disabled")||option.prop("disabled")});});this.items=data;},_destroy:function(){this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.label.attr("for",this.ids.element);}});var dataSpace="ui-effects-",jQuery=$;$.effects={effect:{}};(function(jQuery,undefined){var stepHooks="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",rplusequals=/^([\-+])=\s*(\d+\.?\d*)/,stringParsers=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]];}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1]*2.55,execResult[2]*2.55,execResult[3]*2.55,execResult[4]];}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)];}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)];}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(execResult){return[execResult[1],execResult[2]/100,execResult[3]/100,execResult[4]];}}],color=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha);},spaces={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},propTypes={"byte":{floor:true,max:255},"percent":{max:1},"degrees":{mod:360,floor:true}},support=color.support={},supportElem=jQuery("<p>")[0],colors,each=jQuery.each;supportElem.style.cssText="background-color:rgba(1,1,1,.5)";support.rgba=supportElem.style.backgroundColor.indexOf("rgba")>-1;each(spaces,function(spaceName,space){space.cache="_"+spaceName;space.props.alpha={idx:3,type:"percent",def:1};});function clamp(value,prop,allowEmpty){var type=propTypes[prop.type]||{};if(value==null){return(allowEmpty||!prop.def)?null:prop.def;}
value=type.floor?~~value:parseFloat(value);if(isNaN(value)){return prop.def;}
if(type.mod){return(value+type.mod)%type.mod;}
return 0>value?0:type.max<value?type.max:value;}
function stringParse(string){var inst=color(),rgba=inst._rgba=[];string=string.toLowerCase();each(stringParsers,function(i,parser){var parsed,match=parser.re.exec(string),values=match&&parser.parse(match),spaceName=parser.space||"rgba";if(values){parsed=inst[spaceName](values);inst[spaces[spaceName].cache]=parsed[spaces[spaceName].cache];rgba=inst._rgba=parsed._rgba;return false;}});if(rgba.length){if(rgba.join()==="0,0,0,0"){jQuery.extend(rgba,colors.transparent);}
return inst;}
return colors[string];}
color.fn=jQuery.extend(color.prototype,{parse:function(red,green,blue,alpha){if(red===undefined){this._rgba=[null,null,null,null];return this;}
if(red.jquery||red.nodeType){red=jQuery(red).css(green);green=undefined;}
var inst=this,type=jQuery.type(red),rgba=this._rgba=[];if(green!==undefined){red=[red,green,blue,alpha];type="array";}
if(type==="string"){return this.parse(stringParse(red)||colors._default);}
if(type==="array"){each(spaces.rgba.props,function(key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop);});return this;}
if(type==="object"){if(red instanceof color){each(spaces,function(spaceName,space){if(red[space.cache]){inst[space.cache]=red[space.cache].slice();}});}else{each(spaces,function(spaceName,space){var cache=space.cache;each(space.props,function(key,prop){if(!inst[cache]&&space.to){if(key==="alpha"||red[key]==null){return;}
inst[cache]=space.to(inst._rgba);}
inst[cache][prop.idx]=clamp(red[key],prop,true);});if(inst[cache]&&jQuery.inArray(null,inst[cache].slice(0,3))<0){inst[cache][3]=1;if(space.from){inst._rgba=space.from(inst[cache]);}}});}
return this;}},is:function(compare){var is=color(compare),same=true,inst=this;each(spaces,function(_,space){var localCache,isCache=is[space.cache];if(isCache){localCache=inst[space.cache]||space.to&&space.to(inst._rgba)||[];each(space.props,function(_,prop){if(isCache[prop.idx]!=null){same=(isCache[prop.idx]===localCache[prop.idx]);return same;}});}
return same;});return same;},_space:function(){var used=[],inst=this;each(spaces,function(spaceName,space){if(inst[space.cache]){used.push(spaceName);}});return used.pop();},transition:function(other,distance){var end=color(other),spaceName=end._space(),space=spaces[spaceName],startColor=this.alpha()===0?color("transparent"):this,start=startColor[space.cache]||space.to(startColor._rgba),result=start.slice();end=end[space.cache];each(space.props,function(key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],type=propTypes[prop.type]||{};if(endValue===null){return;}
if(startValue===null){result[index]=endValue;}else{if(type.mod){if(endValue-startValue>type.mod/2){startValue+=type.mod;}else if(startValue-endValue>type.mod/2){startValue-=type.mod;}}
result[index]=clamp((endValue-startValue)*distance+startValue,prop);}});return this[spaceName](result);},blend:function(opaque){if(this._rgba[3]===1){return this;}
var rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba;return color(jQuery.map(rgb,function(v,i){return(1-a)*blend[i]+a*v;}));},toRgbaString:function(){var prefix="rgba(",rgba=jQuery.map(this._rgba,function(v,i){return v==null?(i>2?1:0):v;});if(rgba[3]===1){rgba.pop();prefix="rgb(";}
return prefix+rgba.join()+")";},toHslaString:function(){var prefix="hsla(",hsla=jQuery.map(this.hsla(),function(v,i){if(v==null){v=i>2?1:0;}
if(i&&i<3){v=Math.round(v*100)+"%";}
return v;});if(hsla[3]===1){hsla.pop();prefix="hsl(";}
return prefix+hsla.join()+")";},toHexString:function(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();if(includeAlpha){rgba.push(~~(alpha*255));}
return"#"+jQuery.map(rgba,function(v){v=(v||0).toString(16);return v.length===1?"0"+v:v;}).join("");},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString();}});color.fn.parse.prototype=color.fn;function hue2rgb(p,q,h){h=(h+1)%1;if(h*6<1){return p+(q-p)*h*6;}
if(h*2<1){return q;}
if(h*3<2){return p+(q-p)*((2/3)-h)*6;}
return p;}
spaces.hsla.to=function(rgba){if(rgba[0]==null||rgba[1]==null||rgba[2]==null){return[null,null,null,rgba[3]];}
var r=rgba[0]/255,g=rgba[1]/255,b=rgba[2]/255,a=rgba[3],max=Math.max(r,g,b),min=Math.min(r,g,b),diff=max-min,add=max+min,l=add*0.5,h,s;if(min===max){h=0;}else if(r===max){h=(60*(g-b)/diff)+360;}else if(g===max){h=(60*(b-r)/diff)+120;}else{h=(60*(r-g)/diff)+240;}
if(diff===0){s=0;}else if(l<=0.5){s=diff/add;}else{s=diff/(2-add);}
return[Math.round(h)%360,s,l,a==null?1:a];};spaces.hsla.from=function(hsla){if(hsla[0]==null||hsla[1]==null||hsla[2]==null){return[null,null,null,hsla[3]];}
var h=hsla[0]/360,s=hsla[1],l=hsla[2],a=hsla[3],q=l<=0.5?l*(1+s):l+s-l*s,p=2*l-q;return[Math.round(hue2rgb(p,q,h+(1/3))*255),Math.round(hue2rgb(p,q,h)*255),Math.round(hue2rgb(p,q,h-(1/3))*255),a];};each(spaces,function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;color.fn[spaceName]=function(value){if(to&&!this[cache]){this[cache]=to(this._rgba);}
if(value===undefined){return this[cache].slice();}
var ret,type=jQuery.type(value),arr=(type==="array"||type==="object")?value:arguments,local=this[cache].slice();each(props,function(key,prop){var val=arr[type==="object"?key:prop.idx];if(val==null){val=local[prop.idx];}
local[prop.idx]=clamp(val,prop);});if(from){ret=color(from(local));ret[cache]=local;return ret;}else{return color(local);}};each(props,function(key,prop){if(color.fn[key]){return;}
color.fn[key]=function(value){var vtype=jQuery.type(value),fn=(key==="alpha"?(this._hsla?"hsla":"rgba"):spaceName),local=this[fn](),cur=local[prop.idx],match;if(vtype==="undefined"){return cur;}
if(vtype==="function"){value=value.call(this,cur);vtype=jQuery.type(value);}
if(value==null&&prop.empty){return this;}
if(vtype==="string"){match=rplusequals.exec(value);if(match){value=cur+parseFloat(match[2])*(match[1]==="+"?1:-1);}}
local[prop.idx]=value;return this[fn](local);};});});color.hook=function(hook){var hooks=hook.split(" ");each(hooks,function(i,hook){jQuery.cssHooks[hook]={set:function(elem,value){var parsed,curElem,backgroundColor="";if(value!=="transparent"&&(jQuery.type(value)!=="string"||(parsed=stringParse(value)))){value=color(parsed||value);if(!support.rgba&&value._rgba[3]!==1){curElem=hook==="backgroundColor"?elem.parentNode:elem;while((backgroundColor===""||backgroundColor==="transparent")&&curElem&&curElem.style){try{backgroundColor=jQuery.css(curElem,"backgroundColor");curElem=curElem.parentNode;}catch(e){}}
value=value.blend(backgroundColor&&backgroundColor!=="transparent"?backgroundColor:"_default");}
value=value.toRgbaString();}
try{elem.style[hook]=value;}catch(e){}}};jQuery.fx.step[hook]=function(fx){if(!fx.colorInit){fx.start=color(fx.elem,hook);fx.end=color(fx.end);fx.colorInit=true;}
jQuery.cssHooks[hook].set(fx.elem,fx.start.transition(fx.end,fx.pos));};});};color.hook(stepHooks);jQuery.cssHooks.borderColor={expand:function(value){var expanded={};each(["Top","Right","Bottom","Left"],function(i,part){expanded["border"+part+"Color"]=value;});return expanded;}};colors=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};})(jQuery);(function(){var classAnimationActions=["add","remove","toggle"],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,prop){$.fx.step[prop]=function(fx){if(fx.end!=="none"&&!fx.setAttr||fx.pos===1&&!fx.setAttr){jQuery.style(fx.elem,prop,fx.end);fx.setAttr=true;}};});function getElementStyles(elem){var key,len,style=elem.ownerDocument.defaultView?elem.ownerDocument.defaultView.getComputedStyle(elem,null):elem.currentStyle,styles={};if(style&&style.length&&style[0]&&style[style[0]]){len=style.length;while(len--){key=style[len];if(typeof style[key]==="string"){styles[$.camelCase(key)]=style[key];}}}else{for(key in style){if(typeof style[key]==="string"){styles[key]=style[key];}}}
return styles;}
function styleDifference(oldStyle,newStyle){var diff={},name,value;for(name in newStyle){value=newStyle[name];if(oldStyle[name]!==value){if(!shorthandStyles[name]){if($.fx.step[name]||!isNaN(parseFloat(value))){diff[name]=value;}}}}
return diff;}
if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};}
$.effects.animateClass=function(value,duration,easing,callback){var o=$.speed(duration,easing,callback);return this.queue(function(){var animated=$(this),baseClass=animated.attr("class")||"",applyClassChange,allAnimations=o.children?animated.find("*").addBack():animated;allAnimations=allAnimations.map(function(){var el=$(this);return{el:el,start:getElementStyles(this)};});applyClassChange=function(){$.each(classAnimationActions,function(i,action){if(value[action]){animated[action+"Class"](value[action]);}});};applyClassChange();allAnimations=allAnimations.map(function(){this.end=getElementStyles(this.el[0]);this.diff=styleDifference(this.start,this.end);return this;});animated.attr("class",baseClass);allAnimations=allAnimations.map(function(){var styleInfo=this,dfd=$.Deferred(),opts=$.extend({},o,{queue:false,complete:function(){dfd.resolve(styleInfo);}});this.el.animate(this.diff,opts);return dfd.promise();});$.when.apply($,allAnimations.get()).done(function(){applyClassChange();$.each(arguments,function(){var el=this.el;$.each(this.diff,function(key){el.css(key,"");});});o.complete.call(animated[0]);});});};$.fn.extend({addClass:(function(orig){return function(classNames,speed,easing,callback){return speed?$.effects.animateClass.call(this,{add:classNames},speed,easing,callback):orig.apply(this,arguments);};})($.fn.addClass),removeClass:(function(orig){return function(classNames,speed,easing,callback){return arguments.length>1?$.effects.animateClass.call(this,{remove:classNames},speed,easing,callback):orig.apply(this,arguments);};})($.fn.removeClass),toggleClass:(function(orig){return function(classNames,force,speed,easing,callback){if(typeof force==="boolean"||force===undefined){if(!speed){return orig.apply(this,arguments);}else{return $.effects.animateClass.call(this,(force?{add:classNames}:{remove:classNames}),speed,easing,callback);}}else{return $.effects.animateClass.call(this,{toggle:classNames},force,speed,easing);}};})($.fn.toggleClass),switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.call(this,{add:add,remove:remove},speed,easing,callback);}});})();(function(){$.extend($.effects,{version:"1.11.4",save:function(element,set){for(var i=0;i<set.length;i++){if(set[i]!==null){element.data(dataSpace+set[i],element[0].style[set[i]]);}}},restore:function(element,set){var val,i;for(i=0;i<set.length;i++){if(set[i]!==null){val=element.data(dataSpace+set[i]);if(val===undefined){val="";}
element.css(set[i],val);}}},setMode:function(el,mode){if(mode==="toggle"){mode=el.is(":hidden")?"show":"hide";}
return mode;},getBaseline:function(origin,original){var y,x;switch(origin[0]){case"top":y=0;break;case"middle":y=0.5;break;case"bottom":y=1;break;default:y=origin[0]/original.height;}
switch(origin[1]){case"left":x=0;break;case"center":x=0.5;break;case"right":x=1;break;default:x=origin[1]/original.width;}
return{x:x,y:y};},createWrapper:function(element){if(element.parent().is(".ui-effects-wrapper")){return element.parent();}
var props={width:element.outerWidth(true),height:element.outerHeight(true),"float":element.css("float")},wrapper=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),size={width:element.width(),height:element.height()},active=document.activeElement;try{active.id;}catch(e){active=document.body;}
element.wrap(wrapper);if(element[0]===active||$.contains(element[0],active)){$(active).focus();}
wrapper=element.parent();if(element.css("position")==="static"){wrapper.css({position:"relative"});element.css({position:"relative"});}else{$.extend(props,{position:element.css("position"),zIndex:element.css("z-index")});$.each(["top","left","bottom","right"],function(i,pos){props[pos]=element.css(pos);if(isNaN(parseInt(props[pos],10))){props[pos]="auto";}});element.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"});}
element.css(size);return wrapper.css(props).show();},removeWrapper:function(element){var active=document.activeElement;if(element.parent().is(".ui-effects-wrapper")){element.parent().replaceWith(element);if(element[0]===active||$.contains(element[0],active)){$(active).focus();}}
return element;},setTransition:function(element,list,factor,value){value=value||{};$.each(list,function(i,x){var unit=element.cssUnit(x);if(unit[0]>0){value[x]=unit[0]*factor+unit[1];}});return value;}});function _normalizeArguments(effect,options,speed,callback){if($.isPlainObject(effect)){options=effect;effect=effect.effect;}
effect={effect:effect};if(options==null){options={};}
if($.isFunction(options)){callback=options;speed=null;options={};}
if(typeof options==="number"||$.fx.speeds[options]){callback=speed;speed=options;options={};}
if($.isFunction(speed)){callback=speed;speed=null;}
if(options){$.extend(effect,options);}
speed=speed||options.duration;effect.duration=$.fx.off?0:typeof speed==="number"?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default;effect.complete=callback||options.complete;return effect;}
function standardAnimationOption(option){if(!option||typeof option==="number"||$.fx.speeds[option]){return true;}
if(typeof option==="string"&&!$.effects.effect[option]){return true;}
if($.isFunction(option)){return true;}
if(typeof option==="object"&&!option.effect){return true;}
return false;}
$.fn.extend({effect:function(){var args=_normalizeArguments.apply(this,arguments),mode=args.mode,queue=args.queue,effectMethod=$.effects.effect[args.effect];if($.fx.off||!effectMethod){if(mode){return this[mode](args.duration,args.complete);}else{return this.each(function(){if(args.complete){args.complete.call(this);}});}}
function run(next){var elem=$(this),complete=args.complete,mode=args.mode;function done(){if($.isFunction(complete)){complete.call(elem[0]);}
if($.isFunction(next)){next();}}
if(elem.is(":hidden")?mode==="hide":mode==="show"){elem[mode]();done();}else{effectMethod.call(elem[0],args,done);}}
return queue===false?this.each(run):this.queue(queue||"fx",run);},show:(function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="show";return this.effect.call(this,args);}};})($.fn.show),hide:(function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="hide";return this.effect.call(this,args);}};})($.fn.hide),toggle:(function(orig){return function(option){if(standardAnimationOption(option)||typeof option==="boolean"){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="toggle";return this.effect.call(this,args);}};})($.fn.toggle),cssUnit:function(key){var style=this.css(key),val=[];$.each(["em","px","%","pt"],function(i,unit){if(style.indexOf(unit)>0){val=[parseFloat(style),unit];}});return val;}});})();(function(){var baseEasings={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2);};});$.extend(baseEasings,{Sine:function(p){return 1-Math.cos(p*Math.PI/2);},Circ:function(p){return 1-Math.sqrt(1-p*p);},Elastic:function(p){return p===0||p===1?p:-Math.pow(2,8*(p-1))*Math.sin(((p-1)*80-7.5)*Math.PI/15);},Back:function(p){return p*p*(3*p-2);},Bounce:function(p){var pow2,bounce=4;while(p<((pow2=Math.pow(2,--bounce))-1)/11){}
return 1/Math.pow(4,3-bounce)-7.5625*Math.pow((pow2*3-2)/22-p,2);}});$.each(baseEasings,function(name,easeIn){$.easing["easeIn"+name]=easeIn;$.easing["easeOut"+name]=function(p){return 1-easeIn(1-p);};$.easing["easeInOut"+name]=function(p){return p<0.5?easeIn(p*2)/2:1-easeIn(p* -2+2)/2;};});})();var effect=$.effects;}));MendeleyImporterApi={};(function(api){var data={},bookmarkletUrl=MendeleybookmarkletUrl;init();function init(){api.open=open;api.close=close;api.setOpenedWithApi=getSetter('openedWithApi');api.getOpenedWithApi=getGetter('openedWithApi');var methods=['HostId','UserIdentityCallback','DataCallback'];for(var i=0,l=methods.length;i<l;i++){var key=methods[i];api['register'+key]=getSetter(key);api['get'+key]=getGetter(key);}}
function getGetter(key){return function(){return data[key];};}
function getSetter(key){return function(value){data[key]=value;};}
function open(){this.setOpenedWithApi(true);document.getElementsByTagName('body')[0].appendChild(document.createElement('script')).setAttribute('src',bookmarkletUrl);}
function close(){try{document.getElementById('mendeley-bookmarklet-close').click();}catch(e){}}})(MendeleyImporterApi);jQuery.fn.extend({objVal:function(){if(jQuery(this).length&&jQuery(this)[0].tagName.toLowerCase()=='input'){return jQuery(this).val();}
else{return jQuery(this).html();}},searchForPlaceholder:function(controls){if(controls){var targetObj=this;var targetId=this.attr('id');if(!controls.txtFldClear){controls.txtFldClear={'enabled':true};}
if((controls.left&&controls.left.enabled)||(controls.right&&controls.right.enabled)){jQuery(this).on("showSearchPlachold",function(evenyt){var targetId=jQuery(this).attr('id');var left=jQuery('#'+targetId+'_left');var right=jQuery('#'+targetId+'_right');var clearTxtFld=jQuery('#'+targetId+'_clear');var et=jQuery(this).objVal();if(et==''){if(left.length){left.show();}
if(right.length){right.show();}
if(clearTxtFld.length){clearTxtFld.hide();}}});jQuery(this).on('keyup',controls,function(event){var et=jQuery(this).objVal();var controls=event.data;var id=jQuery(this).attr('id');var left=jQuery('#'+id+'_left');var right=jQuery('#'+id+'_right');var clearTxtFld=jQuery('#'+targetId+'_clear');if(et==''){jQuery(this).removeAttr("style");if(controls.left.enabled){left.show();}
if(controls.right.enabled){right.show();}
if(controls.txtFldClear.enabled){clearTxtFld.hide();}}
else{jQuery(this).attr("style","background: #ffffff;");if(controls.left.enabled){left.hide();}
if(controls.right.enabled){right.hide();}
if(controls.txtFldClear.enabled){clearTxtFld.show();}
if(/MSIE\s([\d.]+)/.test(navigator.userAgent)){version=new Number(RegExp.$1);if(version==8||version==9){jQuery(this).css({'filter':''});}}}});jQuery(this).on('blur',controls,function(event){var et=jQuery(this).objVal();var controls=event.data;var id=jQuery(this).attr('id');if(et==''){if(controls.left.enabled){jQuery('#'+id+'_left').show();}
if(controls.right.enabled){jQuery('#'+id+'_right').show();}
if(controls.txtFldClear.enabled){jQuery('#'+id+'_clear').hide();}}
else{jQuery(this).attr("style","background: #ffffff;");if(controls.left.enabled){jQuery('#'+id+'_left').hide();}
if(controls.right.enabled){jQuery('#'+id+'_right').hide();}
if(controls.txtFldClear.enabled){jQuery('#'+id+'_clear').show();}
if(/MSIE\s([\d.]+)/.test(navigator.userAgent)){version=new Number(RegExp.$1);if(version==8||version==9){jQuery(this).css({'filter':''});}}}});jQuery(this).on('input propertychange',function(){var et=jQuery(this).objVal();if(et!=''){jQuery('#'+targetId+'_right').hide();jQuery('#'+targetId+'_left').hide();jQuery('#'+targetId+'_clear').show();}});if(controls.left.enabled){var valueToBeShown='';if(controls.left.type=='simple'){valueToBeShown=controls.left.value;}
else if(controls.left.type=='componant'){var reference=jQuery('#'+controls.left.value);valueToBeShown=reference.objVal();reference.on('change',{"id":targetId},function(event){jQuery('#'+event.data.id+'_left').html(jQuery(this).find('option:selected').text());});};jQuery('<span id="'+targetId+'_left" class="'+controls.left.classes+'">'+valueToBeShown+'</span>').prependTo(this.parent());jQuery('#'+targetId+'_left').on('mouseup',function(){targetObj.focus();});if(targetObj.objVal()==''){jQuery('#'+targetId+'_left').show();}
else{jQuery('#'+targetId+'_left').hide();}
jQuery(targetObj).on('paste',function(e){var pastedText=undefined;if(window.clipboardData&&window.clipboardData.getData){pastedtext=window.clipboardData.getData('Text');}else{pastedText=(e.originalEvent||e).clipboardData.getData('text/plain');}
if(pastedText==""&&!pastedText.length>0){e.preventDefault();}
setTimeout(function(){jQuery('#'+targetId+'_right').hide();jQuery('#'+targetId+'_left').hide();jQuery(targetObj).attr("style","background: #ffffff;");if(/MSIE\s([\d.]+)/.test(navigator.userAgent)){version=new Number(RegExp.$1);if(version==8||version==9){jQuery(this).css({'filter':''});}}},100);});jQuery(targetObj).on('drop',function(e){jQuery(targetObj).focus();var file=e.originalEvent.dataTransfer.files[0];if(file!=undefined||file!=null){e.preventDefault();}});jQuery(targetObj).on('cut',function(){setTimeout(function(){if(targetObj.objVal()==''){jQuery('#'+targetId+'_right').show();jQuery('#'+targetId+'_left').show();jQuery(targetObj).removeAttr("style");}},100);});}
if(controls.right.enabled){var valueToBeShown='';if(controls.right.type=='simple'){valueToBeShown=controls.right.value;}
else if(controls.right.type=='componant'){var reference=jQuery('#'+controls.right.value);valueToBeShown=reference.objVal();reference.on('change',{"id":targetId},function(event){jQuery('#'+event.data.id+'_right ').html(jQuery(this).find('option:selected').text());});};jQuery('<span id="'+targetId+'_right" class="'+controls.right.classes+'">'+valueToBeShown+'</span>').prependTo(this.parent());jQuery('#'+targetId+'_right').on('mouseup',function(){targetObj.focus();});if(targetObj.objVal()==''){jQuery('#'+targetId+'_right').show();}
else{jQuery('#'+targetId+'_right').hide();}
jQuery(targetObj).on('paste',function(e){var pastedText=undefined;if(window.clipboardData&&window.clipboardData.getData){pastedtext=window.clipboardData.getData('Text');}else{pastedText=(e.originalEvent||e).clipboardData.getData('text/plain');}
if(pastedText==""&&!pastedText.length>0){e.preventDefault();}
setTimeout(function(){jQuery('#'+targetId+'_right').hide();jQuery('#'+targetId+'_left').hide();jQuery(targetObj).attr("style","background: #ffffff;");if(/MSIE\s([\d.]+)/.test(navigator.userAgent)){version=new Number(RegExp.$1);if(version==8||version==9){jQuery(this).css({'filter':''});}}},100);});jQuery(targetObj).on('drop',function(e){jQuery(targetObj).focus();var file=e.originalEvent.dataTransfer.files[0];if(file!=undefined||file!=null){e.preventDefault();}});jQuery(targetObj).on('cut',function(){setTimeout(function(){if(targetObj.objVal()==''){jQuery('#'+targetId+'_right').show();jQuery('#'+targetId+'_left').show();jQuery(targetObj).removeAttr("style");}},100);});}
if(controls.txtFldClear.enabled){if(targetIDExists(targetId)){var tooltipValue='';if(typeof(error)!='undefined'){tooltipValue=error.js.message.search.syntax.clear.icon();}
var valueToBeShown='<img id="closeicon"  src="../static/images/closeicon_inputfield.png"   ondragstart="return false"/>';var valueToBeShownToHover='<img id="closeicon"  src="../static/images/closeicon_hover.png"  ondragstart="return false"/>';if(targetId=="seachwithinresults"){jQuery('<span title="'+tooltipValue+'" id="'+targetId+'_clear" class="refineResultstxtFldClear">'+valueToBeShown+valueToBeShownToHover+'</span>').prependTo(this.parent());}else{jQuery('<span  title="'+tooltipValue+'" id="'+targetId+'_clear" class="txtFldClear">'+valueToBeShown+valueToBeShownToHover+'</span>').prependTo(this.parent());}
if(navigator.userAgent.match(/Trident\/7\./)){$('#'+targetId).addClass('ieClearIcon');}}
if(targetObj.objVal()!=''){jQuery('#'+targetId+'_clear').show();}
else{jQuery('#'+targetId+'_clear').hide();}
jQuery(targetObj).on('paste',function(e){var pastedText=undefined;if(window.clipboardData&&window.clipboardData.getData){pastedtext=window.clipboardData.getData('Text');}else{pastedText=(e.originalEvent||e).clipboardData.getData('text/plain');}
if(pastedText==""&&!pastedText.length>0){e.preventDefault();}
setTimeout(function(){jQuery('#'+targetId+'_clear').show();jQuery(targetObj).attr("style","background: #ffffff;");if(/MSIE\s([\d.]+)/.test(navigator.userAgent)){version=new Number(RegExp.$1);if(version==8||version==9){jQuery(this).css({'filter':''});}}},100);});jQuery(targetObj).on('drop',function(e){jQuery(targetObj).focus();var file=e.originalEvent.dataTransfer.files[0];if(file!=undefined||file!=null){e.preventDefault();}});jQuery(targetObj).on('cut',function(){setTimeout(function(){if(targetObj.objVal()==''){jQuery('#'+targetId+'_clear').hide();jQuery(targetObj).removeAttr("style");}},100);});jQuery('#'+targetId+'_clear').click(function(e){var txtboxid=jQuery(this).attr('id').replace('_clear','');jQuery('#'+txtboxid).val('').removeAttr("style");var left=jQuery('#'+txtboxid+'_left');var right=jQuery('#'+txtboxid+'_right');if(left.length){left.show();}
if(right.length){right.show();}
if(targetId=="searchTerms"){if(jQuery.trim(jQuery("#searchTerms").val())==""){jQuery("#searchTerms").val('');jQuery("#searchTermsSubmit").removeClass("searchWithBtnAct");jQuery("#searchTermsSubmit").attr("disabled",true);}}
if(targetId=="seachwithinresults"){if(jQuery.trim(jQuery("#seachwithinresults").val())==""){jQuery("#seachwithinresults").val('');jQuery("#search_within_submit").removeClass("searchWithBtnAct");jQuery("#search_within_submit").attr("disabled",true);}}
jQuery(this).hide();});}}}
function targetIDExists(targetID){var targetIDSArray=["searchfield","emailAddress","emailCTO","emailId","userEmailId","combinedSearch"];for(var i=0;i<targetIDSArray.length;i++){if(targetIDSArray[i]===targetID){return false;break;}}
return true;}}});function Cookie(name){this.$name=name;var reExtraSpace=/^\s*(.*?)\s*$/;var allcookies=document.cookie;if(allcookies=="")return;var cookies=allcookies.split(';');var cookie=null;var str="";for(var i=0;i<cookies.length;i++){str=cookies[i];str=str.replace(reExtraSpace,"$1");if(str.substring(0,name.length+1)==(name+"=")){cookie=str;break;}}
if(cookie==null)return;var cookieval=cookie.substring(name.length+1);var a=cookieval.split('&');for(var i=0;i<a.length;i++)
a[i]=a[i].split('_');for(var i=0;i<a.length;i++){this[a[i][0]]=decodeURIComponent(a[i][1]);}}
Cookie.prototype.store=function(daysToLive,path,domain,secure){var cookieval="";for(var prop in this){if((prop.charAt(0)=='$')||((typeof this[prop])=='function'))
continue;if(cookieval!="")cookieval+='&';cookieval+=prop+'_'+encodeURIComponent(this[prop]);}
var cookie=this.$name+'='+cookieval;if(daysToLive||daysToLive==0){cookie+="; max-age="+(daysToLive*24*60*60);}
if(path)cookie+="; path="+path;if(domain)cookie+="; domain="+domain;if(secure)cookie+="; secure";if(daysToLive==0)cookie+="; expires=Wed, 18 Jul 2001 07:42:30 UTC"
document.cookie=cookie;}
Cookie.prototype.remove=function(path,domain,secure){for(var prop in this){if(prop.charAt(0)!='$'&&typeof this[prop]!='function')
delete this[prop];}
this.store(0,path,domain,secure);}
Cookie.prototype.enabled=function(){if(navigator.cookieEnabled!=undefined)return navigator.cookieEnabled;if(Cookie.enabled.cache!=undefined)return Cookie.enabled.cache;document.cookie="testcookie=test; max-age=10000";var cookies=document.cookie;if(cookies.indexOf("testcookie=test")==-1){return Cookie.enabled.cache=false;}
else{document.cookie="testcookie=test; max-age=0";return Cookie.enabled.cache=true;}}
function Cookie_getCookies(match)
{var cookieArray=document.cookie.split(";");var a=new Array();for(var i=0;i<cookieArray.length;i++)
{var name=new String(cookieArray[i].substring(0,cookieArray[i].indexOf("=")));name=name.trim();if(!match)
{a.push(new Cookie(name));}
else if(name.indexOf(match)>-1)
{a.push(new Cookie(name));}}
return a;}
Cookie.getCookies=Cookie_getCookies;var isSvgSupported=!!document.createElementNS&&!!document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect;var exitSurvey={esLink:'',esChance:0.25,surveyCookieId:'SCES',autosuggestSurveyCookieId:'SCAES',autoSuggestEnableCookie:'enableAutoSuggest',surveyInvite:function(surveyID){var cookieID='';if(surveyID==='exitSurveyDialog'){cookieID=exitSurvey.surveyCookieId;}else if(surveyID==='autoSuggestSurveyDialog'){cookieID=exitSurvey.autosuggestSurveyCookieId;}
if(exitSurvey.getCookie(cookieID)===undefined){exitSurvey.showSurvey(surveyID,cookieID);}},checkMathRandomSurvey:function(surveyID,cookieID){jQuery("#"+surveyID).css({'display':'block'});exitSurvey.setSurveyDialogPos();jQuery("#"+surveyID).delay(2000).animate({"bottom":"+=250px"},1000,"swing",function(){exitSurvey.setCookie(cookieID,"true",180);});jQuery("#"+surveyID+".yL").click(surveyID,exitSurvey.surveyAccept);jQuery("#"+surveyID+".nL, #"+surveyID+" #closeWindow").click(surveyID,exitSurvey.surveyClose);},showSurvey:function(surveyID,cookieID){if(jQuery('#randomautoSuggestVal').length&&jQuery('#randomautoSuggestVal').val()==='true'){var mathRandom=Math.random();if(mathRandom<=exitSurvey.esChance){exitSurvey.checkMathRandomSurvey(surveyID,cookieID);}}
else{exitSurvey.checkMathRandomSurvey(surveyID,cookieID);}},setSurveyDialogPos:function(surveyID){if(jQuery('#outerWrapper').length>0){jQuery("#"+surveyID).css({'right':jQuery(window).width()-(jQuery('#outerWrapper').offset().left+jQuery('#outerWrapper').outerWidth())});}},surveyAccept:function(e){e.preventDefault();if(exitSurvey.getCookie(exitSurvey.autosuggestSurveyCookieId)!==undefined){exitSurvey.setCookie(exitSurvey.autoSuggestEnableCookie,"true",1);}
var page="http://"+window.location.hostname;var windowprops="width=900,height=600,location=no,toolbar=no,menubar=no,scrollbars=yes,resizable=yes";var PopWindow=window.open(page,"",windowprops);try{PopWindow.blur();PopWindow.focus();if(PopWindow){exitSurveyHTML=exitSurvey.gHTML();PopWindow.document.write(exitSurveyHTML);PopWindow.document.close();}
exitSurvey.surveyClose(e);}catch(err){exitSurvey.surveyClose(e);}
basicSrchAutoSugg.enableAutoSuggest();},surveyClose:function(e){if(e){e.preventDefault();}
jQuery("#"+e.data).css('display','none');},gHTML:function(){var wH="";wH+='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">';wH+="<html>";wH+="<head>";wH+="<title>Feedback</title>";wH+='<style type="text/css">';wH+="body { margin: 0; padding: 0; font-family: Arial, Verdana, helvetica, sans-serif; height: 100%; font-size: 75%; color: #5C5C5C;}";wH+=".logoHeader { height: 64px;}.logoScopusImg { width: 75px; position: absolute; padding-left: 2%; padding-top: 15px; padding-right: 14%;}";wH+=".logoScopusImg img { height: 25px;}.sBody { padding: 20px 40px;}.sInfoMsg{width:0;overflow:hidden;line-height: 14px;font-size:0;}.sSubHeading { font-size: 14px;}.sHeading { font-size: 20px;}";wH+=".sButton input { height: 30px; margin: 0; color: #5c5c5c; background: #eee; border: 1px solid #c9c9c9;}.sButton { font-size: 13px; font-weight: bold; margin: 20px 0;}";wH+=".sText { font-size: 13px;}.navigation { background-color: #026370; height: 5px;} ";wH+=".sInfoMsgContainer { background-color: #ebf7fd; background-image: url('/static/images/info.png'); background-position: 5px 4px; background-repeat: no-repeat; border: 1px solid #46c7f4; border-radius: 4px; color: #5c5c5c; margin: 10px 0; padding: 6px 5px 6px 30px;}";wH+="</style>";wH+="</head>";wH+="<body>";wH+='<div>';wH+='<div class="logoHeader" >';wH+='<div class="logoScopusImg" >';wH+='<img alt="Scopus Logo" src="../static/images/scopusLogoOrange.svg"/>';wH+='</div>';wH+='</div>';wH+='<div class="navigation"></div>';wH+='<div class="sBody">';wH+='<div class="sHeading">'+basic.SURVEY_POPUP_CONFIRMATION_HEADING()+' <br/><br/></div>';wH+='<div class="sInfoMsgContainer" role="alert">';wH+='<span class="sInfoMsg">'+basic.SURVEY_POPUP_CONFIRMATION_INFO_MSG()+'</span><span class="sSubHeading">'+basic.SURVEY_POPUP_CONFIRMATION_INFORMATION()+'</span> <br/><br/>'+basic.SURVEY_POPUP_CONFIRMATION_FIREFOX_INFO();wH+="</div>";wH+="</div>";wH+="</div>";wH+='<script type="text/javascript">';wH+="var intl;";wH+="function loadSurvey() {";wH+="clearInterval(intl);";wH+="window.resizeTo(900,600);";wH+='this.location="'+exitSurvey.esLink+'";';wH+="}";wH+="var lastseen = window.opener.location.hostname;";wH+="function CheckParent() {";wH+="try {";wH+="var host = window.opener.location.hostname;";wH+="if (host != lastseen){";wH+="lastseen = host;";wH+="}";wH+="return;";wH+="} catch(error){";wH+="clearInterval(intl);";wH+="moveTo(screen.width/2-450,screen.height/2-300);";wH+="this.focus();";wH+='alert("Click Ok to begin your survey");';wH+='this.location="'+exitSurvey.esLink+'";';wH+="var match = document.cookie.match('enableAutoSuggest=([^;]*)');";wH+="if (match) {";wH+="document.cookie = 'enableAutoSuggest=false; max-age=0 ; expires=Wed, 18 Jul 2001 07:42:30 UTC; path=/';";wH+="}";wH+="}";wH+="}";wH+='intl = setInterval("CheckParent()", 500);';wH+="</script>";wH+="</body>";wH+="</html>";return wH;},setCookie:function(c_name,value,expiration){var exdate=new Date();exdate.setDate(exdate.getDate()+expiration);var c_value=escape(value)+("; expires="+exdate.toUTCString()+"; path=/");document.cookie=c_name+"="+c_value;},getCookie:function(c_name){var match=document.cookie.match(c_name+'=([^;]*)');return match?match[1]:undefined;},svgSupport:function(){if(!isSvgSupported){if(typeof jQuery('.surveylogoScopusImg img').attr('src')==='undefined'){document.getElementsByTagName("img")[0].src='/static/images/ScopusWhite.png';}else{jQuery('.surveylogoScopusImg img').attr('src','/static/images/ScopusWhite.png');}
jQuery('.surveylogoScopusImg').css({'padding-top':'11px'});jQuery('.surveylogoScopusImg img').css({'height':'auto'});}},init:function(surveyID){if(surveyID==='exitSurveyDialog'){exitSurvey.esLink=jQuery('#exitSurveyLink').val();}else if(surveyID==='autoSuggestSurveyDialog'){exitSurvey.esLink=jQuery('#autoSuggestSurveyLink').val();}
exitSurvey.surveyInvite(surveyID);exitSurvey.svgSupport();}};var isSvgSupported=!!document.createElementNS&&!!document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect;var loginPopoutOpened=false;var logoutPopoutOpened=false;var helpMenuPopoutOpened=false;var header={buildHelpMenuBubble:function(obj){Bubble.setRight=function(data){var element=data.$element.get(0);var top=jQuery(element).position().top+data.$element.outerHeight();var bubbleWidth=data.$bubble.outerWidth();var right=jQuery(element).position().left-(bubbleWidth-(data.$element.width()));data.$bubbleArrow.addClass("bubble-arrow-right");if(jQuery(element).attr('id')=='helpMenuLnk'){data.$bubbleArrow.css({left:(bubbleWidth-31)+"px"});data.$bubble.css({top:top+"px",left:(right+25)+"px"});}
else{data.$bubbleArrow.css({left:(bubbleWidth-32)+"px"});data.$bubble.css({top:top+"px",left:right+"px"});}};obj.click(function(e){e["data"]={position:Bubble.positionRight,setDataBack:true};if(jQuery('#bubble-helpMenuLnk').is(':visible')){Bubble.forceHideAll(e);}
else{Bubble.showBubble(e);}
e.preventDefault();});},formProfileAccessLinks:function(){jQuery('#profileAccessCnt').html(jQuery('#CARS_SETTINGS_TEMPLATE #modify-profile-group'));jQuery('#profileAccessCnt form+div').remove();jQuery('#myScopusCnt').html(jQuery('#CARS_SETTINGS_TEMPLATE #settings-app-links-top #scopusTopLinks ul'));},getSettingsTemplate:function(){var settingsTemplate=jQuery.get("../settings/template.uri");settingsTemplate.done(function(response){jQuery('#CARS_SETTINGS_TEMPLATE').html(response);header.formProfileAccessLinks();});settingsTemplate.error();settingsTemplate.always();},getMyScopusLinkData:function(){var settingsData=jQuery.get("../customer/settings.uri");settingsData.done(function(response){header.getSettingsTemplate();});settingsData.error();settingsData.always();},setMenuNavPos:function(){jQuery(window).scroll(function(event){var isInitFixedHeader=jQuery('#mainNav').hasClass('mainNavFxd');if(jQuery('div.cib_Container').is(':visible')){var cibPos=jQuery('div.cib_Container:visible').closest('#cib_Overlay').position().top;}
if(jQuery('span#bubble-showAllPageBubble').is(':visible')){var bubPos=jQuery('span#bubble-showAllPageBubble:visible').closest('#bubble-showAllPageBubble').position().top;}
if(jQuery(window).scrollTop()>jQuery('.mainNavSect').offset().top){if(!jQuery('#mainNav').hasClass('mainNavFxd')){jQuery('#mainNav').addClass('mainNavFxd');}}
else{jQuery('#mainNav').removeClass('mainNavFxd');}
if(jQuery('div.cib_Container').is(':visible')){var isRefineOverlayPresent=false;for(counter=0;counter<15;counter++){if(jQuery("#overlayHeading_"+counter).is(':visible')){isRefineOverlayPresent=true;break;}}
if(!isRefineOverlayPresent){if(isInitFixedHeader&&!jQuery('#mainNav').hasClass('mainNavFxd')){jQuery('div.cib_Container:visible').closest('#cib_Overlay').css({'top':cibPos+62});}
if(!isInitFixedHeader&&jQuery('#mainNav').hasClass('mainNavFxd')){jQuery('div.cib_Container:visible').closest('#cib_Overlay').css({'top':cibPos-62});}}}
if(jQuery('span#bubble-showAllPageBubble').is(':visible')){if(isInitFixedHeader&&!jQuery('#mainNav').hasClass('mainNavFxd')){jQuery('span#bubble-showAllPageBubble:visible').closest('#bubble-showAllPageBubble').css({'top':bubPos+64});}
if(!isInitFixedHeader&&jQuery('#mainNav').hasClass('mainNavFxd')){jQuery('span#bubble-showAllPageBubble:visible').closest('#bubble-showAllPageBubble').css({'top':bubPos-64});}}});},setEllipsisUserName:function(){jQuery('#logout_username').css({'width':''});var headerWidth=jQuery('#scopusSciverseMasthead').width();var logoSectionWidth=jQuery('.logoScopusImg').outerWidth();var rightSectionTotalWidth=jQuery('.rgtDivisions').width();var getuserNameWidth=jQuery('#logout_username').width();var rightSectionWidth=rightSectionTotalWidth-getuserNameWidth;var calculatedWidth=headerWidth-logoSectionWidth-rightSectionWidth;if(getuserNameWidth>calculatedWidth){jQuery('#logout_username').css({'width':calculatedWidth}).addClass('regUserEllipsis');}
else{jQuery('#logout_username').removeClass('regUserEllipsis');}
if(!jQuery.browser.mozilla){jQuery('#logout_username').css({'margin-right':'-2px'});}
else{jQuery('#logout_username').css({'margin-right':''});}},adjustLoginPreview:function(){if(jQuery('#login_reglink').css('display')=='none'){jQuery('#login-panel.CARS_panelClass a#login_loginlink').css({'margin-left':'-12px'});}
else{jQuery('#login-panel.CARS_panelClass a#login_loginlink').css({'margin':'0'});}},productLnkSep:function(){if(jQuery('.hdrTopLnk ul li').length==2){jQuery('.prodSep').css({'display':'none'});}
else{jQuery('.prodSep').css({'display':'block'});}},svgSupport:function(){if(!isSvgSupported){if(isPreviewPage){if(typeof jQuery('.logoScopusPreviewImg img').attr('src')=='undefined'){document.getElementsByTagName("img")[0].src='../static/images/preview/scopuspreviewOrange.png';}else{jQuery('.logoScopusPreviewImg img').attr('src','../static/images/preview/scopuspreviewOrange.png');}}
else{if(typeof jQuery('.logoScopusImg img').attr('src')=='undefined'){document.getElementsByTagName("img")[0].src='../static/images/scopusLogoOrange.png';}else{jQuery('.logoScopusImg img').attr('src','../static/images/scopusLogoOrange.png');}}
jQuery('.logoScopusImg, .logoScopusPreviewImg').css({'padding-top':'15px'});if(jQuery('.modalOverlayHdr').length){jQuery('.modalOverlayHdr .logoScopusImg').css({'padding-top':'0'});}}},closeHelpPopout:function(){jQuery('#header #helpMenuLnk-data').hide();if(helpMenuPopoutOpened){jQuery('#helpMenuLnk').focus();helpMenuPopoutOpened=false;}},closeLoginPopout:function(){if(jQuery('#header #login_pop_container').hasClass('CARS_displayInline')){jQuery('#header #login_loginlink').trigger("click");header.removeLoginPopoutOuterContents();if(loginPopoutOpened){jQuery('#header #login_loginlink').focus();loginPopoutOpened=false;}}},closeLogoutPopout:function(){if(jQuery('#header #logout_pop').hasClass('CARS_displayInline')){jQuery('#header #logout_username_link').trigger("click");header.removeLogoutPopoutOuterContents();if(logoutPopoutOpened){jQuery('#header #logout_username_link').focus();logoutPopoutOpened=false;}}},removeLoginPopoutOuterContents:function(){var cnt=jQuery("#login-panel .custom-modal-top-border").contents();jQuery("#login-panel .custom-modal-arrow").replaceWith(cnt);},removeLogoutPopoutOuterContents:function(){var cnt=jQuery("#header #logout_user .custom-modal-top-border").contents();jQuery("#header #logout_user .custom-modal-arrow").replaceWith(cnt);},detectIE:function(){var ua=window.navigator.userAgent;var msie=ua.indexOf('MSIE ');if(msie>0){return true;}
var trident=ua.indexOf('Trident/');if(trident>0){return true;}
var edge=ua.indexOf('Edge/');if(edge>0){return true;}
return false;},addAccessibilityToLoginPopout:function(){jQuery('#login_pop_container').attr({'role':'dialog','aria-labelledby':'login_popout_heading_id'});jQuery("#header #login_pop_container_logform .CARS_groupTitle").attr({'role':'heading','aria-level':'3','id':'login_popout_heading_id','tabindex':'-1'});jQuery(".login-close-icon").on('keydown',function(e){if((e.keyCode||e.which)===9){if(e.shiftKey){jQuery('#header #login_pop_container #login_pop_container_socialform:last-child').focus();}else{jQuery('#header #login_pop_container #login_popout_heading_id').focus();}}});jQuery("#header #login_pop_container #username").on('keydown',function(event){if(event.shiftKey&&event.keyCode===9){jQuery('#header #login_pop_container #login-close-placeholder').focus();}});},addAccessibilityToLogoutPopout:function(){jQuery("#header #logout_pop .userPopoutTitle").focus();jQuery("#logout_pop .custom-logout-popout .userPopoutTitle").on('keydown',function(e){if((e.keyCode||e.which)===9){if(e.shiftKey){jQuery("#logout_pop .custom-logout-popout #login-close-placeholder").focus();}else{jQuery("#userPath>form:first-child").find("a").focus();}}});jQuery("#header .custom-logout-popout .close").on('keydown',function(e){if((e.keyCode||e.which)===9){if(e.shiftKey){}else{jQuery("#header #logout_username_link").focus();}}});},addAccessibilityToHelpPopout:function(){jQuery("#header #headerHelpLinks .helpMenuList>li:first-child>a").focus();jQuery("#header #headerHelpLinks a.close").on('keydown',function(e){if((e.keyCode||e.which)===9){if(e.shiftKey){jQuery(e.target).find("a").focus();}else{jQuery("#helpMenuLnk").focus();}}});jQuery("#header #headerHelpLinks .helpMenuList>li:first-child>a ").on('keydown',function(event){if(event.shiftKey&&event.keyCode===9){jQuery("#header #headerHelpLinks #help-close-placeholder").focus();}});},init:function(){if(jQuery('.mainNavSect').length>0){header.setMenuNavPos();}
jQuery('#helpMenuLnk').on('click',function(e){header.closeLoginPopout();header.closeLogoutPopout();jQuery('#helpMenuLnk-data').toggle();header.removeLoginPopoutOuterContents();helpMenuPopoutOpened=true;header.addAccessibilityToHelpPopout();});jQuery('body').die("click").on('click',function(e){if(!jQuery(e.target).closest('#exportTrigger')[0]){Bubble.hideAll(e);}});if(jQuery('#login_reglink').length>0){header.adjustLoginPreview();}
header.svgSupport();if(jQuery('.scopusScivalBanner').length>0){header.productLnkSep();}
jQuery('#header #helpMenu a.close').on('click',function(e){header.closeHelpPopout();});jQuery(document).on("keyup",function(e){var code=e.keyCode||e.which;if(code===27){header.closeHelpPopout();header.closeLoginPopout();header.closeLogoutPopout();}});jQuery("body").click(function(e){if(jQuery(e.target).closest("a").attr('id')!=="helpMenuLnk"&&!jQuery(e.target).parents().andSelf().is('#helpMenuLnk-data')){header.closeHelpPopout();}
if(jQuery(e.target).closest("a").attr('id')!=="login_loginlink"&&!jQuery(e.target).parents().andSelf().is('#login_pop_container')&&!jQuery(e.target).closest("a").hasClass("not-signed-in-user-link")){header.closeLoginPopout();}
if(jQuery(e.target).closest("a").attr('id')!=="logout_username_link"&&jQuery(e.target).attr('id')!=="logout_username"&&!jQuery(e.target).parents().andSelf().is('#logout_pop,#logout_text_content')){header.closeLogoutPopout();}});}};function dateFromISO8601(isoDateString){var parts=isoDateString.match(/\d+/g);var isoTime=Date.UTC(parts[0],parts[1]-1,parts[2],parts[3],parts[4],parts[5]);var isoDate=new Date(isoTime);return isoDate;}
var modalOverlay={drawOverlay:function(){jQuery("#modalOverlay-dialog").dialog({modal:true,width:567,height:352,zIndex:200000}).removeClass("displayNone");jQuery(".ui-dialog .ui-dialog-titlebar").hide();jQuery("#modalOverlay-dialog").dialog("close").dialog("open");jQuery("body").css({'overflow':'hidden'});modalOverlay.modalOverlayPos();jQuery("#modalOverlay-dialog").on("keydown",function(e){if(e.keyCode==27)
modalOverlay.remindMeLater();});},modalOverlayPos:function(){var winHeight=jQuery(window).height();var modalOverlayHeight=jQuery('.modalOverlayPopUp').height();var totalTopVal=(winHeight-modalOverlayHeight)/2;var setTopPos=totalTopVal-24;var winWidth=jQuery(window).width();var modalOverlayWidth=jQuery('#modalOverlay-dialog').parent().width();var totalLeftVal=(winWidth-modalOverlayWidth)/2;var setLeftPos=totalLeftVal;if(jQuery("#modalOverlay-dialog").parent().hasClass('ui-dialog')){jQuery("#modalOverlay-dialog").parent().css({'position':'absolute','top':setTopPos,'left':setLeftPos,'z-index':'200002'});}},setOpacityModalOverlay:function(){jQuery('#modalOverlay-dialog').parent().prev().css({'background-color':'#000000','opacity':'0.5','z-index':'200001'});},getOrCreateOverlayCookie:function(name){var overlayCookies=Cookie.getCookies(name);if(overlayCookies.length==0){overlayCookie=new Cookie(name);}else{overlayCookie=overlayCookies[0];}
return overlayCookie;},acceptOverlay:function(){modalOverlayCookie=modalOverlay.getOrCreateOverlayCookie("sc_overlay_ok");modalOverlayCookie.showOverlay=false;modalOverlayCookie.ts=jQuery("#overlayShownTime").val();modalOverlayCookie.store(365,"../default.htm");overlayRemindCookie=modalOverlay.getOrCreateOverlayCookie("sc_overlay_remind");overlayRemindCookie.store(0,"../default.htm");modalOverlay.overlayClose();},remindMeLater:function(){modalOverlayCookie=modalOverlay.getOrCreateOverlayCookie("sc_overlay_ok");modalOverlayCookie.showOverlay=true;modalOverlayCookie.ts=jQuery("#overlayShownTime").val();modalOverlayCookie.store(365,"../default.htm");overlayRemindCookie=modalOverlay.getOrCreateOverlayCookie("sc_overlay_remind");overlayRemindCookie.remindLater=true;var remindMeLaterHours=jQuery("#remindMeLaterHours").val();if(parseInt(remindMeLaterHours)>0){overlayRemindCookie.store(parseInt(remindMeLaterHours)/24,"../default.htm");}else{overlayRemindCookie.store(1,"../default.htm");}
modalOverlay.overlayClose();},overlayClose:function(){jQuery("#modalOverlay-dialog").dialog("close");jQuery("body").css({'overflow':'inherit'});},init:function(){var messageUpdatedTimeStr=jQuery("#overlayUpdatedTime").val();var messageShownTimeStr=jQuery("#overlayShownTime").val();var modalOverlayCookies=Cookie.getCookies("sc_overlay_ok");if(modalOverlayCookies.length){showOverlay=modalOverlayCookies[0].showOverlay=="true";messageShownTimeStr=modalOverlayCookies[0].ts;}else{showOverlay=true;}
var overlayRemindCookies=Cookie.getCookies("sc_overlay_remind");if(overlayRemindCookies.length){showOverlay=false;}
if(!showOverlay&&messageUpdatedTimeStr!=""&&messageShownTimeStr!=""){var messageUpdatedTime=dateFromISO8601(messageUpdatedTimeStr);var d=dateFromISO8601(messageShownTimeStr);var messageShownTime=new Date(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),0,0,0);if(messageUpdatedTime>messageShownTime){showOverlay=true;}}
if(showOverlay){modalOverlay.drawOverlay();modalOverlay.setOpacityModalOverlay();jQuery(".modalOverlayOuterCnt a").on("click",modalOverlay.acceptOverlay);}}};jQuery(document).ready(function(){(function($){$.InFieldLabels=function(label,field,options){var base=this;base.$label=$(label);base.label=label;base.$field=$(field);base.field=field;base.$label.data("InFieldLabels",base);base.showing=true;base.init=function(){var initialSet;base.options=$.extend({},$.InFieldLabels.defaultOptions,options);setTimeout(function(){if(base.$field.val()!==""){base.$label.addClass('active');base.showing=false;}else{base.$label.removeClass('active');base.showing=true;}},200);base.$field.focus(function(){base.fadeOnFocus();}).blur(function(){base.checkForEmpty(false);}).bind('keydown.infieldlabel',function(e){base.hideOnChange(e);}).bind('paste',function(){base.removeClass('active');}).change(function(){base.checkForEmpty();}).bind('onPropertyChange',function(){base.checkForEmpty();}).bind('keyup.infieldlabel',function(){base.checkForEmpty();});if(base.options.pollDuration>0){initialSet=setInterval(function(){if(base.$field.val()!==""){base.$label.addClass('active');base.showing=false;clearInterval(initialSet);}},base.options.pollDuration);}};base.fadeOnFocus=function(){if(base.showing){base.$label.addClass('active');base.showing=false}};base.checkForEmpty=function(blur){if(base.$field.is(':focus')){base.$label.addClass('active');base.showing=false}
else if(base.$field.is()){base.$label.removeClass('active');}
else if(base.$field.val()===""){base.$label.removeClass('active');base.showing=true}
else if(base.showing){base.$label.addClass('active');}};base.prepForShow=function(){if(!base.showing){base.$label.removeClass('active');}};base.hideOnChange=function(e){if((e.keyCode===16)||(e.keyCode===9)){return;}
if(base.showing){base.$label.addClass('active');base.showing=true;}
base.$field.unbind('keydown.infieldlabel');};base.init();};$.InFieldLabels.defaultOptions={fadeOpacity:0.5,fadeDuration:300,pollDuration:0,enabledInputTypes:["text","search","tel","url","email","password","number","textarea"],className:false};$.fn.inFieldLabels=function(options){var allowed_types=options&&options.enabledInputTypes||$.InFieldLabels.defaultOptions.enabledInputTypes;return this.each(function(){var for_attr=$(this).attr('for'),field,restrict_type;if(!for_attr){return;}
field=document.getElementById(for_attr);if(!field){return;}
restrict_type=$.inArray(field.type,allowed_types);if(restrict_type===-1&&field.nodeName!=="TEXTAREA"){return;}
(new $.InFieldLabels(this,field,options));});};}(jQuery));jQuery("label").inFieldLabels();});jQuery(window).resize(function(){if(jQuery('#logout_username').length>0){}
if(jQuery("#modalOverlay-dialog").length>0){modalOverlay.modalOverlayPos();}
if(jQuery('#exitSurveyDialog').length>0){exitSurvey.setSurveyDialogPos();}});jQuery(document).ready(function(){if(typeof String.prototype.trim!=='function'){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,'');}}
Cookie.prototype.store=function(daysToLive,path,domain,secure){var cookieval="";for(var prop in this){if((prop.charAt(0)=='$')||((typeof this[prop])=='function'))
continue;if(cookieval!="")cookieval+='&';cookieval+=prop+'_'+encodeURIComponent(this[prop]);}
var cookie=this.$name+'='+cookieval;if(daysToLive&&daysToLive>0){var d=new Date();d.setTime(d.getTime()+daysToLive*24*60*60*1000);cookie+="; max-age="+(daysToLive*24*60*60)+"; expires="+d.toGMTString();}else if(daysToLive==0){cookie+="; max-age=0 ; expires=Wed, 18 Jul 2001 07:42:30 UTC"}else if(daysToLive<0){}
if(path)cookie+="; path="+path;if(domain)cookie+="; domain="+domain;if(secure)cookie+="; secure";document.cookie=cookie;}
header.init();if(jQuery('#modalOverlay-dialog').length>0){modalOverlay.init();}
if(jQuery('#exitSurveyDialog').length>0){exitSurvey.init('exitSurveyDialog');}
if(jQuery('#autoSuggestSurveyDialog').length>0){exitSurvey.init('autoSuggestSurveyDialog');}
var _this=this;_this.init=function(){jQuery('.toggleIcon').on("click",function(e){if(!keyPressed){_this.toggleMenu();}});};jQuery('.userOptionCnt .profileAccess').click(function(){if(!jQuery(this).hasClass("not-signed-in-user-link")){if(jQuery(this).next().hasClass('spineAccordianCollapsed')){jQuery(this).next().removeClass('spineAccordianCollapsed');jQuery(this).attr('aria-expanded','true');jQuery(this).removeClass('collapsed').addClass('expanded');}
else{jQuery(this).next().addClass('spineAccordianCollapsed');jQuery(this).attr('aria-expanded','false');jQuery(this).removeClass('expanded').addClass('collapsed');}}});_this.toggleMenu=function(){var spine=jQuery('.sidebarMenu');if(jQuery("body").hasClass("sidebarActive")){setTimeout(function(){jQuery("body").removeClass("sidebarActive");if(jQuery('#header .sidebarMenu .regLnk').find(jQuery('#header .sidebarMenu .regLnk #guestAccessPage')).length>0){jQuery('#carsLoginSpine').html(jQuery('#header .sidebarMenuHeader .user span:first-child').contents());jQuery('#header .sidebarMenuHeader .user span:first-child').empty();}
jQuery('#header .headerContainer .regLnk').html(jQuery('#header .sidebarMenu .regLnk').contents());jQuery('#header .sidebarMenu .regLnk').empty();jQuery('#header .headerContainer .regLnk').css('display','inline-block');spine.css("display","none");jQuery("#headerHamburger a").focus();});}
else{spine.css("display","inline-block");setTimeout(function(){jQuery('#header .headerContainer .regLnk').css('display','none');jQuery('#header .sidebarMenu .regLnk').html(jQuery('#header .headerContainer .regLnk').contents());jQuery('#header .headerContainer .regLnk').empty();if(jQuery('#header .sidebarMenu .regLnk').find(jQuery('#header .sidebarMenu .regLnk #guestAccessPage')).length>0){jQuery('#header .sidebarMenuHeader .user span:first-child').replaceWith(jQuery('#carsLoginSpine').contents());jQuery('#carsLoginSpine').empty();}
jQuery("body").addClass("sidebarActive");jQuery("#header .user").attr('tabindex',-1).focus();});};}
_this.init();jQuery('#header .headerContainer  #login_loginlink').on('click',function(e){header.removeLoginPopoutOuterContents();if(jQuery('#login_pop_container').hasClass('CARS_displayInline')){header.closeHelpPopout();jQuery('<div/>',{'class':'custom-modal-arrow'}).insertAfter('#header #login_maincontroller+.CARS_clear');jQuery('<div/>',{'class':'custom-modal-top-border'}).appendTo('#login-panel .custom-modal-arrow');jQuery('#header #login_pop_container').appendTo('#login-panel .custom-modal-top-border');header.addAccessibilityToLoginPopout();window.setTimeout(function(){jQuery('#header #login_pop_container #username').focus();},50);loginPopoutOpened=true;}});jQuery('#header .headerContainer  #logout_username_link').on('click',function(e){header.removeLogoutPopoutOuterContents();if(jQuery('#logout_pop').hasClass('CARS_displayInline')){jQuery('<div/>',{'class':'custom-modal-arrow'}).insertAfter('#header #logout_username_link+.CARS_clear');jQuery('<div/>',{'class':'custom-modal-top-border'}).appendTo('#header #logout_user .custom-modal-arrow');jQuery('#header #logout_pop').appendTo('#header #logout_user .custom-modal-top-border');logoutPopoutOpened=true;header.addAccessibilityToLogoutPopout();}});var registerIcon=jQuery('<span />').addClass('icon-BGS10 navigate-right-link-white');jQuery('#header #login_reglink').append(registerIcon);var closeIcon=jQuery('<a>',{'class':'iconSmall close pull-right','href':'javascript:void(0);','title':'Close window','aria-label':'Close','html':'&nbsp;'});var placeholderForCorrectFocus=jQuery('<span>',{'id':'login-close-placeholder','tabindex':'-1'});closeIcon.insertAfter(jQuery('#header #login_pop_container #login_pop_container_socialform'));placeholderForCorrectFocus.insertAfter(closeIcon);jQuery('#header #login_pop_container .close').addClass('login-close-icon');var requiredFieldsText=jQuery('<div>',{'class':'requiredFieldsText','displaystyle':':red','html':'*<span class="greyText">=required fields</span>'});requiredFieldsText.appendTo(jQuery("#header #login_pop_container #login_pop_container_logform"));var logOutPopOutOuterDiv=jQuery('<div>',{'class':'custom-logout-popout',});jQuery('#header #userPath').appendTo(logOutPopOutOuterDiv);logOutPopOutOuterDiv.appendTo('#header #logout_pop');closeIcon.insertAfter(jQuery('#header #logout_user #logout_pop #userPath'));placeholderForCorrectFocus.insertAfter(jQuery('#header #logout_user #logout_pop a.close'));jQuery('#header #login_loginlink').removeAttr("aria-expanded");var userPopoutTitleDiv=jQuery('<div>',{'class':'userPopoutTitle','tabindex':'0','html':'My organization'});userPopoutTitleDiv.insertBefore(jQuery('#header #logout_user #logout_pop #userPath'));jQuery('#header #login_pop_container .close').on('click',function(e){header.closeLoginPopout();});jQuery('#header #logout_pop .close').on('click',function(e){header.closeLogoutPopout();});var logoutLink=jQuery('#logout-panel #logout_logoutlink');logoutLink.appendTo(jQuery('#header #logout_pop #userPath'));logoutLink.css("display","inline-block");if(jQuery('#logout_user').length>0){jQuery("#header .personalAccess a").removeClass("not-signed-in-user-link");if(jQuery('#CARS_SETTINGS_TEMPLATE #settings-panel').contents().length===0){header.getMyScopusLinkData();}else{header.formProfileAccessLinks();}
if(!jQuery("#broughtToYouCnt .libraryBannerCont>#banner-top").length>0){jQuery("#broughtToYouCnt .libraryBannerCont").remove();}
if(!jQuery("#broughtToYouCnt .librCatl>a").length>0){jQuery("#broughtToYouCnt .librCatl").remove();}
if(!jQuery("#broughtToYouCnt li").length>0){jQuery("#broughtToYouCnt").parent().remove();}}
jQuery(".not-signed-in-user-link").on("click",function(){if(!jQuery('#login_pop_container').hasClass('CARS_displayInline')){jQuery("#header #login_loginlink")[0].onclick();jQuery("#header #login_loginlink").click();jQuery("#header #login_loginlink")[0].onclick();}})
jQuery("#logout_username_expand,#logout_username_collapse").hover(function(){jQuery("#logout_username,#logout_text_content").addClass("hovered");},function(){jQuery("#logout_username,#logout_text_content").removeClass("hovered");});jQuery("#logout_username_link").on('focus',function(){jQuery("#logout_username,#logout_text_content").addClass("hovered");}).on('blur',function(){jQuery("#logout_username,#logout_text_content").removeClass("hovered");});var isIE=header.detectIE();if(isIE){jQuery("#header li.regLnk").addClass("ieSpecific");jQuery("#header").addClass("ie");}
jQuery("#header #login_submit_btn").on("click",function(e){var errorCount=0;var focusInput=null;jQuery("#errorMsgContainerAlert").remove();var accessibileAlertDiv=jQuery('<div>',{'id':'errorMsgContainerAlert','role':'alert','aria-atomic':'true','aria-live':'assertive'});if(!jQuery("#header #username").val()){accessibileAlertDiv.append("username field is empty");errorCount++;focusInput=jQuery('#header #login_pop_container #username');if(jQuery('#userNameError').hasClass("displayNone")){jQuery("#userNameError").removeClass("displayNone").insertAfter(jQuery('#header #login_username'));}}else{if(!jQuery('#userNameError').hasClass("displayNone")){jQuery('#userNameError').addClass("displayNone");}}
if(!jQuery("#header #login_password-password,#header #password").val()){accessibileAlertDiv.append("password field is empty");errorCount++;if(focusInput===null){focusInput=jQuery('#header #login_pop_container #password,#header #login_pop_container #login_password-password');}
if(jQuery('#passwordError').hasClass("displayNone")){jQuery("#passwordError").removeClass("displayNone").insertAfter(jQuery('#header #login_password'));}}else{if(!jQuery('#passwordError').hasClass("displayNone")){jQuery('#passwordError').addClass("displayNone");}}
if(errorCount>0){jQuery("body").prepend(accessibileAlertDiv);focusInput.focus();e.preventDefault();}});jQuery("#header #logout_username,#header #logout_text_content").on("click",function(e){if(!jQuery('#logout_pop').hasClass('CARS_displayInline')){jQuery("#header #logout_username_link")[0].onclick();jQuery("#header #logout_username_link").click();jQuery("#header #logout_username_link")[0].onclick();}else{header.closeLogoutPopout();}});jQuery(".userOptionCnt>a").on("click",function(e){var otherAccordians=jQuery(".userOptionCnt>a").not(this);otherAccordians.each(function(index){if(jQuery(this).hasClass("expanded")){jQuery(this).removeClass("expanded").addClass("collapsed").attr("aria-expanded","false");jQuery(this).next().addClass("spineAccordianCollapsed");}});});jQuery("#logout_username,#logout_text_content").hover(function(){jQuery("#logout_username_link").addClass("hovered");},function(){jQuery("#logout_username_link").removeClass("hovered");});var keysdown={};var keyPressed=false;jQuery(".toggleIcon").keydown(function(e){if(keysdown[e.keyCode]){return;}
keysdown[e.keyCode]=true;if(e.keyCode===13){keyPressed=true;_this.toggleMenu();}else{keyPressed=false;}});jQuery(document).keyup(function(e){delete keysdown[e.keyCode];keyPressed=false;});});jQuery("#sourceBrowseId").on('click',function(event){if(typeof(Storage)!=="undefined"){localStorage.setItem("tabClicked","Search for a source");}});var scopusTab={isAjaxSuccess:false,firstTimeout:false,secondTimeout:false,timer:0,menuItems:[],loadDivContainer:"",loadingText1:"",loadingText2:"",buildTab:function(data,level){var objDIV=jQuery('<div >',{"class":"tabFunc"});var objUL=jQuery('<ul>',{'role':'tablist'});var objDivFrstTabCnt=jQuery('<div>');objDIV.append(objUL);jQuery.each(data,function(index,item){if(item.objTitleCount>0||item.objTitleCount==-1||item.objTitleCount==-2){var divCnt=[item.objTabTitle];if(item.objTitleCount==-2){divCnt.push('<span class="tabTitleCount">(0)</span>');}else if(item.objTitleCount!=-1){divCnt.push('<span class="tabTitleCount">(',item.objTitleCount,')</span>');}
var divObj=jQuery('<div>',{html:divCnt.join('')});var tabId=item.hasOwnProperty("reference")?item.reference:level+"-"+index;var tabToolTip=item.hasOwnProperty("toolTip")?item.toolTip:item.objTabTitle;var aObj=jQuery('<a>',{"href":"#lvl"+level+"Tab"+index,"id":"a"+tabId,"data-id":tabId,"title":tabToolTip,'role':'presentation'}).append(divObj);var objLI=jQuery('<li>',{'id':tabId,'role':'tab'}).append(aObj);objUL.append(objLI);var divfrstLvlTabCnt=jQuery('<div>',{"class":"secndLvlTabs",id:"lvl"+level+"Tab"+index,'role':'tabpanel','aria-labelledby':tabId});if(item.hasOwnProperty('objSubTabTitle')&&item.objSubTabTitle.length>0){var objSubTab=scopusTab.buildTab(item.objSubTabTitle,2);divfrstLvlTabCnt.append(objSubTab);}
divfrstLvlTabCnt.append(jQuery('#'+item.objCntHoldID));objDIV.append(divfrstLvlTabCnt);}});objDIV.append(objDivFrstTabCnt.html());objDIV.append('<div class="clear"></div>');return objDIV;},buildTotalRow:function(tableID,firstColValue,totalUrl,totalDocuments,urlTitle){var tableObj=jQuery('#'+tableID+' tr:last-child').parent('tbody');var rowObj=jQuery("<tr>");var firstCellObj=jQuery("<td>",{html:firstColValue,title:firstColValue});var secondCellObj=jQuery("<td>");var totalLinkObj=totalUrl==''?jQuery("<a>",{'html':totalDocuments,'class':'previewTxt','title':urlTitle}):jQuery("<a>",{'html':totalDocuments,'title':urlTitle,'href':totalUrl});secondCellObj.append(totalLinkObj);rowObj.append(firstCellObj);rowObj.append(secondCellObj);tableObj.append(rowObj);},buildAnchorTag:function(htmlContent,url,urlTitle){var anchorObj=["<a href='",url,"' title='",urlTitle,"'>",htmlContent,"</a>"];return anchorObj.join('');},buildPreviewAnchorTag:function(htmlContent,urlTitle){var anchorObj=["<a "];anchorObj.push(" class='previewTxt' ");anchorObj.push("title='",urlTitle,"'>",htmlContent,"</a>");return anchorObj.join('');},enableDisableTab:function(enable,tabIndexArray){if(enable){jQuery(".tabFunc").tabs({"disabled":[],active:0});scopusTab.setAriaForTab(0);}else{jQuery(".tabFunc").tabs({collapsible:true,active:-1,"disabled":tabIndexArray});}},adjustTableHead:function(){$(".tabFunc").bind('tabsshow',function(event,ui){var tableObj=$('div.dataTables_scrollBody>table:visible',ui.panel).dataTable();tableObj.fnAdjustColumnSizing(false);});},calcContHeightWithMfactor:function(mfactor){var windowWidth=jQuery(window).width();var windowHeight=jQuery(window).height();windowHeight=windowHeight<768?768:windowHeight;return(windowHeight*mfactor);},hideOnTime:function(){if(scopusTab.isAjaxSuccess){scopusTab.hideLoadingOverlay();scopusTab.loadingText1="";scopusTab.loadingText2="";}
else if(!scopusTab.firstTimeout){scopusTab.firstTimeout=true;scopusTab.loadingTimeout=setTimeout(scopusTab.hideOnTime,3000);}
else{jQuery('.loadingInnerText').html(scopusTab.loadingText2);scopusTab.secondTimeout=true;}},showLoadingOverlay:function(){var loadContainer=jQuery('#'+scopusTab.loadDivContainer);if(loadContainer.length){var scrollTop=$(window).scrollTop(),divOffset=loadContainer.offset().top,overlayTop=(divOffset-scrollTop);overlayTop=overlayTop>0?overlayTop:0;var modalDiv=jQuery('<div>',{'class':'ui-widget-overlay contOpacity','id':"loadingModalDiv",'style':'top:'+overlayTop});if(overlayTop==0){modalDiv.css("height",'100%');}
var divObj=jQuery('<div>',{'class':'loadingTableAndChart loadingImageAndTitle','id':'loadingContentContainer'});var innerTextObj=jQuery('<div>',{'class':'loadingInnerText','text':scopusTab.loadingText1});divObj.append(innerTextObj);loadContainer.append(divObj).append(modalDiv);jQuery('body').css("overflow",'hidden');}},hideLoadingOverlay:function(){jQuery('body').css("overflow",'auto');jQuery('#loadingModalDiv').remove();jQuery('#loadingContentContainer').remove();scopusTab.isAjaxSuccess=false;scopusTab.firstTimeout=false;scopusTab.secondTimeout=false;},showHideLoading:function(params){if(jQuery.type(params)!="undefined"&&scopusTab.loadingText1==""&&params.hasOwnProperty("loadingText1")){scopusTab.loadingText1=params.loadingText1;if(params.hasOwnProperty("loadingText2")){scopusTab.loadingText2=params.loadingText2;}
if(params.hasOwnProperty("loadDivContainer")){scopusTab.loadDivContainer=params.loadDivContainer;}}
if(scopusTab.secondTimeout){scopusTab.hideLoadingOverlay();scopusTab.secondTimeout=false;scopusTab.loadingText1="";scopusTab.loadingText2="";}else{var loadingContentContainer=jQuery("#loadingContentContainer");if(loadingContentContainer.length<=0){scopusTab.showLoadingOverlay();jQuery('.loadingTableAndChart').show();scopusTab.isAjaxSuccess=false;scopusTab.loadingTimeout=setTimeout(function(){scopusTab.hideOnTime();clearInterval(scopusTab.setInterval);},2000);}else{scopusTab.isAjaxSuccess=true;if(scopusTab.firstTimeout){scopusTab.hideOnTime();clearTimeout(scopusTab.loadingTimeout);}}}},showHideLoadingContainer:function(params){if(jQuery.type(params)!="undefined"&&scopusTab.loadingText1==""&&params.hasOwnProperty("loadingText1")){scopusTab.loadingText1=params.loadingText1;if(params.hasOwnProperty("loadingText2")){scopusTab.loadingText2=params.loadingText2;}
if(params.hasOwnProperty("loadDivContainer")){scopusTab.loadDivContainer=params.loadDivContainer;}}
if(scopusTab.secondTimeout){scopusTab.hideLoadingOverlay();scopusTab.secondTimeout=false;scopusTab.loadingText1="";scopusTab.loadingText2="";}else{var loadingContentContainer=jQuery("#loadingContentContainer");if(loadingContentContainer.length<=0){scopusTab.showLoadingOverlay();jQuery('.loadingTableAndChart').show().css({'top':'10%',"left":"50%"});scopusTab.isAjaxSuccess=false;scopusTab.loadingTimeout=setTimeout(function(){scopusTab.hideOnTime();clearInterval(scopusTab.setInterval);},2000);}else{scopusTab.isAjaxSuccess=true;if(scopusTab.firstTimeout){scopusTab.hideOnTime();clearTimeout(scopusTab.loadingTimeout);}}}},init:function(tableHdrWidth){var objTab=scopusTab.buildTab(scopusTab.menuItems,1);jQuery(".firstLvlTabs").append(objTab);if(tableHdrWidth){jQuery(".tabFunc").tabs({"show":function(event,ui){var oTable=jQuery('div.dataTables_scrollBody>table.display',ui.panel).dataTable();if(oTable.length>0){oTable.fnAdjustColumnSizing();}}});}
jQuery(".tabFunc").tabs({select:function(event,ui){jQuery('div.firstLvlTabs ul li a').attr('aria-selected','false');jQuery(ui.tab).attr('aria-selected','true');Bubble.hideAll(event);}});scopusTab.setAriaForTab(0);},setAriaForTab:function(tabIndex){jQuery('div.firstLvlTabs ul li a').attr('aria-selected','false');jQuery('div.firstLvlTabs ul li:nth-child('+(++tabIndex)+') a').attr('aria-selected','true');}};var chartExport={exportObjId:"export_results",hrefVal:'#exportChart',exportBubbleClose:function(e){e["data"]={elementId:this.exportObjId};Bubble.hide(e);},linkNav:[],buildExportBubble:function(){var linkNavSize=chartExport.linkNav.length;var divObj=jQuery("<div>",{"id":this.exportObjId+'-data',"class":"bubble-source-data"});var ulObj=jQuery("<ul>",{'id':'expLinkNav'});divObj.append(ulObj);for(var i=0;i<linkNavSize;i++){var navLinkClass="exportLinkNormal";var navObj=chartExport.linkNav[i];var liObj=jQuery("<li>",{"id":'row'+i});var aObj=jQuery("<a>",{"id":navObj.id,href:"#"+navObj.value,"class":navLinkClass,"title":navObj.title,"html":navObj.text,"onClick":navObj.clickFn});liObj.append(aObj);ulObj.append(liObj);}
jQuery("#"+this.exportObjId).parent().append(divObj);jQuery('body').off("click.hideExpBubble").on('click.hideExpBubble',function(e){Bubble.hideAll(e);});this.enableLink();jQuery(".exportPrintEmailLinkSec").on('focus',"#bubble-export_results",{'elementId':'export_results'},chartEmail.hideOnFocusOut);},disableLink:function(){var exportLink=jQuery("#"+this.exportObjId);var exportLinkParent=exportLink.unbind("click").bind("click",function(e){e.preventDefault();jQuery(e.target).blur();}).parent("div");if(!exportLinkParent.hasClass("lnkDisabled")){exportLinkParent.addClass("lnkDisabled");}
exportLink.removeAttr("href");},enableLink:function(){var exportLink=jQuery("#"+this.exportObjId);exportLink.parent("div").removeClass("lnkDisabled");exportLink.unbind("click").bind("click",{position:Bubble.positionCenter,setDataBack:true},Bubble.showBubble);exportLink.attr("href",chartExport.hrefVal);}};var chartEmail={emailWaterMark:"",emailTitle:"",emailUsrTitle:"",emailWaterMarkUserMail:"",emailBubbleHeader:"",emailBubbleDesc:"",emailBubbleDescUserMail:"",emailFormatLabel:"",emailFormatValue:"",sendButtonLabel:"",sendButtonTitle:"",closeButtonTitle:"",userMailId:"",emailFormatValueHTML:"",emailFormatValueTEXT:"",hrefVal:'#emailLink',loggedInUser:false,affilAuthEmailPopup:false,formAction:'',privacyPolicy:'',privacyPolicyToolTip:'',sendButtonClick:function(e){e.preventDefault();},removeEmailErrMsg:function(){jQuery('#errorMsgContainer').remove();},closeButtonClick:function(e){e.preventDefault();Bubble.hide(e);chartEmail.removeEmailErrMsg();},hideOnFocusOut:function(event){jQuery('body').die("focus.email").live('focus.email',{'elementId':event.data.elementId},chartEmail.hideBubble);},hideBubble:function(event){Bubble.hideAll(event);var elementId=event.data.elementId;if(!jQuery(event.target).closest('#'+elementId)[0]&&!jQuery(event.target).closest('#bubble-'+elementId)[0]){jQuery('body').die("focus.email");}},emailFormSubmit:function(event){event.preventDefault();jQuery('#sendButton').click();},buildEmailBubble:function(obj){var objId=jQuery(obj).attr("id");if(typeof objId=="undefined"){jQuery(obj).attr("id","emailChart");objId="emailChart";}
var divObj=jQuery("<div>",{id:objId+'-data',"class":"bubble-source-data"});var cntDivObj=jQuery("<div>",{"class":"cntEmailBubble"});var clsAncObj=jQuery("<a>",{"href":"#","alt":"","title":this.closeButtonTitle,"class":"clsEmailBubble"});var formObj=jQuery("<form>",{id:'emailForm','onsubmit':'chartEmail.emailFormSubmit(event);'});var headerDivObj=jQuery("<div>",{"class":"emailHeader","html":this.emailBubbleHeader});var desvDivObj=jQuery("<div>",{"class":"emailDesc","html":this.emailBubbleDesc});var inputDivObj=jQuery("<div>",{"class":"addBackgroundWhiteEmail"});var inputObj=jQuery("<input>",{id:'emailId',title:this.emailTitle,name:'emailId',type:'text',"class":'defaultWaterMark'});inputDivObj.append(inputObj);var userInputDivObj=jQuery("<div>",{"class":"addBackgroundWhiteEmail"});var formatDivObj=jQuery("<div>",{"class":"emailformat"});var fmtLblObj=jQuery("<label>",{"class":"emailformatLbl",html:this.emailFormatLabel});if(this.affilAuthEmailPopup){var userDescDivObj=jQuery("<div>",{"class":"emailDesc","html":this.emailBubbleDescUserMail});var userInputObj=jQuery("<input>",{id:'userEmailId',title:this.emailUsrTitle,name:'userEmailId',type:'text',"class":'defaultWaterMark'});userInputDivObj.append(userInputObj);var spanRadiobtn=jQuery("<span>",{"class":"custom-radioBtn htmlAndText"});var htmlFmtSpanObj=jQuery("<input>",{"type":"radio","id":"frmtHTML","name":"emailFrmt","title":this.emailFormatValueHTML,"checked":"checked","value":this.emailFormatValueHTML});var htmlFmtLabelObj=jQuery("<label>",{"for":"frmtHTML","id":"emailFrmtHTML","html":this.emailFormatValueHTML});var textFmtSpanObj=jQuery("<input>",{"type":"radio","id":"frmtTEXT","name":"emailFrmt","title":this.emailFormatValueTEXT,"value":this.emailFormatValueTEXT});var textFmtLabelObj=jQuery("<label>",{"for":"frmtTEXT","id":"emailFrmtTEXT","html":this.emailFormatValueTEXT});var spanRadioCircle=jQuery("<span>",{"class":"circle"});var spanRadioDot=jQuery("<span>",{"class":"dot"});var objRadioBtn=spanRadioCircle.append(spanRadioDot);var objHTMLRadio=spanRadiobtn.clone().append(htmlFmtSpanObj).append(objRadioBtn.clone());var objTEXTRadio=spanRadiobtn.clone().append(textFmtSpanObj).append(objRadioBtn.clone());formatDivObj.append(fmtLblObj).append(objHTMLRadio).append(htmlFmtLabelObj).append(objTEXTRadio).append(textFmtLabelObj);}else{var fmtSpanObj=jQuery("<span>",{"class":"emailformatSpan",html:this.emailFormatValue});formatDivObj.append(fmtLblObj).append(fmtSpanObj);}
var buttonDivObj=jQuery("<div>",{"class":"emailButtons"});var buttonObj=jQuery("<input>",{"id":"sendButton","type":"button","class":"btnEnable","disabled":"disabled","value":this.sendButtonLabel,"title":this.sendButtonTitle});buttonDivObj.append(buttonObj);if(this.affilAuthEmailPopup){var headerDivObjAuthAffil=jQuery("<div>",{"class":"emailHeader"});var objDivEmailCnt=jQuery('<div>',{"class":"emailHdrTxtPos","html":this.emailBubbleHeader});var privPolDiv=jQuery('<div>',{"class":"emailPravicyPol"});var anchPrivPol=jQuery('<a>',{"class":"txtSmaller","href":"../../https@www.elsevier.com/locate/privacypolicy","title":this.privacyPolicyToolTip,"target":"_blank","html":this.privacyPolicy});var privPolClear=jQuery('<div>',{"class":"clear"});privPolDiv.append(anchPrivPol);headerDivObjAuthAffil.append(objDivEmailCnt).append(privPolDiv).append(privPolClear);formObj.append(headerDivObjAuthAffil).append(desvDivObj).append(inputDivObj).append(userDescDivObj).append(userInputDivObj).append(formatDivObj).append(buttonDivObj);}else{formObj.append(headerDivObj).append(desvDivObj).append(inputDivObj).append(formatDivObj).append(buttonDivObj);}
var clearDivObj=jQuery("<div>",{"class":"clear"});cntDivObj.append(clsAncObj).append(formObj).append(clearDivObj);divObj.append(cntDivObj);jQuery('body').die("click").live('click',{'elementId':'emailChart'},chartEmail.hideBubble);this.enableLink(obj);obj.unbind("click").bind("click",function(e){e["data"]={position:Bubble.positionRight,setDataBack:true};Bubble.showBubble(e);jQuery('#emailId_left').remove();chartEmail.setEmailWaterMark('emailId',chartEmail.emailWaterMark);if(chartEmail.affilAuthEmailPopup){jQuery('#userEmailId_left').remove();chartEmail.setEmailWaterMark('userEmailId',chartEmail.emailWaterMarkUserMail);}
chartEmail.emailBtnEnableDisable();jQuery(".cntEmailBubble a.clsEmailBubble").bind("click",{elementId:objId},chartEmail.closeButtonClick);jQuery("#emailId").focus();if(chartEmail.loggedInUser){jQuery('#userEmailId_left').addClass('displayNone');jQuery('#userEmailId').val(chartEmail.userMailId);}
jQuery("#sendButton").bind("click",{elementId:objId},chartEmail.sendButtonClick);}).parent().append(divObj);jQuery(".exportPrintEmailLinkSec").on('blur',"#bubble-emailChart",{'elementId':'emailChart'},chartEmail.hideOnFocusOut);},setEmailWaterMark:function(inputId,waterMarkText){jQuery('#'+inputId).searchForPlaceholder({left:{enabled:true,value:waterMarkText,type:"simple",classes:"searchForTxt"},right:{enabled:false}});},emailBtnEnableDisable:function(){jQuery('.cntEmailBubble').on('keyup','#emailId',function(event){if(event.keyCode!=9||event.keyCode!=18||event.keyCode!=13){var buttonObj=jQuery(".cntEmailBubble .btnEnable");if(event.type==='keyup'&&!buttonObj.hasClass("btnTxtBgActive")&&jQuery("#emailId").val()!=""){buttonObj.addClass("btnTxtBgActive").removeAttr('disabled');}else if((jQuery("#emailId").val()=="")&&event.type==='keyup'){buttonObj.removeClass("btnTxtBgActive").attr('disabled','disabled');}}});jQuery(".cntEmailBubble").on('paste','#emailId',function(){var buttonObj=jQuery(".cntEmailBubble .btnEnable");setTimeout(function(){buttonObj.addClass("btnTxtBgActive").removeAttr('disabled');},100);});jQuery(".cntEmailBubble").on('cut','#emailId',function(){var buttonObj=jQuery(".cntEmailBubble .btnEnable");setTimeout(function(){if(jQuery("#emailId").val()==""){buttonObj.removeClass("btnTxtBgActive").attr('disabled','disabled');}},100);});jQuery(".cntEmailBubble").on('input propertychange',function(){var buttonObj=jQuery(".cntEmailBubble .btnEnable");if(jQuery("#emailId").val()!=""){buttonObj.addClass("btnTxtBgActive").removeAttr('disabled');}});},disableLink:function(obj){var emailLinkParent=obj.unbind("click").bind("click",function(e){e.preventDefault();jQuery(e.target).blur();}).parent("div");if(!emailLinkParent.hasClass("lnkDisabled")){emailLinkParent.addClass("lnkDisabled");}
obj.removeAttr("href");},enableLink:function(obj,clickCallBack){obj.parent("div").removeClass("lnkDisabled");obj.attr("href",chartEmail.hrefVal);},adjustBubblePosi:function(initialBubbleTop){var newBubbleTop=initialBubbleTop;if(jQuery('#bubble-emailChart')!=undefined){if(newBubbleTop==0){newBubbleTop=jQuery('.icon.email').position().top
+jQuery('.icon.email').height()+4;}
jQuery('#bubble-emailChart').css('top',newBubbleTop);}
return newBubbleTop;}};var MessageContainer={WARNING_MSG:"warningMsgContainer",ERROR_MSG:"errorMsgContainer",INFO_MSG:"infoMsgContainer",CONFIRM_MSG:"confirmMsgContainer",messageType:"",msgContent:"",parentContainerObj:jQuery(".contentContainer"),isReplace:false,removeMessages:function(){var confirmationMessage=jQuery('#confirmMsgContainer');if(confirmationMessage.length>0){jQuery(confirmationMessage).remove();}
var exportSettingsSaveMessage=jQuery('.txtZoneInfoMsgContainer');if(exportSettingsSaveMessage.length>0){jQuery(exportSettingsSaveMessage).remove();}
var warningMessage=jQuery('#warningMsgContainer');if(warningMessage.length>0){jQuery(warningMessage).remove();}
var warningMessageObj=jQuery('.warningMsgContainer');if(warningMessageObj.length>0){jQuery(warningMessageObj).remove();}
var errorMessage=jQuery('#errorMsgContainer');if(errorMessage.length>0){jQuery(errorMessage).remove();}},removeMsgContatiner:function(){if(MessageContainer.messageType){jQuery('#'+MessageContainer.messageType).remove();}},insertMsgContainer:function(){if(MessageContainer.msgContent){MessageContainer.removeMsgContatiner();var messageType=MessageContainer.messageType!=""?MessageContainer.messageType:MessageContainer.INFO_MSG;if(MessageContainer.messageType==MessageContainer.ERROR_MSG){var msgObj=jQuery("<div>",{'id':messageType,'html':'<span class="ariaHidden">Error message</span>','role':'alert','aria-live':'assertive'});}else if(MessageContainer.messageType==MessageContainer.WARNING_MSG){var msgObj=jQuery("<div>",{'id':messageType,'html':'<span class="ariaHidden">Warning message</span>','role':'alert','aria-live':'assertive'});}else if(MessageContainer.messageType==MessageContainer.CONFIRM_MSG){var msgObj=jQuery("<div>",{'id':messageType,'html':'<span class="ariaHidden">Confirmation message</span>','role':'alert','aria-live':'assertive'});}else if(MessageContainer.messageType==MessageContainer.INFO_MSG){var msgObj=jQuery("<div>",{'id':messageType,'html':'<span class="ariaHidden">Information message</span>','role':'alert','aria-live':'assertive'});}
msgObj.append(MessageContainer.msgContent);if(MessageContainer.isReplace){MessageContainer.parentContainerObj.html(msgObj);}else{var parentObj=MessageContainer.parentContainerObj.length>0?MessageContainer.parentContainerObj:jQuery(".contentContainer");parentObj.prepend(msgObj);}}}};var EmailValidation={emailAddressId:"emailId",parentContainerObj:jQuery(".contentContainer"),validate:function(msg){var mailformat=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;var emailAddressObj=jQuery("#"+EmailValidation.emailAddressId);var emailValue=emailAddressObj.val();var noOfAt=(emailValue.match(/@/g)||[]).length;if(!assertNotEmptyString(emailValue)||noOfAt!==1||!mailformat.test(emailValue)){MessageContainer.removeMessages();MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=msg;MessageContainer.parentContainerObj=EmailValidation.parentContainerObj;MessageContainer.insertMsgContainer();return false;}else{return true;}},validateAddr:function(msg,emailAddr){var emailId=$.trim(emailAddr);var noOfAt=(emailId.match(/@/g)||[]).length;var mailformat=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;if(!assertNotEmptyString(emailId)||noOfAt!==1||!mailformat.test(emailId)){MessageContainer.removeMessages();MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=msg;MessageContainer.parentContainerObj=EmailValidation.parentContainerObj;MessageContainer.insertMsgContainer();return false;}else{return true;}},successMsg:function(msg){MessageContainer.removeMessages();var msgObj=jQuery("<div>",{'id':"confirmMsgContainer",'class':"confirmMsgContainer",'html':msg,'role':'alert'});var spanObj=jQuery("<span>");msgObj.prepend(spanObj);EmailValidation.parentContainerObj.prepend(msgObj);}};var ScopusModalEmail={width:630,emailformURL:"",emailFormContent:"",cancelObj:"",submitObj:"",buildForm:function(linkElement,content){var dialogContainer=jQuery("<div>",{id:'dialogForm',"class":"dialogForm"});dialogContainer.append(content);linkElement.parent().append(dialogContainer);$("#dialogForm").dialog({autoOpen:false,dialogClass:'dialogContainer',width:this.width,modal:true,close:function(){}});},emailClick:function(event){event.preventDefault();$("#dialogForm").dialog("open");},getEmailForm:function(linkElement){jQuery.ajax({url:this.emailformURL,dataType:'html',error:function(){},success:function(data){ScopusEmail.buildForm(linkElement,data);}});},formSubmit:function(event){},init:function(linkElement){if(this.emailformURL!=""){this.getEmailForm(linkElement);}else if(this.emailFormContent!=""){ScopusEmail.buildForm(linkElement,this.emailFormContent);}
linkElement.on("click",ScopusEmail.emailClick);}};var ScopusDataTable={fnDrawCallback:function(datatableObj){jQuery(datatableObj.nScrollHead).find('th').each(function(index){if(!jQuery(this).hasClass('sorting_disabled')){var columnName=datatableObj.aoColumns[index].columnTitle;var title=datatableObj.aoColumns[0].fnUnsortedTitle(columnName);if(!jQuery(this).hasClass('sorting')){var ariaLabel=jQuery(this).attr("aria-sort");if(ariaLabel.toLowerCase().contains("descending")){title=datatableObj.aoColumns[0].fnDescTitle(columnName);}else if(ariaLabel.toLowerCase().contains("ascending")){title=datatableObj.aoColumns[0].fnAscTitle(columnName);}}
jQuery(this).attr({title:title});}});}};var ScopusLoginShowHideOptional={buidConatiner:function(parentContainerID,bubbleID){var showOptDiv="<div id='showMoreLgnOpt' class='moreLgnOpts'><a title='"+alertProp.SETALERT_LOGIN_MORE_LOGIN_OPT()+"' href='#' id='MoreLgnOpt'>"+alertProp.SETALERT_LOGIN_MORE_LOGIN_OPT()+"</a><span class='shwColOpt'> &gt;</span></div>";var collapseOptDiv="<div id='collapseOpt' class='moreLgnOpts'><span class='shwColOpt'>&lt; </span><a title='"+alertProp.SETALERT_LOGIN_COLLAPSE_LOGIN_OPT()+"' href='#' id='collLgnOpt'>"+alertProp.SETALERT_LOGIN_COLLAPSE_LOGIN_OPT()+"</a></div>";if(jQuery('#contentWrapper').length){jQuery('#contentWrapper #login_pop_container_logform .CARS_groupTitle').append("<a title='"+alertProp.SETALERT_LOGIN_CLOSE_TOOLTIP()+"' class='closeloginPopup' role='button' href='#' id='closeloginPopup'></a>");}
else{jQuery('main #login_pop_container_logform .CARS_groupTitle').append("<a title='"+alertProp.SETALERT_LOGIN_CLOSE_TOOLTIP()+"' class='closeloginPopup' role='button' href='#' id='closeloginPopup'></a>");}
if(jQuery('#'+parentContainerID+' #showMoreLgnOpt').length){jQuery('#'+parentContainerID+' #showMoreLgnOpt').remove();}
jQuery('#'+parentContainerID+' #login_pop_container_logform #login_forgot_pass').after(showOptDiv);jQuery('#'+parentContainerID+' #MoreLgnOpt').live('click',function(e){jQuery('#'+parentContainerID+' #bubble-'+bubbleID+' #login_pop_container_socialform').css({'display':'inline-block'});jQuery('#'+parentContainerID+' #showMoreLgnOpt').hide();if(jQuery('#'+parentContainerID+' #collapseOpt').length){jQuery('#'+parentContainerID+' #collapseOpt').remove();}
if(jQuery('#'+parentContainerID+' #social_providers').length){jQuery('#'+parentContainerID+' #login_pop_container_socialform #social_providers').after(collapseOptDiv);}
else{jQuery('#'+parentContainerID+' #login_pop_container_socialform #login_remote_access').after(collapseOptDiv);}
e.preventDefault();});jQuery('#'+parentContainerID+' #collLgnOpt').live('click',function(e){jQuery('#'+parentContainerID+' #bubble-'+bubbleID+' #login_pop_container_socialform').css({'display':'none'});jQuery('#'+parentContainerID+' #showMoreLgnOpt').show();e.preventDefault();});}};var ScopusLoginShowHideOptionalLeft={buidConatinerLeft:function(parentContainerID,bubbleID){var setBubbleRightpos=165+22;jQuery('#'+parentContainerID+' .altmet_citationalert_iconLink .bubble .bubble-content').addClass('showBubbleLeft');jQuery('#'+parentContainerID+' .altmet_citationalert_iconLink .bubble .bubble-content').css({'margin-left':''});var showOptDiv="<div id='showMoreLgnOptLeft' class='moreLgnOptsLeft'><span class='shwColOpt'> &lt;</span> <a title='"+alertProp.SETALERT_LOGIN_MORE_LOGIN_OPT()+"' href='#' id='MoreLgnOptLeft'>"+alertProp.SETALERT_LOGIN_MORE_LOGIN_OPT()+"</a></div>";var collapseOptDiv="<div id='collapseOptLeft' class='moreLgnOptsLeft'><a title='"+alertProp.SETALERT_LOGIN_COLLAPSE_LOGIN_OPT()+"' href='#' id='collLgnOptLeft'>"+alertProp.SETALERT_LOGIN_COLLAPSE_LOGIN_OPT()+"</a> <span class='shwColOpt'>&gt; </span></div>";jQuery('#contentWrapper #login_pop_container_logform .CARS_groupTitle').append("<a title='"+alertProp.SETALERT_LOGIN_CLOSE_TOOLTIP()+"' class='closeloginPopup' role='button' href='#' id='closeloginPopup'></a>");if(jQuery('#'+parentContainerID+' #showMoreLgnOptLeft').length){jQuery('#'+parentContainerID+' #showMoreLgnOptLeft').remove();}
jQuery('#'+parentContainerID+' #login_pop_container_logform #login_forgot_pass').after(showOptDiv);jQuery('#'+parentContainerID+' #MoreLgnOptLeft').live('click',function(e){var popupLoginForm=jQuery('#'+parentContainerID+' #bubble-'+bubbleID+' #login_pop_container_logform');var popupSocialForm=jQuery('#'+parentContainerID+' #bubble-'+bubbleID+' #login_pop_container_socialform');var popupSocialFormCnt=popupSocialForm.outerHTML();popupSocialForm.remove();jQuery(popupLoginForm).before(popupSocialForm);popupSocialForm.css({'display':'inline-block'});jQuery('#'+parentContainerID+' .altmet_citationalert_iconLink .bubble .bubble-content').css({'margin-left':'-'+setBubbleRightpos+'px'});jQuery('#'+parentContainerID+' #showMoreLgnOptLeft').hide();if(jQuery('#'+parentContainerID+' #collapseOptLeft').length){jQuery('#'+parentContainerID+' #collapseOptLeft').remove();}
if(jQuery('#'+parentContainerID+' #social_providers').length){jQuery('#'+parentContainerID+' #login_pop_container_socialform  #social_providers').after(collapseOptDiv);}
else{jQuery('#'+parentContainerID+' #login_pop_container_socialform #login_remote_access').after(collapseOptDiv);}
e.preventDefault();});jQuery('#'+parentContainerID+' #collLgnOptLeft').live('click',function(e){jQuery('#'+parentContainerID+' #bubble-'+bubbleID+' #login_pop_container_socialform').css({'display':'none'});jQuery('#'+parentContainerID+' #showMoreLgnOptLeft').show();jQuery('#'+parentContainerID+' .altmet_citationalert_iconLink .bubble .bubble-content').css({'margin-left':'0px'});e.preventDefault();});},removeBubbleMargin:function(parentContainerID){jQuery('#'+parentContainerID+' .altmet_citationalert_iconLink .bubble .bubble-content').css({'margin-left':''});}};var submitAlert={alertConfirmationMessage:'',alertIdentifier:'',alertType:'',alertFornName:'',checkforDuplicateNames:function(pageName){var param={"loadingText1":alertProp.alert.setup.loading.text(),"loadingText2":alertProp.alert.setup.loading.text(),"loadDivContainer":"outerWrapper"};var d=new Date();var gmtOffset=-(d.getTimezoneOffset()/60);jQuery("form[name = "+submitAlert.alertFornName+"] input[name='gmtOffset']").val(gmtOffset);var emptyFldmsg=alertProp.alert.error.mandatory.setalertpopup.js();var name=jQuery('form[name = '+submitAlert.alertFornName+'] #name').val();var email=jQuery('form[name = '+submitAlert.alertFornName+'] #emailAddressTextarea').val();if(!name||!email){MessageContainer.messageType=MessageContainer.ERROR_MSG;MessageContainer.msgContent=emptyFldmsg;MessageContainer.parentContainerObj=jQuery(".alertPopupErrMsg");MessageContainer.insertMsgContainer();if(name==''){jQuery('#name').focus();}
else if(email==""){jQuery('#emailAddressTextarea').focus();}
scopusTab.hideLoadingOverlay();return false;}
else{submitAlert.ShowLoadingoverlay();if(jQuery('input:hidden[name=duplicateAlertName]').length){var previousName=jQuery('input:hidden[name=duplicateAlertName]').val();var currentName=jQuery('#name').val();if(currentName===previousName){jQuery("input:hidden[name=replaceDuplicateTitle]").val("true");}}
submitAlert.handlePopupSubmit(pageName);}},handlePopupSubmit:function(pageName){var alertFormObject=jQuery("#alertPopoutForm");var alertSubmitUrl=alertFormObject.attr("action");var serializedFormContent=alertFormObject.serialize();var alertResponse=jQuery.post(alertSubmitUrl,serializedFormContent);jQuery('input[name="alertSubmitButton"]').attr("disabled","disabled");alertResponse.done(function(response){var alertPopupJson=response;if(alertPopupJson.hasOwnProperty("confirmationMessage")){var e={data:{elementId:submitAlert.alertIdentifier}};Bubble.hide(e);MessageContainer.messageType=MessageContainer.CONFIRM_MSG;MessageContainer.msgContent=submitAlert.alertConfirmationMessage;MessageContainer.parentContainerObj=jQuery("#clusterMessages");MessageContainer.insertMsgContainer();if(jQuery('.itemListsUL.selectedBg').length){submitAlert.showHideListLnkBgOnClose();submitAlert.showHideListLnkBg();}
if(typeof pageName!='undefined'&&pageName=='jMetrics'){var confObj=jQuery('#confirmMsgContainer');confObj.append("<a title='close' aria-label='close' data-dismiss='alert' class='iconSmall close' href='#'><span class='hidden-label'>Close</span>&nbsp;</a>");confObj.addClass('alert');}}else if(alertPopupJson.hasOwnProperty("errorMessage")){MessageContainer.messageType=MessageContainer.ERROR_MSG;if(alertPopupJson.hasOwnProperty("errorCode")&&alertPopupJson.errorCode=="alert.error.popup.duplicate.exists"){jQuery(".alertPopupErrMsg").append("<input type='hidden' name='duplicateAlertName' value='"+alertPopupJson.errorMessage+"' />");MessageContainer.msgContent=alertProp.alert.error.popup.duplicate.exists();}else{MessageContainer.msgContent=alertPopupJson.errorMessage;}
MessageContainer.parentContainerObj=jQuery(".alertPopupErrMsg");MessageContainer.insertMsgContainer();}else{jQuery('#setAlertContent').html(alertPopupJson);setinitialValuesonTextArea();jQuery('#frequency').bind('change',function(){setFrequency('change');});}
jQuery('input[name="alertSubmitButton"]').removeAttr('disabled');submitAlert.ShowLoadingoverlay();scopusTab.hideLoadingOverlay();});return false;},showHideListLnkBg:function(){if(jQuery('.itemListsUL li[data-hover="false"]').hasClass('lstRowHover')){jQuery('.itemListsUL li[data-hover="false"]').removeClass('lstRowHover');jQuery('.itemListsUL li[data-hover="false"] div.listItemLinkRow').removeAttr('style');}},showHideListLnkBgOnClose:function(){if(jQuery('.itemListsUL li[data-hover="true"]').hasClass('lstRowHover')&&jQuery('.itemListsUL li[data-hover="true"] div.linkRow').css('visibility')=='visible'){jQuery('.itemListsUL li[data-hover="true"]').removeClass('listItemHover lstRowHover');jQuery('.itemListsUL li[data-hover="true"] div.listItemLinkRow').removeAttr('style');}
else if(jQuery('.itemListsUL li[data-hover="true"]').hasClass('lstRowHover')){jQuery('.itemListsUL li[data-hover="true"]').removeClass('listItemHover lstRowHover');jQuery('.itemListsUL li[data-hover="true"] div.listItemLinkRow').removeAttr('style');}},ShowLoadingoverlay:function(){var param={"loadingText1":alertProp.alert.setup.loading.text(),"loadingText2":alertProp.alert.setup.loading.text(),"loadDivContainer":"outerWrapper"};scopusTab.showHideLoadingContainer(param);var topPos=jQuery(window).height()/2;var leftPos=jQuery(window).width()/2;jQuery('.loadingTableAndChart').show().css({'top':topPos,'left':leftPos});},setEllipsisQuery:function(){var queryCntHeight=jQuery(".queryCnt").height();var queryCntFontHeight=jQuery(".queryCnt").css("font-size");var queryCntTotalHeight=Math.ceil(queryCntHeight/parseInt(queryCntFontHeight));if(queryCntTotalHeight>4){jQuery(".queryCnt").addClass('lineClamp lineClampLineNumb');}}};jQuery.fn.outerHTML=function(s){if(this.length==0)return false;var elem=this[0],name=elem.tagName.toLowerCase();if(elem.outerHTML)return elem.outerHTML;var attrs=jQuery.map(elem.attributes,function(i){return i.name+'="'+i.value+'"';});return"<"+name+(attrs.length>0?" "+attrs.join(" "):"")+">"+elem.innerHTML+"</"+name+">";};